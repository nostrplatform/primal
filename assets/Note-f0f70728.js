var De=Object.defineProperty;var g=(e,l)=>De(e,"name",{value:l,configurable:!0});import{h as G,a_ as fe,g as te,j as u,ai as Fe,c as r,l as x,m as n,V as Pe,J as Be,s as E,S as A,t as S,B as ge,d as re,bB as le,A as j,bN as We,ad as Ge,u as he,C as X,E as ve,q,k as ee,a3 as Ke,aY as Ve,ak as J,am as Je,e as de,x as je,F as He,b3 as _e,r as Oe,o as qe,D as Ye,M as ne,H as Qe,bk as ze,bE as Xe,dG as et,bR as tt,bO as nt,dH as ot,bi as oe}from"./index-64dc6460.js";import{s as t,g as Ue,i as ie,N as ue}from"./ParsedNote-9900e3c8.js";import{a as $e,v as it}from"./dates-9bcb2bf7.js";const at=S("<span>"),st=S("<div><span></span><span><div>"),rt=S("<div>"),dt=g(e=>(fe(),te(),(()=>{const l=st(),b=l.firstChild,p=b.nextSibling,y=p.firstChild;return u(b,()=>Fe(e.author)),u(l,r(Pe,{get user(){return e.author},get fallback(){return(()=>{const v=rt();return x(()=>n(v,t.verificationFailed)),v})()}}),p),u(l,r(A,{get when(){return e.author.nip05},get children(){const v=at();return u(v,()=>Be(e.author)),x(s=>{const i=t.verification,o=e.author.nip05;return i!==s._v$&&n(v,s._v$=i),o!==s._v$2&&E(v,"title",s._v$2=o),s},{_v$:void 0,_v$2:void 0}),v}}),p),u(p,()=>$e(e.time).label,null),x(v=>{const s=t.authorInfo,i=t.userName,o=t.time,f=$e(e.time).date.toLocaleString(),h=t.ellipsisIcon;return s!==v._v$3&&n(l,v._v$3=s),i!==v._v$4&&n(b,v._v$4=i),o!==v._v$5&&n(p,v._v$5=o),f!==v._v$6&&E(p,"title",v._v$6=f),h!==v._v$7&&n(y,v._v$7=h),v},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),l})()),"NoteAuthorInfo"),Ae=G(dt),ut=S("<div><div></div><span><span>"),ct=g(e=>{const l=te(),b=ge(),p=g(()=>e.note?.repost,"repost"),y=g(()=>Fe(p()?.user),"reposterName"),v=g(()=>{const s=e.note?.post.reposts||0;return s>0?s-1:0},"others");return(()=>{const s=ut(),i=s.firstChild,o=i.nextSibling,f=o.firstChild;return u(o,r(j,{get href(){return b?.actions.profileLink(p()?.user.npub)||""},get children(){return[re(()=>y()),re(()=>l.formatMessage(le.repostedOthers,{number:v()}))]}}),f),u(f,()=>l.formatMessage(le.reposted)),x(h=>{const a=t.repostedBy,w=t.repostIcon;return a!==h._v$&&n(s,h._v$=a),w!==h._v$2&&n(i,h._v$2=w),h},{_v$:void 0,_v$2:void 0}),s})()},"NoteRepostHeader"),lt=G(ct),vt=S("<span><span></span>&nbsp;"),_t=g(e=>{const l=te(),b=re(()=>{const p=e.note.replyTo,y=e.note.mentionedNotes;if(p&&y&&y[p])return y[p].user});return r(A,{get when(){return e.note.replyTo},get children(){const p=vt(),y=p.firstChild;return y.nextSibling,u(y,()=>l.formatMessage(le.reply)),u(p,r(We,{get user(){return b()}}),null),x(v=>{const s=t.replyingTo,i=t.label;return s!==v._v$&&n(p,v._v$=s),i!==v._v$2&&n(y,v._v$2=i),v},{_v$:void 0,_v$2:void 0}),p}})},"NoteReplyHeader"),Re=G(_t),$t="_header_p3s0n_1",ft="_headerInfo_p3s0n_10",gt="_avatar_p3s0n_16",ht="_avatarImg_p3s0n_22",mt="_postInfo_p3s0n_27",Ct="_verification_p3s0n_38",bt="_userInfo_p3s0n_44",Zt="_userName_p3s0n_50",pt="_primary_p3s0n_58",xt="_time_p3s0n_61",yt="_replyingTo_p3s0n_65",kt="_label_p3s0n_70",It="_author_p3s0n_73",Mt="_contextMenu_p3s0n_80",St="_contextButton_p3s0n_89",wt="_contextIcon_p3s0n_105",Tt="_ellipsisIcon_p3s0n_116",W={header:$t,headerInfo:ft,avatar:gt,avatarImg:ht,postInfo:mt,verification:Ct,userInfo:bt,userName:Zt,primary:pt,time:xt,replyingTo:yt,label:kt,author:It,contextMenu:Mt,contextButton:St,contextIcon:wt,ellipsisIcon:Tt},Nt=S("<span>"),zt=S("<div><div><div></div><div><div><span>"),At=g(e=>{const l=te(),b=Ge(),p=he(),y=ge(),[v,s]=X(!1),[i,o]=X(!1),[f,h]=X(!1),a=g(()=>e.note.user?e.note.user?.displayName||e.note.user?.name||Ve(e.note.user.npub):Ke(e.note.post.pubkey),"authorName"),w=g(()=>{navigator.clipboard.writeText(`${window.location.origin}/e/${e.note.post.noteId}`),s(!1),b?.sendSuccess(l.formatMessage(J.notePrimalLinkCoppied))},"copyNoteLink"),T=g(()=>{navigator.clipboard.writeText(`${e.note.post.content}`),s(!1),b?.sendSuccess(l.formatMessage(J.notePrimalTextCoppied))},"copyNoteText"),R=g(()=>{navigator.clipboard.writeText(`${e.note.post.noteId}`),s(!1),b?.sendSuccess(l.formatMessage(J.noteIdCoppied))},"copyNoteId"),k=g(()=>{navigator.clipboard.writeText(`${JSON.stringify(e.note.msg)}`),s(!1),b?.sendSuccess(l.formatMessage(J.noteRawDataCoppied))},"copyRawData"),F=g(()=>{navigator.clipboard.writeText(`${e.note.user.npub}`),s(!1),b?.sendSuccess(l.formatMessage(J.noteAuthorNpubCoppied))},"copyUserNpub"),O=g(async()=>{if(!p)return;const{success:N}=await Je(e.note.msg,p.proxyThroughPrimal,p.activeRelays,p.relaySettings);if(s(!1),N){b?.sendSuccess(l.formatMessage(J.noteBroadcastSuccess));return}b?.sendWarning(l.formatMessage(J.noteBroadcastFail))},"broadcastNote"),K=g(N=>{document?.getElementById(`note_context_${e.note.post.id}`)?.contains(N.target)||s(!1)},"onClickOutside");ve(()=>{v()?document.addEventListener("click",K):document.removeEventListener("click",K)});const Y=g(()=>!!e.note.user.nip05&&e.note.user.nip05.endsWith("primal.net"),"isVerifiedByPrimal"),L=[{label:l.formatMessage(q.noteContext.zap),action:()=>{e.openCustomZap&&e.openCustomZap(),s(!1)},icon:"feed_zap"},{label:l.formatMessage(q.noteContext.copyLink),action:w,icon:"copy_note_link"},{label:l.formatMessage(q.noteContext.copyText),action:T,icon:"copy_note_text"},{label:l.formatMessage(q.noteContext.copyId),action:R,icon:"copy_note_id"},{label:l.formatMessage(q.noteContext.copyRaw),action:k,icon:"copy_raw_data"},{label:l.formatMessage(q.noteContext.breadcast),action:O,icon:"broadcast"},{label:l.formatMessage(q.noteContext.copyPubkey),action:F,icon:"copy_pubkey"}],P=[{label:l.formatMessage(q.noteContext.muteAuthor),action:()=>{h(!0),s(!1)},icon:"mute_user",warning:!0},{label:l.formatMessage(q.noteContext.reportAuthor),action:()=>{o(!0),s(!1)},icon:"report",warning:!0}];return p?.publicKey!==e.note.post.pubkey&&[...L,...P],(()=>{const N=zt(),V=N.firstChild,B=V.firstChild,d=B.nextSibling,$=d.firstChild,Z=$.firstChild;return u(B,r(j,{get href(){return y?.actions.profileLink(e.note.user.npub)||""},get children(){return r(ee,{get user(){return e.note?.user},size:"vs",get highlightBorder(){return Y()}})}})),u(Z,a),u($,r(Pe,{get user(){return e.note.user}}),null),u(d,r(A,{get when(){return e.note.user?.nip05},get children(){const c=Nt();return u(c,()=>Be(e.note.user)),x(_=>{const I=W.verification,m=e.note.user?.nip05;return I!==_._v$&&n(c,_._v$=I),m!==_._v$2&&E(c,"title",_._v$2=m),_},{_v$:void 0,_v$2:void 0}),c}}),null),x(c=>{const _=e.id,I=W.header,m=W.headerInfo,M=W.avatar,z=e.note?.user?.npub,H=W.postInfo,U=W.userInfo,D=`${W.userName} ${e.primary?W.primary:""}`;return _!==c._v$3&&E(N,"id",c._v$3=_),I!==c._v$4&&n(N,c._v$4=I),m!==c._v$5&&n(V,c._v$5=m),M!==c._v$6&&n(B,c._v$6=M),z!==c._v$7&&E(B,"title",c._v$7=z),H!==c._v$8&&n(d,c._v$8=H),U!==c._v$9&&n($,c._v$9=U),D!==c._v$10&&n(Z,c._v$10=D),c},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),N})()},"NoteHeader"),Rt=G(At),Lt=S("<div><button><div>"),Et=g(e=>(()=>{const l=Lt(),b=l.firstChild,p=b.firstChild,y=e.ref;return typeof y=="function"?je(y,l):e.ref=l,b.$$click=v=>{v.preventDefault(),v.stopPropagation(),e.onClick&&e.onClick()},x(v=>{const s=t.context,i=t.contextButton,o=t.contextIcon;return s!==v._v$&&n(l,v._v$=s),i!==v._v$2&&n(b,v._v$2=i),o!==v._v$3&&n(p,v._v$3=o),v},{_v$:void 0,_v$2:void 0,_v$3:void 0}),l})(),"NoteContextTrigger"),Le=G(Et);de(["click"]);const Ee=S("<button><div>"),Ft=S("<button><div></div><div>Zap"),ae=S("<div>"),Pt=S("<div><div></div><div><div><div></div><div></div><div></div><div></div><div>"),Bt=g(e=>{const l=fe(),[b,p]=X(!1),y=g(()=>{const s=[...e.topZaps||[]];let i=5;return s.slice(0,i)},"topZaps"),v=g(s=>(e.users||l?.users||[]).find(i=>i.pubkey===s.pubkey),"zapSender");return r(A,{get when(){return!l?.isFetchingTopZaps},get fallback(){return(()=>{const s=Pt(),i=s.firstChild,o=i.nextSibling,f=o.firstChild,h=f.firstChild,a=h.nextSibling,w=a.nextSibling,T=w.nextSibling,R=T.nextSibling;return x(k=>{const F=t.topZapsLoading,O=t.firstZap,K=t.topZaps,Y=t.zapList,L=t.topZap,P=t.topZap,N=t.topZap,V=t.topZap,B=t.topZap;return F!==k._v$6&&n(s,k._v$6=F),O!==k._v$7&&n(i,k._v$7=O),K!==k._v$8&&n(o,k._v$8=K),Y!==k._v$9&&n(f,k._v$9=Y),L!==k._v$10&&n(h,k._v$10=L),P!==k._v$11&&n(a,k._v$11=P),N!==k._v$12&&n(w,k._v$12=N),V!==k._v$13&&n(T,k._v$13=V),B!==k._v$14&&n(R,k._v$14=B),k},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0}),s})()},get children(){const s=ae();return u(s,r(Ue,{name:"top-zaps",get enterClass(){return t.topZapEnterTransition},get exitClass(){return t.topZapExitTransition},get children(){return[r(He,{get each(){return y()},children:(i,o)=>[(()=>{const f=Ee(),h=f.firstChild;return f.$$click=()=>e.action(),u(f,r(ee,{get user(){return v(i)},size:"xss"}),h),u(f,r(A,{get when(){return o()===0},get children(){const a=ae();return x(()=>n(a,t.topZapIcon)),a}}),h),u(h,()=>i.amount.toLocaleString()),u(f,r(A,{get when(){return o()===0},get children(){const a=ae();return u(a,()=>i.message),x(()=>n(a,t.description)),a}}),null),x(a=>{const w=`${t.topZap}`,T=`z-index: ${12-o()};`,R=t.amount;return w!==a._v$15&&n(f,a._v$15=w),a._v$16=_e(f,T,a._v$16),R!==a._v$17&&n(h,a._v$17=R),a},{_v$15:void 0,_v$16:void 0,_v$17:void 0}),f})(),r(A,{get when(){return o()===0&&e.topZaps.length>3},get children(){const f=ae();return x(()=>n(f,t.break)),f}})]}),r(A,{get when(){return b()},get children(){const i=Ee(),o=i.firstChild;return i.$$click=()=>e.action(),x(f=>{const h=t.moreZaps,a=t.contextIcon;return h!==f._v$&&n(i,f._v$=h),a!==f._v$2&&n(o,f._v$2=a),f},{_v$:void 0,_v$2:void 0}),i}}),r(A,{get when(){return e.doZap},get children(){const i=Ft(),o=i.firstChild,f=o.nextSibling;return Oe(i,"click",e.doZap,!0),x(h=>{const a=t.doZaps,w=t.zapIcon,T=t.zapText;return a!==h._v$3&&n(i,h._v$3=a),w!==h._v$4&&n(o,h._v$4=w),T!==h._v$5&&n(f,h._v$5=T),h},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),i}})]}})),x(()=>n(s,`${t.zapHighlights}`)),s}})},"NoteTopZaps"),Ht=G(Bt);de(["click"]);const se=S("<div>"),qt=S("<div><button>"),Ut=g(e=>{const l=he(),[b,p]=X(!0),y=g(()=>(e.topZaps?[...e.topZaps]:[...e.note.topZaps]).slice(0,4),"topZaps"),v=g(s=>s.pubkey===l?.publicKey?l.activeUser:(e.note.mentionedUsers||{})[s.pubkey],"zapSender");return qe(()=>{setTimeout(()=>{p(()=>!1)},600)}),r(A,{get when(){return y().length>0},get children(){const s=se();return u(s,r(Ue,{name:"top-zaps-feed",get enterClass(){return t.topZapEnterTransition},get exitClass(){return t.topZapExitTransition},get children(){return r(He,{get each(){return y()},children:(i,o)=>(()=>{const f=qt(),h=f.firstChild;return h.$$click=a=>{a.preventDefault(),e.action()},u(h,r(ee,{get user(){return v(i)},size:"micro"}),null),u(h,r(A,{get when(){return re(()=>!e.hideMessage)()&&o()===0},get children(){return[(()=>{const a=se();return x(()=>n(a,t.topZapIcon)),a})(),(()=>{const a=se();return u(a,()=>i.amount.toLocaleString()),x(()=>n(a,t.amount)),a})(),(()=>{const a=se();return u(a,()=>i.message),x(()=>n(a,t.description)),a})()]}}),null),x(a=>{const w=`${t.zapWrap} ${b()?t.noAnimation:""}`,T=`z-index: ${12-o()};`,R=o(),k=`${t.topZap} ${o()>0?t.compact:""}`,F=`z-index: ${12-o()};`;return w!==a._v$&&n(f,a._v$=w),a._v$2=_e(f,T,a._v$2),R!==a._v$3&&E(f,"data-index",a._v$3=R),k!==a._v$4&&n(h,a._v$4=k),a._v$5=_e(h,F,a._v$5),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),f})()})}})),x(()=>n(s,`${t.zapHighlightsCompact}`)),s}})},"NoteTopZapsCompact"),Dt=G(Ut);de(["click"]);const Wt=S("<div><div><div></div><div>"),Gt=S("<div><div></div><div></div><div></div><div><div></div><div></div><div><span></span><button><span></span> Reactions</button></div><div>"),ce=S("<div>"),Kt=S("<div><div></div><div><div></div><div></div><div>"),Vt=S("<div><div></div><div><div>"),Jt=g(e=>{const l=fe(),b=ge(),p=he();te(),ve(()=>{e.quoteCount&&o("quoteCount",()=>e.quoteCount||0)});const y=g(()=>e.noteType||"feed","noteType"),v=g(()=>e.note.repost,"repost"),s=g(d=>{e.onClick&&e.onClick(),l?.actions.setPrimaryNote(d)},"navToThread"),[i,o]=Ye({likes:e.note.post.likes,liked:e.note.post.noteActions.liked,reposts:e.note.post.reposts,reposted:e.note.post.noteActions.reposted,replies:e.note.post.replies,replied:e.note.post.noteActions.replied,zapCount:e.note.post.zaps,satsZapped:e.note.post.satszapped,zapped:e.note.post.noteActions.zapped,zappedAmount:0,zappedNow:!1,isZapping:!1,showZapAnim:!1,hideZapIcon:!1,moreZapsAvailable:!1,isRepostMenuVisible:!1,topZaps:[],topZapsFeed:[],quoteCount:e.quoteCount||0});let f,h="",a="";const w=g(d=>{b?.actions.closeCustomZapModal(),oe(()=>{o("zappedAmount",()=>d.amount||0),o("satsZapped",$=>$+(d.amount||0)),o("zapped",()=>!0),o("showZapAnim",()=>!0)}),k(d),T(d)},"onConfirmZap");qe(()=>{o("topZapsFeed",()=>[...e.note.topZaps||[]])});const T=g(d=>{const $=p?.publicKey;if(!$)return;const Z=[...i.topZapsFeed];a=ze();const c={amount:d.amount||0,message:d.message||"",pubkey:$,eventId:e.note.post.id,id:a},_=[...Z,{...c}].sort((I,m)=>m.amount-I.amount).slice(0,4);o("topZapsFeed",()=>[..._])},"addTopZapFeed"),R=g(d=>{const $=i.topZapsFeed.filter(Z=>Z.id!==a);o("topZapsFeed",()=>[...$])},"removeTopZapFeed"),k=g(d=>{const $=p?.publicKey;if(!$)return;const Z=[...i.topZaps];h=ze();const c={amount:d.amount||0,message:d.message||"",pubkey:$,eventId:e.note.post.id,id:h};l?.users.find(I=>I.pubkey===$)||l?.actions.fetchUsers([$]);const _=[...Z,{...c}].sort((I,m)=>m.amount-I.amount);o("topZaps",()=>[..._])},"addTopZap"),F=g(d=>{const $=i.topZaps.filter(Z=>Z.id!==h);o("topZaps",()=>[...$])},"removeTopZap"),O=g(d=>{b?.actions.closeCustomZapModal(),b?.actions.resetCustomZap(),p?.publicKey&&oe(()=>{o("zapCount",Z=>Z+1),o("isZapping",()=>!1),o("showZapAnim",()=>!1),o("hideZapIcon",()=>!1),o("zapped",()=>!0)})},"onSuccessZap"),K=g(d=>{b?.actions.closeCustomZapModal(),b?.actions.resetCustomZap(),oe(()=>{o("zappedAmount",()=>-(d.amount||0)),o("satsZapped",$=>$-(d.amount||0)),o("isZapping",()=>!1),o("showZapAnim",()=>!1),o("hideZapIcon",()=>!1),o("zapped",()=>e.note.post.noteActions.zapped)}),F(),R()},"onFailZap"),Y=g(d=>{b?.actions.closeCustomZapModal(),b?.actions.resetCustomZap(),oe(()=>{o("zappedAmount",()=>-(d.amount||0)),o("satsZapped",$=>$-(d.amount||0)),o("isZapping",()=>!1),o("showZapAnim",()=>!1),o("hideZapIcon",()=>!1),o("zapped",()=>e.note.post.noteActions.zapped)}),F(),R()},"onCancelZap"),L=g(()=>({note:e.note,onConfirm:w,onSuccess:O,onFail:K,onCancel:Y}),"customZapInfo"),P=g((d="default")=>{b?.actions.openReactionModal(e.note.post.id,{likes:i.likes,zaps:i.zapCount,reposts:i.reposts,quotes:i.quoteCount,openOn:d})},"openReactionModal"),N=g(()=>{b?.actions.openContextMenu(e.note,f?.getBoundingClientRect(),()=>{b?.actions.openCustomZapModal(L())},P)},"onContextMenuTrigger"),V=g(()=>{const{likes:d,zapCount:$,reposts:Z,quoteCount:c}=i;return(d||0)+($||0)+(Z||0)+(c||0)},"reactionSum");ve(()=>{o("topZaps",()=>[...l?.topZaps[e.note.post.id]||[]])});const B=g(()=>{if((e.note.content.match(Xe)?.length||0)>0)return!1;let $=e.note.content.replace(et,"__PRIMAL_REPLACEMENT__").replace(tt,"__PRIMAL_REPLACEMENT__").replace(nt,"__PRIMAL_REPLACEMENT__").replace(ot,"__PRIMAL_REPLACEMENT__").trim();const Z=$.replace(/\s+/g,"").split("__PRIMAL_REPLACEMENT__");if(Z.length>1&&Z[1].length>0)return!1;$.replaceAll("__PRIMAL_REPLACEMENT__","");const c=$.length<42,_=e.note.replyTo;return c&&!_},"bigMessageFont");return r(Qe,{get children(){return[r(ne,{get when(){return y()==="notification"},get children(){return r(j,{get id(){return e.id},get class(){return t.noteNotificationLink},get href(){return`/e/${e.note?.post.noteId}`},onClick:()=>s(e.note),get"data-event"(){return e.note.post.id},get"data-event-bech32"(){return e.note.post.noteId},get children(){const d=Wt(),$=d.firstChild,Z=$.firstChild,c=Z.nextSibling;return u(Z,r(ie,{get note(){return e.note},shorten:!0})),u(c,r(ue,{get note(){return e.note},state:i,updateState:o,get customZapInfo(){return L()},size:"short"})),x(_=>{const I=t.noteNotifications,m=t.content,M=t.message,z=t.footer;return I!==_._v$&&n(d,_._v$=I),m!==_._v$2&&n($,_._v$2=m),M!==_._v$3&&n(Z,_._v$3=M),z!==_._v$4&&n(c,_._v$4=z),_},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d}})}}),r(ne,{get when(){return y()==="primary"},get children(){const d=Gt(),$=d.firstChild,Z=$.nextSibling,c=Z.nextSibling,_=c.nextSibling,I=_.firstChild,m=I.nextSibling,M=m.nextSibling,z=M.firstChild,H=z.nextSibling,U=H.firstChild,D=M.nextSibling;return u(Z,r(Rt,{get note(){return e.note},primary:!0})),u(c,r(Le,{ref(C){const Q=f;typeof Q=="function"?Q(C):f=C},onClick:N})),u(I,r(ie,{get note(){return e.note},get width(){return Math.min(640,window.innerWidth)},margins:42})),u(m,r(Ht,{get topZaps(){return i.topZaps},get zapCount(){return i.zapCount},action:()=>P("zaps")})),u(z,()=>it(e.note.post?.created_at).replace("at","Â·")),H.$$click=()=>P(),u(U,V),u(D,r(ue,{get note(){return e.note},state:i,updateState:o,get customZapInfo(){return L()},size:"wide",large:!0,onZapAnim:k})),x(C=>{const Q=e.id,me=t.notePrimary,Ce=e.note.post.id,be=e.note.post.noteId,Ze=t.border,pe=t.header,xe=t.upRightFloater,ye=t.content,ke=`${t.message} ${B()?t.bigFont:""}`,Ie=t.topZaps,Me=t.time,Se=$e(e.note.post?.created_at).date.toLocaleString(),we=t.reactSummary,Te=t.number,Ne=t.footer;return Q!==C._v$5&&E(d,"id",C._v$5=Q),me!==C._v$6&&n(d,C._v$6=me),Ce!==C._v$7&&E(d,"data-event",C._v$7=Ce),be!==C._v$8&&E(d,"data-event-bech32",C._v$8=be),Ze!==C._v$9&&n($,C._v$9=Ze),pe!==C._v$10&&n(Z,C._v$10=pe),xe!==C._v$11&&n(c,C._v$11=xe),ye!==C._v$12&&n(_,C._v$12=ye),ke!==C._v$13&&n(I,C._v$13=ke),Ie!==C._v$14&&n(m,C._v$14=Ie),Me!==C._v$15&&n(M,C._v$15=Me),Se!==C._v$16&&E(M,"title",C._v$16=Se),we!==C._v$17&&n(H,C._v$17=we),Te!==C._v$18&&n(U,C._v$18=Te),Ne!==C._v$19&&n(D,C._v$19=Ne),C},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0}),d}}),r(ne,{get when(){return y()==="thread"||y()==="feed"},get children(){return r(j,{get id(){return e.id},get class(){return`${t.noteThread} ${e.parent?t.parent:""}`},get href(){return`/e/${e.note?.post.noteId}`},onClick:()=>s(e.note),get"data-event"(){return e.note.post.id},get"data-event-bech32"(){return e.note.post.noteId},draggable:!1,get children(){return[(()=>{const d=ce();return u(d,r(A,{get when(){return v()},get children(){return r(lt,{get note(){return e.note}})}})),x(()=>n(d,t.header)),d})(),(()=>{const d=Kt(),$=d.firstChild,Z=$.nextSibling,c=Z.firstChild,_=c.nextSibling,I=_.nextSibling;return u($,r(j,{get href(){return b?.actions.profileLink(e.note.user.npub)||""},get children(){return r(ee,{get user(){return e.note.user},size:"vs"})}}),null),u($,r(A,{get when(){return e.parent},get children(){const m=ce();return x(()=>n(m,t.ancestorLine)),m}}),null),u(Z,r(Ae,{get author(){return e.note.user},get time(){return e.note.post.created_at}}),c),u(c,r(Le,{ref(m){const M=f;typeof M=="function"?M(m):f=m},onClick:N})),u(Z,r(Re,{get note(){return e.note}}),_),u(_,r(ie,{get note(){return e.note},get shorten(){return e.shorten},get width(){return Math.min(566,window.innerWidth-72)},margins:16,footerSize:"short"})),u(Z,r(Dt,{get note(){return e.note},action:()=>P("zaps"),get topZaps(){return i.topZapsFeed},topZapLimit:4}),I),u(I,r(ue,{get note(){return e.note},state:i,updateState:o,get customZapInfo(){return L()},onZapAnim:T,size:"short"})),x(m=>{const M=t.content,z=t.leftSide,H=t.rightSide,U=t.upRightFloater,D=t.message,C=t.footer;return M!==m._v$20&&n(d,m._v$20=M),z!==m._v$21&&n($,m._v$21=z),H!==m._v$22&&n(Z,m._v$22=H),U!==m._v$23&&n(c,m._v$23=U),D!==m._v$24&&n(_,m._v$24=D),C!==m._v$25&&n(I,m._v$25=C),m},{_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0,_v$24:void 0,_v$25:void 0}),d})()]}})}}),r(ne,{get when(){return y()==="reaction"},get children(){return r(j,{get id(){return e.id},get class(){return`${t.note} ${t.reactionNote}`},get href(){return`/e/${e.note?.post.noteId}`},onClick:()=>s(e.note),get"data-event"(){return e.note.post.id},get"data-event-bech32"(){return e.note.post.noteId},draggable:!1,get children(){const d=Vt(),$=d.firstChild,Z=$.nextSibling,c=Z.firstChild;return u($,r(j,{get href(){return b?.actions.profileLink(e.note.user.npub)||""},get children(){return r(ee,{get user(){return e.note.user},size:"vs"})}}),null),u($,r(A,{get when(){return e.parent},get children(){const _=ce();return x(()=>n(_,t.ancestorLine)),_}}),null),u(Z,r(Ae,{get author(){return e.note.user},get time(){return e.note.post.created_at}}),c),u(Z,r(Re,{get note(){return e.note}}),c),u(c,r(ie,{get note(){return e.note},get shorten(){return e.shorten},get width(){return Math.min(528,window.innerWidth-72)},margins:12,noLightbox:!0,altEmbeds:!0})),x(_=>{const I=t.content,m=t.leftSide,M=t.rightSide,z=t.message;return I!==_._v$26&&n(d,_._v$26=I),m!==_._v$27&&n($,_._v$27=m),M!==_._v$28&&n(Z,_._v$28=M),z!==_._v$29&&n(c,_._v$29=z),_},{_v$26:void 0,_v$27:void 0,_v$28:void 0,_v$29:void 0}),d}})}})]}})},"Note"),Xt=G(Jt);de(["click"]);export{Xt as N,Le as a,Ht as b,Dt as c};
//# sourceMappingURL=Note-f0f70728.js.map
