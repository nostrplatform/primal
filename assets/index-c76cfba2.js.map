{"version":3,"file":"index-c76cfba2.js","sources":["../../node_modules/@kobalte/core/dist/chunk/FN6EICGO.jsx","../../node_modules/@corvu/utils/dist/chunk/U42ECMND.jsx","../../node_modules/solid-presence/dist/index.jsx"],"sourcesContent":["// src/primitives/create-controllable-signal/create-controllable-signal.ts\nimport { accessWith } from \"@kobalte/utils\";\nimport { createMemo, createSignal, untrack } from \"solid-js\";\nfunction createControllableSignal(props) {\n  const [_value, _setValue] = createSignal(props.defaultValue?.());\n  const isControlled = createMemo(() => props.value?.() !== void 0);\n  const value = createMemo(() => isControlled() ? props.value?.() : _value());\n  const setValue = (next) => {\n    untrack(() => {\n      const nextValue = accessWith(next, value());\n      if (!Object.is(nextValue, value())) {\n        if (!isControlled()) {\n          _setValue(nextValue);\n        }\n        props.onChange?.(nextValue);\n      }\n      return nextValue;\n    });\n  };\n  return [value, setValue];\n}\nfunction createControllableBooleanSignal(props) {\n  const [_value, setValue] = createControllableSignal(props);\n  const value = () => _value() ?? false;\n  return [value, setValue];\n}\nfunction createControllableArraySignal(props) {\n  const [_value, setValue] = createControllableSignal(props);\n  const value = () => _value() ?? [];\n  return [value, setValue];\n}\nfunction createControllableSetSignal(props) {\n  const [_value, setValue] = createControllableSignal(props);\n  const value = () => _value() ?? /* @__PURE__ */ new Set();\n  return [value, setValue];\n}\n\nexport {\n  createControllableSignal,\n  createControllableBooleanSignal,\n  createControllableArraySignal,\n  createControllableSetSignal\n};\n","// src/reactivity/lib.ts\nimport \"solid-js\";\nvar access = (v) => typeof v === \"function\" ? v() : v;\nvar chain = (callbacks) => {\n  return (...args) => {\n    for (const callback of callbacks) callback && callback(...args);\n  };\n};\nvar mergeRefs = (...refs) => {\n  return chain(refs);\n};\nvar some = (...signals) => {\n  return signals.some((signal) => !!signal());\n};\n\nexport {\n  access,\n  chain,\n  mergeRefs,\n  some\n};\n","// src/presence.ts\nimport { access } from \"@corvu/utils/reactivity\";\nimport {\n  createEffect,\n  createMemo,\n  createSignal,\n  onCleanup,\n  untrack\n} from \"solid-js\";\nvar createPresence = (props) => {\n  const refStyles = createMemo(() => {\n    const element = access(props.element);\n    if (!element) return;\n    return getComputedStyle(element);\n  });\n  const getAnimationName = () => {\n    return refStyles()?.animationName ?? \"none\";\n  };\n  const [presentState, setPresentState] = createSignal(access(props.show) ? \"present\" : \"hidden\");\n  let animationName = \"none\";\n  createEffect((prevShow) => {\n    const show = access(props.show);\n    untrack(() => {\n      if (prevShow === show) return show;\n      const prevAnimationName = animationName;\n      const currentAnimationName = getAnimationName();\n      if (show) {\n        setPresentState(\"present\");\n      } else if (currentAnimationName === \"none\" || refStyles()?.display === \"none\") {\n        setPresentState(\"hidden\");\n      } else {\n        const isAnimating = prevAnimationName !== currentAnimationName;\n        if (prevShow === true && isAnimating) {\n          setPresentState(\"hiding\");\n        } else {\n          setPresentState(\"hidden\");\n        }\n      }\n    });\n    return show;\n  });\n  createEffect(() => {\n    const element = access(props.element);\n    if (!element) return;\n    const handleAnimationStart = (event) => {\n      if (event.target === element) {\n        animationName = getAnimationName();\n      }\n    };\n    const handleAnimationEnd = (event) => {\n      const currentAnimationName = getAnimationName();\n      const isCurrentAnimation = currentAnimationName.includes(\n        event.animationName\n      );\n      if (event.target === element && isCurrentAnimation && presentState() === \"hiding\") {\n        setPresentState(\"hidden\");\n      }\n    };\n    element.addEventListener(\"animationstart\", handleAnimationStart);\n    element.addEventListener(\"animationcancel\", handleAnimationEnd);\n    element.addEventListener(\"animationend\", handleAnimationEnd);\n    onCleanup(() => {\n      element.removeEventListener(\"animationstart\", handleAnimationStart);\n      element.removeEventListener(\"animationcancel\", handleAnimationEnd);\n      element.removeEventListener(\"animationend\", handleAnimationEnd);\n    });\n  });\n  return {\n    present: () => presentState() === \"present\" || presentState() === \"hiding\",\n    state: presentState\n  };\n};\nvar presence_default = createPresence;\n\n// src/index.ts\nvar src_default = presence_default;\nexport {\n  src_default as default\n};\n"],"names":["createControllableSignal","props","_value","_setValue","createSignal","defaultValue","isControlled","createMemo","value","next","untrack","nextValue","accessWith","Object","is","onChange","createControllableBooleanSignal","setValue","createControllableArraySignal","access","v","createPresence","refStyles","element","getComputedStyle","getAnimationName","animationName","presentState","setPresentState","show","createEffect","prevShow","prevAnimationName","currentAnimationName","display","handleAnimationStart","event","target","handleAnimationEnd","isCurrentAnimation","includes","addEventListener","onCleanup","removeEventListener","present","state","presence_default","src_default"],"mappings":"0LAGA,SAASA,EAAyBC,EAAO,CACvC,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAaH,EAAMI,eAAY,CAAI,EACzDC,EAAeC,EAAW,IAAMN,EAAMO,QAAS,IAAK,MAAM,EAC1DA,EAAQD,EAAW,IAAMD,EAAY,EAAKL,EAAMO,QAAK,EAAON,EAAM,CAAE,EAa1E,MAAO,CAACM,EAZUC,EAAAA,GAAS,CACzBC,EAAQ,IAAM,CACZ,MAAMC,EAAYC,EAAWH,EAAMD,EAAO,CAAA,EAC1C,OAAKK,OAAOC,GAAGH,EAAWH,EAAO,CAAA,IAC1BF,EAAY,GACfH,EAAUQ,CAAS,EAErBV,EAAMc,WAAWJ,CAAS,GAErBA,CACT,CAAC,GAVeF,WAYK,CACzB,CAjBST,EAAAA,EAAAA,4BAkBT,SAASgB,EAAgCf,EAAO,CAC9C,KAAM,CAACC,EAAQe,CAAQ,EAAIjB,EAAyBC,CAAK,EAEzD,MAAO,CADOO,EAAAA,IAAMN,EAAQ,GAAI,GAAlBM,SACCS,CAAQ,CACzB,CAJSD,EAAAA,EAAAA,mCAKT,SAASE,EAA8BjB,EAAO,CAC5C,KAAM,CAACC,EAAQe,CAAQ,EAAIjB,EAAyBC,CAAK,EAEzD,MAAO,CADOO,EAAAA,IAAMN,EAAQ,GAAI,GAAlBM,SACCS,CAAQ,CACzB,CAJSC,EAAAA,EAAAA,iCCxBT,IAAIC,EAAUC,EAAAA,GAAM,OAAOA,GAAM,WAAaA,EAAC,EAAKA,EAAtCA,UCOVC,EAAkBpB,EAAAA,GAAU,CAC9B,MAAMqB,EAAYf,EAAW,IAAM,CACjC,MAAMgB,EAAUJ,EAAOlB,EAAMsB,OAAO,EACpC,GAAKA,EACL,OAAOC,iBAAiBD,CAAO,CACjC,CAAC,EACKE,EAAmBA,EAAAA,IAChBH,EAAS,GAAII,eAAiB,OADdD,oBAGnB,CAACE,EAAcC,CAAe,EAAIxB,EAAae,EAAOlB,EAAM4B,IAAI,EAAI,UAAY,QAAQ,EAC9F,IAAIH,EAAgB,OACpBI,OAAAA,EAAcC,GAAa,CACzB,MAAMF,EAAOV,EAAOlB,EAAM4B,IAAI,EAC9BnB,OAAAA,EAAQ,IAAM,CACZ,GAAIqB,IAAaF,EAAM,OAAOA,EAC9B,MAAMG,EAAoBN,EACpBO,EAAuBR,IACzBI,EACFD,EAAgB,SAAS,EAChBK,IAAyB,QAAUX,EAAS,GAAIY,UAAY,OACrEN,EAAgB,QAAQ,EAItBA,EADEG,IAAa,IADGC,IAAsBC,EAExB,SAEA,QAFQ,CAK9B,CAAC,EACMJ,CACT,CAAC,EACDC,EAAa,IAAM,CACjB,MAAMP,EAAUJ,EAAOlB,EAAMsB,OAAO,EACpC,GAAI,CAACA,EAAS,OACd,MAAMY,EAAwBC,EAAAA,GAAU,CAClCA,EAAMC,SAAWd,IACnBG,EAAgBD,EAAgB,IAFNW,wBAKxBE,EAAsBF,EAAAA,GAAU,CAEpC,MAAMG,EADuBd,IACmBe,SAC9CJ,EAAMV,aACR,EACIU,EAAMC,SAAWd,GAAWgB,GAAsBZ,EAAc,IAAK,UACvEC,EAAgB,QAAQ,GANAQ,sBAS5Bb,EAAQkB,iBAAiB,iBAAkBN,CAAoB,EAC/DZ,EAAQkB,iBAAiB,kBAAmBH,CAAkB,EAC9Df,EAAQkB,iBAAiB,eAAgBH,CAAkB,EAC3DI,EAAU,IAAM,CACdnB,EAAQoB,oBAAoB,iBAAkBR,CAAoB,EAClEZ,EAAQoB,oBAAoB,kBAAmBL,CAAkB,EACjEf,EAAQoB,oBAAoB,eAAgBL,CAAkB,CAChE,CAAC,CACH,CAAC,EACM,CACLM,QAASA,IAAMjB,EAAY,IAAO,WAAaA,EAAc,IAAK,SAClEkB,MAAOlB,EAEX,EA9DsB1B,kBA+DlB6C,EAAmBzB,EAGnB0B,EAAcD","x_google_ignoreList":[0,1,2]}