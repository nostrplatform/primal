var jt=Object.defineProperty;var $=(e,r)=>jt(e,"name",{value:r,configurable:!0});import{au as Zt,a2 as te,dk as _e,u as De,j as a,c as s,l as w,m as n,S as Z,dl as Xt,d as ge,t as N,e as ut,C as Se,E as ne,g as $e,dm as D,F as Ie,k as Qe,w as Xe,M as Q,H as Fe,h as Ht,s as le,J as en,I as Ce,V as Jt,B as ct,A as Kt,o as et,n as vt,al as it,cL as tn,cM as nn,D as He,$ as rn,cu as mt,aP as gt,cO as ye,N as Le,x as sn,b3 as rt,T as ie,ad as Vt,dn as on,U as an,aE as ln,W as dn,aY as un,a3 as cn,R as vn,cT as mn,cU as gn,ak as _n,ay as fn,at as pt}from"./index-64dc6460.js";import{P as $n}from"./PageCaption-27eb7f4c.js";import{P as hn}from"./PageTitle-3d0a9832.js";import{W as bn}from"./Wormhole-fa0163d3.js";import{s as t,B as _t,P as yn}from"./PremiumCohortInfo-0779d27f.js";import{S as Sn}from"./Search-c8ce1e29.js";import{T as tt}from"./TextInput-e0ece469.js";import{B as pe}from"./ButtonPremium-cdbfc08e.js";import{s as Ue,l as pn}from"./dates-9bcb2bf7.js";import{B as oe}from"./ButtonLink-2f835890.js";import{B as Cn}from"./ButtonFlip-65663082.js";import{A as Te,D as Ne}from"./AdvancedSearchDialog-eff41eef.js";import{Q as Wt}from"./QrCode-24ae49c9.js";import{s as Ge,b as wn,B as Pn}from"./Buttons.module-e818c1ea.js";import xn from"./check_circle-8b1b7b08.js";import{L as kn}from"./Loader-1ac7e304.js";import{S as On}from"./StickySidebar-65b823c5.js";import{B as Ae}from"./ButtonSecondary-cc5e2282.js";import{T as Ee}from"./7FJWXM73-511ca333.js";import{H as Nn}from"./HelpTip-4eefb44b.js";import{B as Ye}from"./ButtonPrimary-1f64caa8.js";import En from"./purple_check-feeeb883.js";import{P as qt}from"./Paginator-4878ac5b.js";import{C as Gt}from"./ConfirmModal-62a7ec79.js";import Ct from"./missing_video-c40627a8.js";import Mn from"./missing_image-3f937278.js";import{P as je}from"./EMOXVTIZ-81fa338a.js";import{B as Ln}from"./ButtonGhost-a0fa1826.js";import{C as wt}from"./CheckBox2-65e1c04f.js";import"./SearchOption-a7f2ab4a.js";import"./JFO5B7NF-4a51a11a.js";import"./QJIB6BDF-1d7b1e44.js";import"./JNCCF6MP-19ab5fd3.js";import"./5WXHJDCZ-8b9b8e69.js";import"./index-b4296c5e.js";import"./index-c76cfba2.js";import"./index-a25c8160.js";import"./qr_nostrich-54e27ae3.js";import"./qr_lightning-fba50a71.js";import"./SOM3K36D-40feb6ac.js";import"./RLGGFAYQ-2a48be09.js";import"./LR7LBJN3-a1aba763.js";import"./ConfirmModal.module-73b4314e.js";import"./VI7QYH27-fb7b5f5a.js";import"./Checkbox.module-81b9bd85.js";const In=$((e,r,d,o)=>{let u={name:e};r&&(u.pubkey=r);const _=JSON.stringify(["REQ",d,{cache:["membership_name_available",{...u}]}]);if(o){const i=new CustomEvent("send",{detail:{message:_,ws:o}});o.send(_),o.dispatchEvent(i)}else throw"no_socket"},"sendPremiumNameCheck"),An=$(async(e,r,d)=>{const o={kind:te.Settings,tags:[],created_at:Math.floor(new Date().getTime()/1e3),content:JSON.stringify({name:e})};try{const u=await _e(o),_=JSON.stringify(["REQ",r,{cache:["membership_change_name",{event_from_user:u}]}]);if(d){const i=new CustomEvent("send",{detail:{message:_,ws:d}});d.send(_),d.dispatchEvent(i)}else throw"no_socket";return!0}catch(u){return console.error("Failed to upload: ",u),!1}},"changePremiumName"),Dn=$(async(e,r,d,o,u)=>{if(!e)return;const _={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:JSON.stringify({name:r,product_id:d,receiver_pubkey:e})};try{const i=await _e(_),v=JSON.stringify(["REQ",o,{cache:["membership_purchase_product",{event_from_user:i}]}]);if(u){const c=new CustomEvent("send",{detail:{message:v,ws:u}});u.send(v),u.dispatchEvent(c)}else throw"no_socket";return!0}catch(i){return console.error("Failed to upload: ",i),!1}},"getPremiumQRCode"),Tn=$((e,r,d)=>{const o=JSON.stringify(["REQ",r,{cache:["membership_purchase_monitor",{membership_quote_id:e}]}]);if(d){const u=new CustomEvent("send",{detail:{message:o,ws:d}});d.send(o),d.dispatchEvent(u)}else throw"no_socket"},"startListeningForPremiumPurchase"),Pt=$((e,r)=>{const d=JSON.stringify(["CLOSE",e]);if(r&&r.readyState===WebSocket.OPEN){const o=new CustomEvent("send",{detail:{message:d,ws:r}});r.send(d),r.dispatchEvent(o)}else throw"no_socket"},"stopListeningForPremiumPurchase"),Bn=$(async(e,r,d,o,u)=>{if(!e)return;const _={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:JSON.stringify({name:r,product_id:"legend-premium",receiver_pubkey:e,amount_usd:`${d}`})};try{const i=await _e(_),v=JSON.stringify(["REQ",o,{cache:["membership_purchase_product",{event_from_user:i}]}]);if(u){const c=new CustomEvent("send",{detail:{message:v,ws:u}});u.send(v),u.dispatchEvent(c)}else throw"no_socket";return!0}catch(i){return console.error("Failed to upload: ",i),!1}},"getLegendQRCode"),Rn=$((e,r,d)=>{const o=JSON.stringify(["REQ",r,{cache:["membership_purchase_monitor",{membership_quote_id:e}]}]);if(d){const u=new CustomEvent("send",{detail:{message:o,ws:d}});d.send(o),d.dispatchEvent(u)}else throw"no_socket"},"startListeningForLegendPurchase"),xt=$((e,r)=>{const d=JSON.stringify(["CLOSE",e]);if(r&&r.readyState===WebSocket.OPEN){const o=new CustomEvent("send",{detail:{message:d,ws:r}});r.send(d),r.dispatchEvent(o)}else throw"no_socket"},"stopListeningForLegendPurchase"),Fn=$(async(e,r,d)=>{if(!e)return;const o={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:JSON.stringify({})};try{const u=await _e(o),_=JSON.stringify(["REQ",r,{cache:["membership_status",{event_from_user:u}]}]);if(d){const i=new CustomEvent("send",{detail:{message:_,ws:d}});d.send(_),d.dispatchEvent(i)}else throw"no_socket";return!0}catch(u){return console.error("Failed to upload: ",u),!1}},"getPremiumStatus"),Un=$(async(e,r,d)=>{if(!e)return;const o={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:`{ "description": "get media stats'"}`};try{const u=await _e(o),_=JSON.stringify(["REQ",r,{cache:["membership_media_management_stats",{event_from_user:u}]}]);if(d){const i=new CustomEvent("send",{detail:{message:_,ws:d}});d.send(_),d.dispatchEvent(i)}else throw"no_socket";return!0}catch(u){return console.error("Failed to fetch media stats: ",u),!1}},"getPremiumMediaStats"),zn=$(async(e,r,d,o,u)=>{if(!e)return;const _={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "get media list"}'};try{let v={event_from_user:await _e(_),limit:20};r>0&&(v.until=r),d>0&&(v.offset=d);const c=JSON.stringify(["REQ",o,{cache:["membership_media_management_uploads",{...v}]}]);if(u){const m=new CustomEvent("send",{detail:{message:c,ws:u}});u.send(c),u.dispatchEvent(m)}else throw"no_socket";return!0}catch(i){return console.error("Failed to fetch media list: ",i),!1}},"getPremiumMediaList"),Hn=$(async(e,r,d,o)=>{if(!e)return;const u={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:`{ "url": "${r}"}`};try{let i={event_from_user:await _e(u)};const v=JSON.stringify(["REQ",d,{cache:["membership_media_management_delete",{...i}]}]);if(o){const c=new CustomEvent("send",{detail:{message:v,ws:o}});o.send(v),o.dispatchEvent(c)}else throw"no_socket";return!0}catch(_){return console.error("Failed to delete media: ",_),!1}},"deletePremiumMedia"),Jn=$(async(e,r,d,o,u)=>{if(!e)return;const _={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "get contacts history list"}'};try{let v={event_from_user:await _e(_)};const c=JSON.stringify(["REQ",o,{cache:["membership_recovery_contact_lists",{...v}]}]);if(u){const m=new CustomEvent("send",{detail:{message:c,ws:u}});u.send(c),u.dispatchEvent(m)}else throw"no_socket";return!0}catch(i){return console.error("Failed to fetch media list: ",i),!1}},"getContactListHistory"),Kn=$(async(e,r,d)=>{if(!e)return;const o={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "get content list"}'};try{let _={event_from_user:await _e(o)};const i=JSON.stringify(["REQ",r,{cache:["membership_content_stats",{..._}]}]);if(d){const v=new CustomEvent("send",{detail:{message:i,ws:d}});d.send(i),d.dispatchEvent(v)}else throw"no_socket";return!0}catch(u){return console.error("Failed to fetch content list: ",u),!1}},"getContentListHistory"),Vn=$(async(e,r,d,o)=>{if(!e)return;const u={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "get content download data"}'};try{let i={event_from_user:await _e(u)};r.length>0&&(i.kinds=[...r]);const v=JSON.stringify(["REQ",d,{cache:["membership_content_backup",{...i}]}]);if(o){const c=new CustomEvent("send",{detail:{message:v,ws:o}});o.send(v),o.dispatchEvent(c)}else throw"no_socket";return!0}catch(_){return console.error("Failed to fetch content download list: ",_),!1}},"getContentDownloadData"),Wn=$(async(e,r,d,o)=>{if(!e)return;const u={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "broadcats content data"}'};try{let i={event_from_user:await _e(u)};r.length>0&&(i.kinds=[...r]);const v=JSON.stringify(["REQ",d,{cache:["membership_content_rebroadcast_start",{...i}]}]);if(o){const c=new CustomEvent("send",{detail:{message:v,ws:o}});o.send(v),o.dispatchEvent(c)}else throw"no_socket";return!0}catch(_){return console.error("Failed to fetch content download list: ",_),!1}},"startContentBroadcast"),qn=$(async(e,r,d)=>{if(!e)return;const o={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "broadcats content data"}'};try{let _={event_from_user:await _e(o)};const i=JSON.stringify(["REQ",r,{cache:["membership_content_rebroadcast_cancel",{..._}]}]);if(d){const v=new CustomEvent("send",{detail:{message:i,ws:d}});d.send(i),d.dispatchEvent(v)}else throw"no_socket";return!0}catch(u){return console.error("Failed to fetch content download list: ",u),!1}},"cancelContentBroadcast"),Gn=$(async(e,r,d)=>{if(!e)return;const o={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:'{ "description": "broadcast content status"}'};try{let _={event_from_user:await _e(o)};const i=JSON.stringify(["REQ",r,{cache:["rebroadcasting_status",{..._}]}]);if(d){const v=new CustomEvent("send",{detail:{message:i,ws:d}});d.send(i),d.dispatchEvent(v)}else throw"no_socket";return!0}catch(u){return console.error("Failed to start listening to broadcast status: ",u),!1}},"startListeningForContentBroadcastStaus"),Qn=$(async(e,r,d)=>{if(e)try{const o=JSON.stringify(["CLOSE",r,{cache:["rebroadcasting_status"]}]);if(d){const u=new CustomEvent("send",{detail:{message:o,ws:d}});d.send(o),d.dispatchEvent(u)}else throw"no_socket";return!0}catch(o){return console.error("Failed to stop listening to broadcast status: ",o),!1}},"stopListeningForContentBroadcastStaus"),Yn=$(async(e,r,d,o,u)=>{if(!e)return;let _={limit:20};r>0&&(_.until=r),d>0&&(_.offset=d);const i={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:JSON.stringify(_)};try{let c={event_from_user:await _e(i)};const m=JSON.stringify(["REQ",o,{cache:["membership_purchase_history",{...c}]}]);if(u){const l=new CustomEvent("send",{detail:{message:m,ws:u}});u.send(m),u.dispatchEvent(l)}else throw"no_socket";return!0}catch(v){return console.error("Failed to fetch media list: ",v),!1}},"getOrderListHistory"),jn=$(async(e,r,d,o)=>{if(!e)return;const u={kind:te.Settings,tags:[["p",e]],created_at:Math.floor(new Date().getTime()/1e3),content:JSON.stringify(r)};try{let i={event_from_user:await _e(u)};const v=JSON.stringify(["REQ",d,{cache:["membership_legend_customization",{...i}]}]);if(o){const c=new CustomEvent("send",{detail:{message:v,ws:o}});o.send(v),o.dispatchEvent(c)}else throw"no_socket";return!0}catch(_){return console.error("Failed to fetch media list: ",_),!1}},"setLegendCutumization"),kt=$((e,r,d,o)=>new Promise((u,_)=>{if(!d){u(!1);return}let i=!1;const v=Zt(d,o,(c,m,l)=>{c==="EVENT"&&(i=JSON.parse(l?.content||'{ "available": false}').available||!1),c==="NOTICE"&&(v(),_(l?.content)),c==="EOSE"&&(v(),u(i))});In(e,r,o,d)}),"isPremiumNameAvailable"),Zn=$((e,r,d="USD")=>{const o=JSON.stringify(["REQ",e,{cache:["membership_exchange_rate",{target_currency:d}]}]);if(r){const u=new CustomEvent("send",{detail:{message:o,ws:r}});r.send(o),r.dispatchEvent(u)}else throw"no_socket"},"fetchExchangeRate"),Ot=N("<div>@primal.net"),Xn=N("<div><div><div></div><div>Media storage used</div></div><div><span> of 100GB"),ei=N("<div><div><div></div><div>Subscription expires on</div></div><div><span>"),ti=N("<div><div><div><div></div><div>Verified nostr address</div></div><div></div></div><div><div><div></div><div>Bitcoin lightning address</div></div><div></div></div><div><div><div></div><div>VIP profile on primal.net</div></div><div><span>primal.net/"),Nt=N("<div>"),Et=N("<div><div>@primal.net"),dt=$(e=>{De();const r=$(()=>e.rename?e.data.rename:e.data.name,"name"),d=$(()=>e.data.membershipStatus,"status"),o=$(()=>e.data.recipient?.nip05===`${r()}@primal.net`,"isNip05Primal"),u=$(()=>e.data.recipient?.lud16===`${r()}@primal.net`,"isLud16Primal"),_=$(()=>{e.updateUserMetadata("nip05",!0)},"applyNip05"),i=$(()=>{e.updateUserMetadata("lud16",!0)},"applyLud16");return(()=>{const v=ti(),c=v.firstChild,m=c.firstChild,l=m.firstChild,f=m.nextSibling,y=c.nextSibling,k=y.firstChild,P=k.firstChild,E=k.nextSibling,h=y.nextSibling,p=h.firstChild,F=p.firstChild,R=p.nextSibling,U=R.firstChild;return U.firstChild,a(f,s(Z,{get when(){return o()||e.hideApply},get fallback(){return[(()=>{const g=Nt();return a(g,()=>e.data.recipient?.nip05),w(()=>n(g,t.summaryValue)),g})(),(()=>{const g=Et(),C=g.firstChild,S=C.firstChild;return a(C,r,S),a(g,s(oe,{onClick:_,children:"apply"}),null),w(()=>n(g,t.summaryAlternateValue)),g})()]},get children(){const g=Ot(),C=g.firstChild;return a(g,r,C),w(()=>n(g,t.summaryValue)),g}})),a(E,s(Z,{get when(){return u()||e.hideApply},get fallback(){return[(()=>{const g=Nt();return a(g,()=>e.data.recipient?.lud16),w(()=>n(g,t.summaryValue)),g})(),(()=>{const g=Et(),C=g.firstChild,S=C.firstChild;return a(C,r,S),a(g,s(oe,{onClick:i,children:"apply"}),null),w(()=>n(g,t.summaryAlternateValue)),g})()]},get children(){const g=Ot(),C=g.firstChild;return a(g,r,C),w(()=>n(g,t.summaryValue)),g}})),a(U,r,null),a(v,s(Z,{get when(){return e.expanded},get children(){return[(()=>{const g=Xn(),C=g.firstChild,S=C.firstChild,K=C.nextSibling,I=K.firstChild,T=I.firstChild;return a(I,()=>Xt(d().used_storage||0),T),w(H=>{const J=t.summaryItem,O=t.summaryName,L=t.uploadIcon,Y=t.summaryValue;return J!==H._v$&&n(g,H._v$=J),O!==H._v$2&&n(C,H._v$2=O),L!==H._v$3&&n(S,H._v$3=L),Y!==H._v$4&&n(I,H._v$4=Y),H},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),g})(),(()=>{const g=ei(),C=g.firstChild,S=C.firstChild,K=C.nextSibling,I=K.firstChild;return a(I,(()=>{const T=ge(()=>!!d().expires_on);return()=>T()?Ue(d().expires_on||0):"Never"})()),w(T=>{const H=t.summaryItem,J=t.summaryName,O=t.calendarIcon,L=t.summaryValue;return H!==T._v$5&&n(g,T._v$5=H),J!==T._v$6&&n(C,T._v$6=J),O!==T._v$7&&n(S,T._v$7=O),L!==T._v$8&&n(I,T._v$8=L),T},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),g})()]}}),null),w(g=>{const C=t.premiumSummary,S=t.summaryItem,K=t.summaryName,I=t.verifIcon,T=t.summaryValueHolder,H=t.summaryItem,J=t.summaryName,O=t.zapIcon,L=t.summaryValueHolder,Y=t.summaryItem,re=t.summaryName,de=t.linkIcon,ce=t.summaryValue;return C!==g._v$9&&n(v,g._v$9=C),S!==g._v$10&&n(c,g._v$10=S),K!==g._v$11&&n(m,g._v$11=K),I!==g._v$12&&n(l,g._v$12=I),T!==g._v$13&&n(f,g._v$13=T),H!==g._v$14&&n(y,g._v$14=H),J!==g._v$15&&n(k,g._v$15=J),O!==g._v$16&&n(P,g._v$16=O),L!==g._v$17&&n(E,g._v$17=L),Y!==g._v$18&&n(h,g._v$18=Y),re!==g._v$19&&n(p,g._v$19=re),de!==g._v$20&&n(F,g._v$20=de),ce!==g._v$21&&n(U,g._v$21=ce),g},{_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0}),v})()},"PremiumSummary"),ni="_transactionAmount_18izz_1",ii="_clickableContainer_18izz_6",ri="_primaryAmount_18izz_18",si="_amountPrefix_18izz_22",oi="_amount_18izz_22",ai="_amountPostfix_18izz_37",li="_secondaryAmount_18izz_45",di="_exchageButton_18izz_69",be={transactionAmount:ni,clickableContainer:ii,primaryAmount:ri,amountPrefix:si,amount:oi,amountPostfix:ai,secondaryAmount:li,exchageButton:di},ui=N("<div><button><div><div></div><div></div><div></div></div><div><div></div><div></div><div>"),Mt={symbol:"$",name:"United States Dollar",shorthand:"USD"},ci={symbol:"",name:"Satoshi",shorthand:"sats"},vi={symbol:"",name:"Bitcoin",shorthand:"BTC"},nt=$(e=>{const[r,d]=Se(!1);ne(()=>{d(()=>e.reverse||!1)});const o=$(()=>e.amountBTC?{amount:e.amountBTC||0,currency:vi}:{amount:Math.round(e.amountSats||0),currency:ci},"btcValue"),u=$(()=>r()?o():{amount:e.amountUSD||0,currency:Mt},"primary"),_=$(()=>r()?{amount:e.amountUSD||0,currency:Mt}:o(),"secondary");return(()=>{const i=ui(),v=i.firstChild,c=v.firstChild,m=c.firstChild,l=m.nextSibling,f=l.nextSibling,y=c.nextSibling,k=y.firstChild,P=k.nextSibling,E=P.nextSibling;return v.$$click=()=>d(h=>!h),a(m,()=>u()?.currency.symbol),a(l,()=>(u()?.amount||0).toLocaleString()),a(f,()=>u()?.currency.shorthand),a(k,()=>_()?.currency.symbol),a(P,()=>(_()?.amount||0).toLocaleString()),a(E,()=>_()?.currency.shorthand),w(h=>{const p=be.transactionAmount,F=be.clickableContainer,R=be.primaryAmount,U=be.amountPrefix,g=be.amount,C=be.amountPostfix,S=be.secondaryAmount,K=be.amountPrefix,I=be.amount,T=be.amountPostfix;return p!==h._v$&&n(i,h._v$=p),F!==h._v$2&&n(v,h._v$2=F),R!==h._v$3&&n(c,h._v$3=R),U!==h._v$4&&n(m,h._v$4=U),g!==h._v$5&&n(l,h._v$5=g),C!==h._v$6&&n(f,h._v$6=C),S!==h._v$7&&n(y,h._v$7=S),K!==h._v$8&&n(k,h._v$8=K),I!==h._v$9&&n(P,h._v$9=I),T!==h._v$10&&n(E,h._v$10=T),h},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),i})()},"TransactionAmount");ut(["click"]);const Lt=N("<div><div></div><div>"),Qt=$(e=>{const r=$e();return(()=>{const d=Lt(),o=d.firstChild,u=o.nextSibling;return a(o,s(nt,{get amountUSD(){return e.data.subscriptions[e.selectedOption.id]?.amounts.usd||0},get amountSats(){return Math.round(e.data.subscriptions[e.selectedOption.id]?.amounts.sats||0)}})),a(u,s(Ie,{get each(){return e.options},children:_=>s(Cn,{get when(){return e.selectedOption.id!==_.id},onClick:()=>e.onSelect(_),get dark(){return e.dark},get children(){const i=Lt(),v=i.firstChild,c=v.nextSibling;return a(v,()=>r.formatMessage(D.subOptions.prices[_.price])),a(c,()=>r.formatMessage(D.subOptions.durations[_.duration])),w(m=>{const l=t.selectedOption,f=t.price,y=`${t.duration} ${e.selectedOption.id!==_.id?t.hot:""}`;return l!==m._v$4&&n(i,m._v$4=l),f!==m._v$5&&n(v,m._v$5=f),y!==m._v$6&&n(c,m._v$6=y),m},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),i}})})),w(_=>{const i=t.subOptions,v=t.totalPrice,c=t.subOptionsSelections;return i!==_._v$&&n(d,_._v$=i),v!==_._v$2&&n(o,_._v$2=v),c!==_._v$3&&n(u,_._v$3=c),_},{_v$:void 0,_v$2:void 0,_v$3:void 0}),d})()},"PremiumSubscriptionOptions"),mi=N("<div><div><div></div><div>"),gi=$(e=>{const r=$(()=>e.data.name.length>0?e.data.name:Xe(e.profile),"displayName");return(()=>{const d=mi(),o=d.firstChild,u=o.firstChild,_=u.nextSibling;return a(d,s(Qe,{get user(){return e.profile},size:"xl"}),o),a(u,()=>r()||"unknown"),w(i=>{const v=t.premiumProfile,c=t.userInfo,m=t.purpleCheck;return v!==i._v$&&n(d,i._v$=v),c!==i._v$2&&n(o,i._v$2=c),m!==i._v$3&&n(_,i._v$3=m),i},{_v$:void 0,_v$2:void 0,_v$3:void 0}),d})()},"PremiumProfile"),_i=N("<div><div>Pay this lightning invoice to complete your purchase. Your subscription will be active immediately.</div><div></div><div></div><div>"),fi=N("<div>Purchase Primal Premium"),$i=$(e=>(ne(()=>{e.open?e.onOpen&&e.onOpen():e.onClose&&e.onClose()}),s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return fi()},get children(){const r=_i(),d=r.firstChild,o=d.nextSibling,u=o.nextSibling,_=u.nextSibling;return a(o,s(Wt,{get data(){return e.subscription.lnUrl||""}})),a(u,s(_t,{color:"link",get copyValue(){return e.subscription.lnUrl||""},labelBeforeIcon:!0,label:"Copy invoice"})),a(_,s(nt,{get amountUSD(){return e.subscription.amounts.usd},get amountSats(){return e.subscription.amounts.sats}})),w(i=>{const v=t.subscribeModal,c=t.subsModalCaption,m=t.copyButton,l=t.pricePlan;return v!==i._v$&&n(r,i._v$=v),c!==i._v$2&&n(d,i._v$2=c),m!==i._v$3&&n(u,i._v$3=m),l!==i._v$4&&n(_,i._v$4=l),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r}})),"PremiumSubscribeModal"),hi=N("<div><div>The Primal OG tier was created to recognize those users who signed up to Primal Premium in the first year.</div><div><div><div><div></div><div><div>Primal Name</div><ul><li>Verified nostr address</li><li>Bitcoin lightning address</li><li>VIP profile on primal.net</li></ul></div></div><div><div></div><div><div>Nostr Tools</div><ul><li>Media hosting</li><li>Advanced search</li><li>Premium paid relay</li><li>Nostr account backup</li></ul></div></div></div></div><div><div><div>$7/month</div><div>3 months</div></div><div>or</div><div><div>$6/month</div><div>12 months</div></div></div><div>"),bi=$(e=>{const r=$e(),d=$(()=>!e.pubkey,"isGuest"),o=$(()=>e.pubkey&&!e.user,"hasNoMetadata");return(()=>{const u=hi(),_=u.firstChild,i=_.nextSibling,v=i.firstChild,c=v.firstChild,m=c.firstChild,l=m.nextSibling,f=l.firstChild,y=f.nextSibling,k=c.nextSibling,P=k.firstChild,E=P.nextSibling,h=E.firstChild,p=h.nextSibling;p.firstChild.nextSibling.nextSibling.nextSibling;const g=i.nextSibling,C=g.firstChild,S=C.firstChild,K=S.nextSibling,I=C.nextSibling,T=I.nextSibling,H=T.firstChild,J=H.nextSibling,O=g.nextSibling;return a(p,s(oe,{get onClick(){return e.onMore},children:"Much more..."}),null),a(O,s(Fe,{get children(){return[s(Q,{get when(){return d()},get children(){return"Start by creating your Primal account:"}}),s(Q,{get when(){return o()},get children(){return"Start by editing your profile:"}}),s(Q,{when:!0,get children(){return"Start by reserving your Primal name:"}})]}})),a(u,s(pe,{get onClick(){return e.onStart},get children(){return s(Fe,{get children(){return[s(Q,{get when(){return d()},get children(){return"Create account"}}),s(Q,{get when(){return o()},get children(){return"Edit profile"}}),s(Q,{when:!0,get children(){return ge(()=>r.formatMessage(D.actions.start))}})]}})}}),null),w(L=>{const Y=t.premiumHighlights,re=t.ogCaption,de=t.premiumHighlightInfo,ce=t.highlights,q=t.highlight,ve=t.purpleCheckBig,se=t.perk,M=t.perkTitle,B=t.perkItems,A=t.highlight,b=t.purpleOstrich,z=t.perk,V=t.perkTitle,G=t.perkItems,W=t.pricingSummary,x=t.price,X=t.duration,ae=t.or,ue=t.price,fe=t.duration,me=t.premiumStart;return Y!==L._v$&&n(u,L._v$=Y),re!==L._v$2&&n(_,L._v$2=re),de!==L._v$3&&n(i,L._v$3=de),ce!==L._v$4&&n(v,L._v$4=ce),q!==L._v$5&&n(c,L._v$5=q),ve!==L._v$6&&n(m,L._v$6=ve),se!==L._v$7&&n(l,L._v$7=se),M!==L._v$8&&n(f,L._v$8=M),B!==L._v$9&&n(y,L._v$9=B),A!==L._v$10&&n(k,L._v$10=A),b!==L._v$11&&n(P,L._v$11=b),z!==L._v$12&&n(E,L._v$12=z),V!==L._v$13&&n(h,L._v$13=V),G!==L._v$14&&n(p,L._v$14=G),W!==L._v$15&&n(g,L._v$15=W),x!==L._v$16&&n(S,L._v$16=x),X!==L._v$17&&n(K,L._v$17=X),ae!==L._v$18&&n(I,L._v$18=ae),ue!==L._v$19&&n(H,L._v$19=ue),fe!==L._v$20&&n(J,L._v$20=fe),me!==L._v$21&&n(O,L._v$21=me),L},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0}),u})()},"PremiumHighlights"),yi=$(e=>s(wn.Root,{get id(){return e.id},get class(){return Ge.green},get onClick(){return e.onClick},get disabled(){return e.disabled},get type(){return e.type},get children(){return e.children}}),"ButtonGreen"),Si=Ht(yi),pi="_container_iwxdg_1",Ci="_circle_iwxdg_6",Ze={container:pi,circle:Ci},wi=N("<div><div>"),Pi=N("<img>"),xi=N("<div>X"),ki=$(e=>(()=>{const r=wi(),d=r.firstChild;return a(d,(()=>{const o=ge(()=>!!e.success);return()=>o()?(()=>{const u=Pi();return le(u,"src",xn),u})():xi()})()),w(o=>{const u=Ze.container,_=`${Ze.circle} ${e.success?Ze.success:Ze.fail}`;return u!==o._v$&&n(r,o._v$=u),_!==o._v$2&&n(d,o._v$2=_),o},{_v$:void 0,_v$2:void 0}),r})(),"FeedbackCircle"),qe=N("<div>"),Oi=N("<span>"),Ni=N("<div><div><div></div></div><div>"),Ei=N("<div><div>"),Mi=$(e=>{const r=$e(),d=$(()=>e.data.name.length>0?e.data.name:Xe(e.profile),"displayName");return s(Ne,{get open(){return e.open},get onOpenChange(){return e.setOpen},preventScroll:!1,get children(){return[s(Ne.Trigger,{class:"hidden"}),s(Ne.Portal,{get children(){return[s(Ne.Overlay,{get class(){return t.successDialogOverlay}}),(()=>{const o=qe();return a(o,s(Ne.Content,{get class(){return t.dialogContent},get children(){const u=Ei(),_=u.firstChild;return a(_,s(Ne.Title,{get class(){return t.userInfo},get children(){return[(()=>{const i=qe();return a(i,s(Qe,{size:"sm",get user(){return e.profile}})),w(()=>n(i,t.avatar)),i})(),(()=>{const i=Ni(),v=i.firstChild,c=v.firstChild,m=v.nextSibling;return a(v,d,c),a(m,s(Z,{get when(){return e.profile?.nip05},get children(){const l=Oi();return a(l,()=>en(e.profile)),w(f=>{const y=t.verifiedBy,k=e.profile?.nip05;return y!==f._v$&&n(l,f._v$=y),k!==f._v$2&&le(l,"title",f._v$2=k),f},{_v$:void 0,_v$2:void 0}),l}})),w(l=>{const f=t.details,y=t.name,k=`${t.orangeCheck} ${t.small}`,P=t.verification,E=e.profile?.nip05;return f!==l._v$3&&n(i,l._v$3=f),y!==l._v$4&&n(v,l._v$4=y),k!==l._v$5&&n(c,l._v$5=k),P!==l._v$6&&n(m,l._v$6=P),E!==l._v$7&&le(m,"title",l._v$7=E),l},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),i})()]}}),null),a(_,s(Ne.CloseButton,{get class(){return t.dialogCloseButton},get children(){const i=qe();return w(()=>n(i,t.excludeIcon)),i}}),null),a(u,s(Ne.Description,{get class(){return t.content},get children(){return[s(ki,{success:!0}),(()=>{const i=qe();return a(i,()=>r.formatMessage(D.subOptions.success.caption)),w(()=>n(i,t.successCaption)),i})(),(()=>{const i=qe();return a(i,()=>e.data.successMessage),w(()=>n(i,t.successDescription)),i})(),s(Si,{get onClick(){return e.onClose},get children(){return r.formatMessage(D.actions.done)}})]}}),null),w(i=>{const v=t.successModal,c=t.dialogHeader;return v!==i._v$8&&n(u,i._v$8=v),c!==i._v$9&&n(_,i._v$9=c),i},{_v$8:void 0,_v$9:void 0}),u}})),w(()=>n(o,t.successDialog)),o})()]}})]}})},"PremiumSuccessModal"),Li=N("<div><div>Expired</div><div><div>"),It=N("<div><div></div><div><div>"),Ii=N("<div><div><div></div></div><div>"),Yt=$(e=>{$e(),Ce();const r=$(()=>{if(e.data.membershipStatus.tier==="premium-legend")return!1;const u=e.data.membershipStatus.expires_on||0;return new Date().getTime()/1e3>u},"isExpired"),d=$(()=>e.data.membershipStatus.tier==="premium-legend","isLegend"),o=$(()=>e.data.name.length>0?e.data.name:Xe(e.profile),"displayName");return(()=>{const u=Ii(),_=u.firstChild,i=_.firstChild,v=_.nextSibling;return a(_,s(Qe,{get user(){return e.profile},size:"xl",get legendConfig(){return e.legendConfig}}),i),a(i,o,null),a(i,s(Jt,{get user(){return e.profile},large:!0,get legendConfig(){return e.legendConfig}}),null),a(v,s(Fe,{get fallback(){return(()=>{const c=It(),m=c.firstChild,l=m.nextSibling,f=l.firstChild;return a(m,()=>e.data.membershipStatus.cohort_1||""),a(f,()=>e.data.membershipStatus.cohort_2||Ue(e.data.membershipStatus.expires_on||0)),w(y=>{const k=t.activePremium,P=t.caption,E=t.date;return k!==y._v$11&&n(c,y._v$11=k),P!==y._v$12&&n(m,y._v$12=P),E!==y._v$13&&n(l,y._v$13=E),y},{_v$11:void 0,_v$12:void 0,_v$13:void 0}),c})()},get children(){return[s(Q,{get when(){return r()},get children(){const c=Li(),m=c.firstChild,l=m.nextSibling,f=l.firstChild;return a(f,()=>Ue(e.data.membershipStatus.expires_on||0)),w(y=>{const k=t.expiredPremium,P=t.caption,E=t.date;return k!==y._v$&&n(c,y._v$=k),P!==y._v$2&&n(m,y._v$2=P),E!==y._v$3&&n(l,y._v$3=E),y},{_v$:void 0,_v$2:void 0,_v$3:void 0}),c}}),s(Q,{get when(){return d()},get children(){const c=It(),m=c.firstChild,l=m.nextSibling,f=l.firstChild;return a(m,()=>e.data.membershipStatus.cohort_1||""),a(f,()=>e.data.membershipStatus.cohort_2||Ue(e.data.membershipStatus.expires_on||0)),w(y=>{const k=`${t.legendPremium} ${t[`legend_${e.legendConfig?.style}`]}`,P=t.caption,E=t.date;return k!==y._v$4&&n(c,y._v$4=k),P!==y._v$5&&n(m,y._v$5=P),E!==y._v$6&&n(l,y._v$6=E),y},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),c}})]}})),w(c=>{const m=t.premiumProfileLayout,l=t.userInfo,f=t.userName,y=t.premiumActive;return m!==c._v$7&&n(u,c._v$7=m),l!==c._v$8&&n(_,c._v$8=l),f!==c._v$9&&n(i,c._v$9=f),y!==c._v$10&&n(v,c._v$10=y),c},{_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),u})()},"PremiumUserInfo"),Ai=N("<div>Hey there! You are an early Primal user who interacted with our team, so we gave you 6 months of Primal Premium for free. ♥️🫂"),Di=N("<div><div></div><div>"),st=N("<div>"),Ti=$(e=>{const r=$e();Ce();const d=ct(),o=$(()=>e.data.membershipStatus.tier==="premium-legend","isLegend"),u=$(()=>{if(o())return!1;const _=e.data.membershipStatus.expires_on||0;return new Date().getTime()/1e3>_},"isExpired");return(()=>{const _=st();return a(_,s(Yt,{get data(){return e.data},get profile(){return e.profile},get legendConfig(){return d?.legendCustomization[e.profile?.pubkey]}}),null),a(_,s(Z,{get when(){return e.data.membershipStatus.cohort_1==="Primal OG"&&e.data.membershipStatus.cohort_2==="Free"},get children(){const i=Ai();return w(()=>n(i,t.freeCaption)),i}}),null),a(_,s(dt,{get data(){return e.data},expanded:!0,get updateUserMetadata(){return e.updateUserMetadata}}),null),a(_,s(Z,{get when(){return ge(()=>!u())()&&!o()},get children(){const i=Di(),v=i.firstChild,c=v.nextSibling;return a(v,()=>r.formatMessage(D.labels.supportFirstLine)),a(c,()=>r.formatMessage(D.labels.supportSecondLine),null),a(c,s(Kt,{href:"/premium/support",get children(){return r.formatMessage(D.actions.support)}}),null),w(()=>n(i,t.support)),i}}),null),a(_,s(Z,{get when(){return e.data.membershipStatus.tier!=="premium-legend"},get children(){return s(Z,{get when(){return u()},get fallback(){return(()=>{const i=st();return a(i,s(pe,{get onClick(){return e.onExtendPremium},get children(){return r.formatMessage(D.actions.extendPlan)}})),w(()=>n(i,t.extendPlan)),i})()},get children(){const i=st();return a(i,s(pe,{get onClick(){return e.onExtendPremium},get children(){return r.formatMessage(D.actions.renewPlan)}})),w(()=>n(i,t.extendPlan)),i}})}}),null),w(()=>n(_,t.premiumStatusOverview)),_})()},"PremiumStatusOverview"),At=N("<div>"),Bi=N("<div><table><thead><tr><th>Feature</th><th>Primal Free</th><th>Primal Premium</th></tr></thead><tbody>"),Ri=N("<div><div>"),Fi=N("<span>"),Ui=N("<tr><td><span></span></td><td></td><td>"),zi=N("<div><div></div><div>"),Hi=[{name:"Apps for Web, iOS, Android",free:"true",premium:"true"},{name:"Built-in bitcoin lightning wallet",free:"true",premium:"true"},{name:"Global Nostr text and user search",free:"true",premium:"true"},{name:"Media storage capacity",free:"1 GB",premium:"10 GB"},{name:"Media maximum file size",free:"100 mb",premium:"1 GB"},{name:"Verified Nostr Address",free:"false",premium:"true",help:"e. g. alice@primal.net"},{name:"Custom Lightning Address",free:"false",premium:"true",help:"e. g. alice@primal.net"},{name:"VIP Profile on primal.net",free:"false",premium:"true",help:"e. g. primal.net/alice"},{name:"Advanced Nostr search",free:"false",premium:"true",help:"Find anything on Nostr! Search by keywords & phrases, content type, who posted, who replied, who zapped, time posted, network scope, plus a bunch of filters."},{name:"Premium paid relay",free:"false",premium:"true",help:"wss://premium.primal.net"},{name:"Nostr contact list backup",free:"false",premium:"true",help:"Primal creates a backup of 100+ most recent versions of your Nostr follow list. If your follow list gets erased or corrupted by another Nostr app, you will be able to restore it using the Contact List Backup tool in the Nostr Tools section for Primal Premium users."},{name:"Nostr account content backup",free:"false",premium:"true",help:"Primal archives the complete history of all your Nostr content. You can rebroadcast any subset of your content to your selected set of relays at any time using the Content Backup tool in the Nostr Tools section for Primal Premium users."},{name:"Much more to come!",free:"false",premium:"true",help:"We are working on a ton of new and exciting features for Primal Premium. We will announce them as we get closer to releasing them. In the meantime, please feel free to reach out and let us know what you would like to see included in Primal Premium. All suggestions are welcome!"}],Ji=[{question:"How do I get support?",answer:"Simply email us at support@primal.net and include your Primal Name in the message. Support requests from Premium users are prioritized and typically handled on the same business day."},{question:"Can I change my Primal Name?",answer:"Yes! If you wish to change your Primal Name, simply use the “Change your Primal Name” option in the Manage Premium section of any Primal app. Your new name will be functional immediately and your old name will be released and available to other users to register."},{question:"Do I have to use my Primal verified name and lightning address?",answer:"No. As a Primal Premium user you are able to reserve a Primal Name, but you are not required to use it as your nostr verified address (NIP-05), nor the bitcoin lightning address. Simply set any nostr verified address and/or the bitcoin lightning address you wish to use in your Nostr account profile settings."},{question:"Do I own my Primal Name indefinitely?",answer:'You have the right to use your Primal Name for the duration of your Primal Premium subscription. After the subscription expires, there is a grace period of 30 days during which your Primal Name will not be available to others to register. Primal Legend users have non-expiring subscriptions, so they can use their Primal Names indefinitely. Please note that all Primal Names are owned by Primal and rented to users. Primal reserves the right to revoke any name if we determine that the name is trademarked by somebody else, that there is a possible case of impersonation, or for any other case of abuse, as determined by Primal. Please refer to our <a data-link="terms">Terms_of_Service</a> for details.'},{question:"Can I buy multiple Primal Names?",answer:"We are working on adding the capability to manage multiple Primal Names. In the meantime, feel free to reach out to us via support@primal.net and we will try to accommodate."},{question:"Is my payment information associated with my Nostr account?",answer:"No. Primal Premium can be purchased via an iOS App Store in-app purchase, Google Play in-app purchase, or directly over bitcoin lightning via the Primal web app. Regardless of the method of payment, your payment information is not associated with your Nostr account."},{question:"Can I extend my subscription? How does that work?",answer:"Yes, you can extend your subscription using any of the payment methods we support: iOS App Store in-app purchase, Google Play in-app purchase, or directly over bitcoin lightning via the Primal web app. Any payment will extend your subscription by the number of months purchased. For example, if you purchase 3 Months of Primal Premium using the Primal web app, and then subscribe again via your mobile device, your subscription expiry date will be four months in the future, and it will continue to be pushed out with every subsequent monthly payment."},{question:"If I buy Primal Premium on my phone, will I have access to it on the web?",answer:"Yes. Your Primal Premium subscription is assigned to your Nostr account. Therefore, regardless of the way you choose to subscribe, your Primal Premium subscription will be available to you in all Primal apps: web, iOS, Android."},{question:"How does the Nostr contact list backup feature work?",answer:"Primal creates a backup of 100+ most recent versions of your Nostr follow list. If your follow list gets erased or corrupted by another Nostr app, you will be able to restore it using the Contact List Backup tool in the Nostr Tools section for Primal Premium users."},{question:"How does the Nostr account content backup feature work?",answer:"Primal archives the complete history of all your Nostr content. You can rebroadcast any subset of your content to your selected set of relays at any time using the Content Backup tool in the Nostr Tools section for Primal Premium users."},{question:"What other Premium features are coming in the future?",answer:"We are working on a ton of new and exciting features for Primal Premium. We will announce them as we get closer to releasing them. In the meantime, please feel free to reach out and let us know what you would like to see included in Primal Premium. All suggestions are welcome!"},{question:"I’d like to support Primal. Can I do more?",answer:'At Primal, we don’t rely on advertising. We don’t monetize user data. We open source all our work to help the Nostr ecosystem flourish. If you wish to help us continue doing this work, please see how you can <a data-link="support">support_us</a>. Thank you from the entire Primal Team! 🙏❤️'}],Ki=$(e=>{const r=Ce(),[d,o]=Se("features"),u=$(i=>{const c=i.target?.getAttribute("data-link");if(c){if(c==="support"){e.setOpen(!1),r("/premium/support");return}if(c==="terms"){e.setOpen(!1),window.open(`${location.origin}/terms`,"_blank").focus();return}}},"onClick");et(()=>{window.addEventListener("click",u)}),vt(()=>{window.removeEventListener("click",u)}),ne(()=>{const i=e.open;i!==void 0&&o(()=>i)});const _=$(i=>i==="true"?(()=>{const v=At();return w(()=>n(v,t.checkIcon)),v})():i==="false"?[]:i,"featureInfo");return s(Te,{get open(){return e.open!==void 0},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return s(Ee,{get value(){return d()},onChange:o,get children(){return s(Ee.List,{get class(){return t.premiumFeaturesTabs},get children(){return[s(Ee.Trigger,{get class(){return t.premiumFeaturesTab},value:"features",children:"Premium Features"}),s(Ee.Trigger,{get class(){return t.premiumFeaturesTab},value:"faq",children:"Premium FAQ"}),s(Ee.Indicator,{get class(){return t.premiumFeaturesTabIndicator}})]}})}})},get children(){const i=Ri(),v=i.firstChild;return a(i,s(Ee,{get value(){return d()},get children(){return[s(Ee.Content,{value:"features",get children(){const c=Bi(),m=c.firstChild,l=m.firstChild,f=l.nextSibling;return a(f,s(Ie,{each:Hi,children:(y,k)=>(()=>{const P=Ui(),E=P.firstChild,h=E.firstChild,p=E.nextSibling,F=p.nextSibling;return a(h,()=>y.name),a(E,s(Z,{get when(){return y.help},get children(){return s(Nn,{above:!0,get zIndex(){return k()+1},get children(){const R=Fi();return a(R,()=>y.help),R}})}}),null),a(p,()=>_(y.free)),a(F,()=>_(y.premium)),w(R=>{const U=t.fname,g=t.ftick,C=t.ftick;return U!==R._v$3&&n(E,R._v$3=U),g!==R._v$4&&n(p,R._v$4=g),C!==R._v$5&&n(F,R._v$5=C),R},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),P})()})),w(()=>n(c,t.tabContentPremiumFeatures)),c}}),s(Ee.Content,{value:"faq",get children(){const c=At();return a(c,s(Ie,{each:Ji,children:m=>(()=>{const l=zi(),f=l.firstChild,y=f.nextSibling;return a(f,()=>m.question),w(k=>{const P=t.faq,E=t.question,h=t.answer,p=m.answer;return P!==k._v$6&&n(l,k._v$6=P),E!==k._v$7&&n(f,k._v$7=E),h!==k._v$8&&n(y,k._v$8=h),p!==k._v$9&&(y.innerHTML=k._v$9=p),k},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),l})()})),w(()=>n(c,t.tabContentPremiumFeatures)),c}})]}}),v),a(v,s(Ae,{light:!0,onClick:()=>e.setOpen(!1),children:"Close"})),w(c=>{const m=t.premiumFeatures,l=t.premiumFeaturesFooter;return m!==c._v$&&n(i,c._v$=m),l!==c._v$2&&n(v,c._v$2=l),c},{_v$:void 0,_v$2:void 0}),i}})},"PremiumFeaturesDialog"),Vi=N("<div><div>Enter the public key of the account you wish to assign this Primal Name to:</div><div></div><div>Warning: only the person who owns this Nostr account will be able to administer this Primal name.</div><div>"),Wi=N("<div>Assign to a different nostr account"),qi=$(e=>{ne(()=>{e.open?e.onOpen&&e.onOpen():e.onClose&&e.onClose()});const[r,d]=Se(""),[o,u]=Se(""),_=$(v=>{if(v.length<63)return!1;if(v.startsWith("npub"))try{const c=it.decode(v);return u(()=>""),c.type==="npub"&&typeof c.data=="string"}catch{return u(()=>"Invalid public key"),!1}try{return it.npubEncode(v),u(()=>""),!0}catch{return u(()=>"Invalid public key"),!1}},"isValidKey"),i=$(v=>_(v)?v.startsWith("npub")?it.decode(v).data:v:"","decodePk");return s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return Wi()},get children(){const v=Vi(),c=v.firstChild,m=c.nextSibling,l=m.nextSibling,f=l.nextSibling;return a(m,s(tt,{get value(){return r()},onChange:d,type:"text",get validationState(){return o().length>0?"invalid":"valid"},get errorMessage(){return o()},get inputClass(){return t.centralize},get descriptionClass(){return t.centralize},get errorClass(){return t.centralError},noExtraSpace:!0})),a(f,s(Ae,{onClick:()=>e.setOpen&&e.setOpen(!1),light:!0,children:"Cancel"}),null),a(f,s(Ye,{onClick:()=>{const y=i(r());e.onApply&&e.onApply(y)},get disabled(){return!_(r())},children:"Apply"}),null),w(y=>{const k=t.changeRecipientDialog,P=t.description,E=t.input,h=t.warning,p=t.footer;return k!==y._v$&&n(v,y._v$=k),P!==y._v$2&&n(c,y._v$2=P),E!==y._v$3&&n(m,y._v$3=E),h!==y._v$4&&n(l,y._v$4=h),p!==y._v$5&&n(f,y._v$5=p),y},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),v}})},"PremiumChangeRecipientDialog"),Gi=N("<div><div>If you have a promo code enter it below:</div><div></div><div>"),Qi=N("<div>Apply a promo code"),Yi=$(e=>{ne(()=>{e.open?e.onOpen&&e.onOpen():e.onClose&&e.onClose()});const[r,d]=Se("");return s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return Qi()},get children(){const o=Gi(),u=o.firstChild,_=u.nextSibling,i=_.nextSibling;return a(_,s(tt,{get value(){return r()},onChange:d,type:"text",get inputClass(){return t.centralize},get descriptionClass(){return t.centralize},get errorClass(){return t.centralError},noExtraSpace:!0,placeholder:"promo code..."})),a(i,s(Ae,{onClick:()=>e.setOpen&&e.setOpen(!1),light:!0,children:"Cancel"}),null),a(i,s(Ye,{onClick:()=>{e.onApply&&e.onApply(r())},children:"Apply"}),null),w(v=>{const c=t.changeRecipientDialog,m=t.description,l=t.input,f=t.footer;return c!==v._v$&&n(o,v._v$=c),m!==v._v$2&&n(u,v._v$2=m),l!==v._v$3&&n(_,v._v$3=l),f!==v._v$4&&n(i,v._v$4=f),v},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),o}})},"PremiumPromoCodeDialog"),ji=N("<div><div>Why Get Primal Premium?</div><div><p>Become a Nostr power user and help shape the future! Open protocols like Nostr give us the opportunity to regain control over our online lives.</p><p>At Primal, we don’t rely on advertising. We don’t monetize user data. Our users are our customers. Our sole focus is to make the best possible product for our users. We open source all our work to help the Nostr ecosystem flourish. By signing up for Primal Premium, you are enabling us to continue building for Nostr.</p><p>Be the change you want to see in the world. If you don’t want to be the product, consider being the customer.</p><p>Have a question?&nbsp;"),Zi=$(e=>(()=>{const r=ji(),d=r.firstChild,o=d.nextSibling,u=o.firstChild,_=u.nextSibling,i=_.nextSibling,v=i.nextSibling;return v.firstChild,a(v,s(oe,{get onClick(){return e.onOpenFAQ},children:"Check out our FAQ."}),null),w(c=>{const m=t.premiumSidebar,l=t.premiumSidebarTitle,f=t.premiumSidebarDescription;return m!==c._v$&&n(r,c._v$=m),l!==c._v$2&&n(d,c._v$2=l),f!==c._v$3&&n(o,c._v$3=f),c},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})(),"PremiumSidebarInactve"),ot=N("<li>"),Xi=N("<div><div>Nostr Tools</div><div><ul><li></li><li></li><li></li><li></li></ul></div><div>Primal Account</div><div><ul><li></li><li></li></ul></div><div>Have a question?&nbsp;"),er=$(e=>{const r=$(()=>{if(e.data.membershipStatus.tier==="premium-legend")return!1;const o=e.data.membershipStatus.expires_on||0;return new Date().getTime()/1e3>o},"isExpired"),d=$(()=>e.data.membershipStatus.tier==="premium-legend","isLegend");return(()=>{const o=Xi(),u=o.firstChild,_=u.nextSibling,i=_.firstChild,v=i.firstChild,c=v.nextSibling,m=c.nextSibling,l=m.nextSibling,f=_.nextSibling,y=f.nextSibling,k=y.firstChild,P=k.firstChild,E=P.nextSibling,h=y.nextSibling;return h.firstChild,a(v,s(oe,{onClick:()=>e.onSidebarAction("premiumRelay"),children:"Premium Relay"})),a(c,s(oe,{onClick:()=>e.onSidebarAction("mediaManagment"),children:"Media Managment"})),a(m,s(oe,{onClick:()=>e.onSidebarAction("contactBackup"),children:"Contact List Backup"})),a(l,s(oe,{onClick:()=>e.onSidebarAction("contentBackup"),children:"Content Backup"})),a(P,s(oe,{onClick:()=>e.onSidebarAction("orderHistory"),children:"Order history"})),a(k,s(Z,{get when(){return!d()},get children(){const p=ot();return a(p,s(oe,{onClick:()=>e.onSidebarAction("extendSubscription"),get children(){return s(Z,{get when(){return r()},fallback:"Extend your subscripton",children:"Renew your subscripton"})}})),p}}),E),a(E,s(oe,{onClick:()=>e.onSidebarAction("changeName"),children:"Change your Primal name"})),a(k,s(Z,{get when(){return d()},get children(){const p=ot();return a(p,s(oe,{onClick:()=>e.onSidebarAction("customLegend"),children:"Legendary Profile Customization"})),p}}),null),a(k,s(Z,{get when(){return ge(()=>!r())()&&!d()},get children(){const p=ot();return a(p,s(oe,{onClick:()=>e.onSidebarAction("becomeLegend"),children:"Become a Legend"})),p}}),null),a(h,s(oe,{get onClick(){return e.onOpenFAQ},children:"Check out our FAQ."}),null),w(p=>{const F=t.premiumSidebar,R=t.premiumSidebarTitle,U=t.premiumSidebarDescription,g=t.premiumSidebarTitle,C=t.premiumSidebarDescription,S=t.premiumSidebarDescription;return F!==p._v$&&n(o,p._v$=F),R!==p._v$2&&n(u,p._v$2=R),U!==p._v$3&&n(_,p._v$3=U),g!==p._v$4&&n(f,p._v$4=g),C!==p._v$5&&n(y,p._v$5=C),S!==p._v$6&&n(h,p._v$6=S),p},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),o})()},"PremiumSidebarActive"),tr=N("<div><div>Enter your new desired name below. If available, it will be reserved immediately and your old name will be released.</div><div></div><div>"),nr=N("<div>Change your primal name"),ir=$(e=>{const r=$e(),[d,o]=Se(""),[u,_]=Se(""),[i,v]=Se(!1);let c,m=0;const l=$(f=>{o(()=>f),clearTimeout(m),m=setTimeout(async()=>{if(f.length<3){_(()=>r.formatMessage(D.errors.nameTooShort));return}const y=await e.checkNameAvailability(f);v(()=>y),_(y?()=>"":()=>r.formatMessage(D.errors.nameUnavailable))},500)},"checkName");return ne(()=>{e.open?setTimeout(()=>{o(()=>e.name||""),c&&c.focus(),e.onOpen&&e.onOpen()},300):e.onClose&&e.onClose()}),s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return nr()},get children(){const f=tr(),y=f.firstChild,k=y.nextSibling,P=k.nextSibling;return a(k,s(tt,{ref(E){const h=c;typeof h=="function"?h(E):c=E},get value(){return d()},onChange:l,get validationState(){return u().length>0?"invalid":"valid"},get errorMessage(){return u()},type:"text",get inputClass(){return t.centralize},get descriptionClass(){return t.centralize},get errorClass(){return t.centralError},noExtraSpace:!0,get successMessage(){return i()&&u().length===0?"Name is available":""},get successClass(){return t.centralError}})),a(P,s(Ae,{onClick:()=>e.setOpen&&e.setOpen(!1),light:!0,children:"Cancel"}),null),a(P,s(Ye,{onClick:()=>{e.onApply&&e.onApply(d())},get disabled(){return d()===e.name||d().length<3||u().length>0||!i},children:"Apply"}),null),w(E=>{const h=t.renameDialog,p=t.description,F=t.input,R=t.footer;return h!==E._v$&&n(f,E._v$=h),p!==E._v$2&&n(y,E._v$2=p),F!==E._v$3&&n(k,E._v$3=F),R!==E._v$4&&n(P,E._v$4=R),E},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),f}})},"PremiumRenameDialog"),rr=N('<div><div><div>By clicking “Buy Now” you acknowledge<br>that you agree to our <a href="https://primal.net/terms" target="__blank">Terms of Service</a></div><div>'),sr=N("<div>"),or=$(e=>{ne(()=>{e.open?e.onOpen&&e.onOpen():e.onClose&&e.onClose()});const r=$(()=>new Date().getTime()/1e3>(e.data.membershipStatus.expires_on||0),"isExpired");return s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return(()=>{const d=sr();return a(d,s(Z,{get when(){return r()},fallback:"Extend your subscription",children:"Renew your subscription"})),d})()},get children(){const d=rr(),o=d.firstChild,u=o.firstChild,_=u.nextSibling;return a(d,s(Qt,{get options(){return e.data.subOptions},get selectedOption(){return e.data.selectedSubOption},get data(){return e.data},onSelect:i=>{e.setData("selectedSubOption",()=>({...i}))},openPromoCode:()=>e.setData("openPromoCode",()=>!0),get promoCode(){return e.data.promoCode}}),o),a(_,s(Ae,{onClick:()=>e.setOpen&&e.setOpen(!1),light:!0,children:"Cancel"}),null),a(_,s(Ye,{onClick:()=>{e.setData("openSubscribe",()=>!0)},children:"Buy now"}),null),w(i=>{const v=t.renewModal,c=t.footer,m=t.disclaimer,l=t.actions;return v!==i._v$&&n(d,i._v$=v),c!==i._v$2&&n(o,i._v$2=c),m!==i._v$3&&n(u,i._v$3=m),l!==i._v$4&&n(_,i._v$4=l),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d}})},"PremiumRenewModal"),ar="/assets/5stars-425aac88.svg",lr="/assets/legend-7b099561.png",dr=N('<div><div><div></div><div><img><div></div><div></div><div><a target="_blank"></a><div></div><a target="_blank"></a></div></div><div><img><div></div><div></div><div></div></div><div><img><div></div><div></div><div>'),ur=$(e=>{const r=$e();return(()=>{const d=dr(),o=d.firstChild,u=o.firstChild,_=u.nextSibling,i=_.firstChild,v=i.nextSibling,c=v.nextSibling,m=c.nextSibling,l=m.firstChild,f=l.nextSibling,y=f.nextSibling,k=_.nextSibling,P=k.firstChild,E=P.nextSibling,h=E.nextSibling,p=h.nextSibling,F=k.nextSibling,R=F.firstChild,U=R.nextSibling,g=U.nextSibling,C=g.nextSibling;return a(u,()=>r.formatMessage(D.labels.supportCaption)),le(i,"src",ar),a(v,()=>r.formatMessage(D.labels.leaveStars)),a(c,()=>r.formatMessage(D.labels.leaveStarsDescription)),le(l,"href",tn),a(l,()=>r.formatMessage(D.actions.getIOS)),le(y,"href",nn),a(y,()=>r.formatMessage(D.actions.getAndroid)),le(P,"src",En),a(E,()=>r.formatMessage(D.labels.extendSubscription)),a(h,()=>r.formatMessage(D.labels.extendSubscriptionDescription)),a(p,s(oe,{get onClick(){return e.onExtendPremium},get children(){return r.formatMessage(D.actions.extendPlan)}})),le(R,"src",lr),a(U,()=>r.formatMessage(D.labels.becomeLegend)),a(g,()=>r.formatMessage(D.labels.becomeLegendDescription)),a(C,s(Kt,{href:"/premium/legend",get children(){return r.formatMessage(D.actions.becomeLegend)}})),w(S=>{const K=t.supportLayout,I=t.supportContent,T=t.caption,H=t.supportCard,J=t.starsImage,O=t.title,L=t.description,Y=t.actions,re=t.delimiter,de=t.playstoreLink,ce=t.supportCard,q=t.purpleCheckImage,ve=t.title,se=t.description,M=t.actions,B=t.supportCard,A=t.legendImage,b=t.title,z=t.description,V=t.actions;return K!==S._v$&&n(d,S._v$=K),I!==S._v$2&&n(o,S._v$2=I),T!==S._v$3&&n(u,S._v$3=T),H!==S._v$4&&n(_,S._v$4=H),J!==S._v$5&&n(i,S._v$5=J),O!==S._v$6&&n(v,S._v$6=O),L!==S._v$7&&n(c,S._v$7=L),Y!==S._v$8&&n(m,S._v$8=Y),re!==S._v$9&&n(f,S._v$9=re),de!==S._v$10&&n(y,S._v$10=de),ce!==S._v$11&&n(k,S._v$11=ce),q!==S._v$12&&n(P,S._v$12=q),ve!==S._v$13&&n(E,S._v$13=ve),se!==S._v$14&&n(h,S._v$14=se),M!==S._v$15&&n(p,S._v$15=M),B!==S._v$16&&n(F,S._v$16=B),A!==S._v$17&&n(R,S._v$17=A),b!==S._v$18&&n(U,S._v$18=b),z!==S._v$19&&n(g,S._v$19=z),V!==S._v$20&&n(C,S._v$20=V),S},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0}),d})()},"PremiumSupport"),cr="/assets/forever-32305e4d.png",vr="/assets/media-abed0260.png",mr="/assets/preston-ce715083.png",Dt="/assets/heart-c5c273a3.png",gr=N("<div>"),_r=N("<div><div></div><div><div><img><div><div></div><div></div></div></div><div><img><div><div></div><div></div></div></div><div><img><div><div></div><div></div></div></div></div><div><div><img> Our Eternal Gratitude <img></div><div>We’ll never forget our biggest supporters. People like you will help Nostr succeed.</div></div><div>"),fr=$(e=>{const r=$e();Ce();const d=$(()=>!e.pubkey,"isGuest"),o=$(()=>e.pubkey&&!e.user,"hasNoMetadata");return(()=>{const u=_r(),_=u.firstChild,i=_.nextSibling,v=i.firstChild,c=v.firstChild,m=c.nextSibling,l=m.firstChild,f=l.nextSibling,y=v.nextSibling,k=y.firstChild,P=k.nextSibling,E=P.firstChild,h=E.nextSibling,p=y.nextSibling,F=p.firstChild,R=F.nextSibling,U=R.firstChild,g=U.nextSibling,C=i.nextSibling,S=C.firstChild,K=S.firstChild,I=K.nextSibling,T=I.nextSibling,H=S.nextSibling,J=C.nextSibling;return a(u,s(Z,{get when(){return e.isOG},get children(){const O=gr();return a(O,()=>r.formatMessage(D.labels.legendPageExplanation)),w(()=>n(O,t.legendExplanation)),O}}),_),a(_,()=>r.formatMessage(D.labels.legendPageCaption)),le(c,"src",cr),a(l,()=>r.formatMessage(D.labels.foreverPremium)),a(f,()=>r.formatMessage(D.labels.foreverPremiumDescription)),le(k,"src",vr),a(E,()=>r.formatMessage(D.labels.moreMediaSpace)),a(h,()=>r.formatMessage(D.labels.moreMediaSpaceDescription)),le(F,"src",mr),a(U,()=>r.formatMessage(D.labels.customLegendProfile)),a(g,()=>r.formatMessage(D.labels.customLegendDescription)),le(K,"src",Dt),le(T,"src",Dt),a(J,s(pe,{get onClick(){return e.onBecomeLegendAction},get children(){return s(Fe,{get children(){return[s(Q,{get when(){return d()},get children(){return"Create account"}}),s(Q,{get when(){return o()},get children(){return"Edit profile"}}),s(Q,{when:!0,get children(){return ge(()=>r.formatMessage(D.actions.becomeLegend))}})]}})}})),w(O=>{const L=t.legendLayout,Y=t.legendCaption,re=t.legendPerks,de=t.legendPerk,ce=t.foreverPremiumIcon,q=t.perkInfo,ve=t.perkTitle,se=t.perkDescription,M=t.legendPerk,B=t.privateBetaIcon,A=t.perkInfo,b=t.perkTitle,z=t.perkDescription,V=t.legendPerk,G=t.customProfileIcon,W=t.perkInfo,x=t.perkTitle,X=t.perkDescription,ae=t.gratitude,ue=t.gratitudeTitle,fe=t.gratitudeMessage,me=t.legendFooter;return L!==O._v$&&n(u,O._v$=L),Y!==O._v$2&&n(_,O._v$2=Y),re!==O._v$3&&n(i,O._v$3=re),de!==O._v$4&&n(v,O._v$4=de),ce!==O._v$5&&n(c,O._v$5=ce),q!==O._v$6&&n(m,O._v$6=q),ve!==O._v$7&&n(l,O._v$7=ve),se!==O._v$8&&n(f,O._v$8=se),M!==O._v$9&&n(y,O._v$9=M),B!==O._v$10&&n(k,O._v$10=B),A!==O._v$11&&n(P,O._v$11=A),b!==O._v$12&&n(E,O._v$12=b),z!==O._v$13&&n(h,O._v$13=z),V!==O._v$14&&n(p,O._v$14=V),G!==O._v$15&&n(F,O._v$15=G),W!==O._v$16&&n(R,O._v$16=W),x!==O._v$17&&n(U,O._v$17=x),X!==O._v$18&&n(g,O._v$18=X),ae!==O._v$19&&n(C,O._v$19=ae),ue!==O._v$20&&n(S,O._v$20=ue),fe!==O._v$21&&n(H,O._v$21=fe),me!==O._v$22&&n(J,O._v$22=me),O},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0}),u})()},"PremiumLegend"),$r=N("<span>"),hr=$(e=>{const r=$(()=>{let o=e.when?Ge.flipActive2:Ge.flipInactive2;return e.light&&(o+=` ${Ge.light}`),o+=e.dark?` ${Ge.dark}`:"",o},"klass"),d=$(()=>e.fallback||e.children,"fallback");return s(Pn,{get id(){return e.id},get class(){return r()},get onClick(){return e.onClick},get disabled(){return e.disabled},get type(){return e.type},get children(){const o=$r();return a(o,s(Z,{get when(){return e.when},get fallback(){return d()},get children(){return e.children}})),o}})},"ButtonFlip2"),br=Ht(hr),yr=N("<div><div><div></div></div><div></div><div><div>Select donation amount</div><div></div></div><div>"),Sr=[["USD",1e3],["USD",2500],["USD",5e3],["USD",7500],["USD",1e4],["BTC",1]],pr=$(e=>{const r=$e(),d=$(()=>(e.data.exchangeRateUSD||1)/1e8,"rate"),[o,u]=Se(0),_=$(()=>e.data.name.length>0?e.data.name:Xe(e.profile),"displayName");ne(()=>{e.data.isSocketOpen&&e.getExchangeRate&&e.getExchangeRate()}),ne(()=>{u(()=>1e3/d())});const i=$(()=>{const c=o();return{amounts:{usd:Math.ceil(c*d()),sats:Math.ceil(c)}}},"subscription"),v=$(c=>{let[m,l]=c;if(m==="USD"){u(()=>Math.floor(l/d()));return}u(Math.floor(l*1e8))},"selectDonation");return(()=>{const c=yr(),m=c.firstChild,l=m.firstChild,f=m.nextSibling,y=f.nextSibling,k=y.firstChild,P=k.nextSibling,E=y.nextSibling;return a(m,s(Qe,{get user(){return e.profile},size:"xl",legendConfig:{style:"GOLD",custom_badge:!0,avatar_glow:!0}}),l),a(l,_,null),a(l,s(Jt,{get user(){return e.profile},large:!0,mock:!0,legendConfig:{style:"GOLD",custom_badge:!0,avatar_glow:!0}}),null),a(f,s(yn,{userTier:"premium-legend",get cohortInfo(){return{cohort_1:"Legend",cohort_2:`${new Date().getFullYear()}`,tier:"premium-legend",expires_on:new Date().getTime()+1e3}},legendConfig:{style:"GOLD",custom_badge:!0,avatar_glow:!0}})),a(c,s(nt,{reverse:!0,get amountUSD(){return i().amounts.usd},get amountBTC(){return i().amounts.sats/1e8}}),y),a(P,s(Ie,{each:Sr,children:h=>s(br,{onClick:()=>v(h),get when(){return ge(()=>h[0]==="USD")()?i().amounts.usd===h[1]:i().amounts.sats===h[1]*1e8},get children(){return[ge(()=>h[0]==="USD"?"$":""),ge(()=>h[1].toLocaleString()),ge(()=>h[0]==="BTC"?" BTC":"")]}})})),a(E,s(pe,{onClick:()=>e.onBuyLegend&&e.onBuyLegend(i().amounts.usd),get children(){return r.formatMessage(D.actions.payNow)}})),w(h=>{const p=t.premiumBecomeLegend,F=t.userInfo,R=t.userName,U=t.premiumActive,g=t.donation,C=t.donationCaption,S=t.donationPicker,K=t.legendaryPay;return p!==h._v$&&n(c,h._v$=p),F!==h._v$2&&n(m,h._v$2=F),R!==h._v$3&&n(l,h._v$3=R),U!==h._v$4&&n(f,h._v$4=U),g!==h._v$5&&n(y,h._v$5=g),C!==h._v$6&&n(k,h._v$6=C),S!==h._v$7&&n(P,h._v$7=S),K!==h._v$8&&n(E,h._v$8=K),h},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),c})()},"PremiumBecomeLegend"),Cr=N("<div><div></div><div></div><div></div><div>"),wr=N("<div>Become a Primal Legend Now"),Pr=$(e=>(ne(()=>{e.open?e.onOpen&&e.onOpen():e.onClose&&e.onClose()}),s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return wr()},get children(){const r=Cr(),d=r.firstChild,o=d.nextSibling,u=o.nextSibling,_=u.nextSibling;return a(o,s(Wt,{get data(){return e.subscription.lnUrl||""}})),a(u,s(_t,{color:"link",get copyValue(){return e.subscription.lnUrl||""},labelBeforeIcon:!0,label:"Copy invoice"})),a(_,s(nt,{get amountUSD(){return e.subscription.amounts.usd},get amountBTC(){return e.subscription.amounts.sats/1e8}})),w(i=>{const v=t.subscribeModal,c=t.subsModalCaption,m=t.copyButton,l=t.pricePlan;return v!==i._v$&&n(r,i._v$=v),c!==i._v$2&&n(d,i._v$2=c),m!==i._v$3&&n(u,i._v$3=m),l!==i._v$4&&n(_,i._v$4=l),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r}})),"PremiumLegendModal"),xr=N("<div>Running strfry.git version "),Tt=N("<div>"),kr=N("<div><div><div></div><div>Premium Relay</div><div></div><div>The Primal Premium relay is a high- performance Nostr relay that only accepts content from Primal Premium users. Posting to this relay improves your visibility on the Nostr network because it guarantees high signal and lack of spam to any Nostr user that reads from it.</div><div><div>wss://premium.primal.net/"),Bt="wss://premium.primal.net/",Or=$(e=>{const r=De(),d=$(()=>r?.relays.find(i=>i.url===Bt),"isConnected"),[o,u]=He({}),_=$(async()=>{const v=await(await fetch("https://premium.primal.net",{headers:{Accept:"application/nostr+json"}})).json();u(()=>({...v}))},"fetchRelayVersion");return et(()=>{_()}),(()=>{const i=kr(),v=i.firstChild,c=v.firstChild,m=c.nextSibling,l=m.nextSibling,f=l.nextSibling,y=f.nextSibling,k=y.firstChild;return a(v,s(Z,{get when(){return o.version},get children(){const P=xr();return P.firstChild,a(P,()=>o.version,null),w(()=>n(P,t.subtitle)),P}}),l),a(y,s(Z,{get when(){return d()},get fallback(){return(()=>{const P=Tt();return w(()=>n(P,t.disconnected)),P})()},get children(){const P=Tt();return w(()=>n(P,t.connected)),P}}),k),a(v,s(Z,{get when(){return d()},get fallback(){return s(pe,{onClick:()=>r?.actions.addRelay(Bt),children:"Connect to Premium Relay"})},get children(){return s(Ae,{onClick:()=>{},children:"Connected to Premium Relay"})}}),null),w(P=>{const E=t.legendLayout,h=t.premiumRelayLayout,p=t.primalLogo,F=t.title,R=t.separator,U=t.relayDescription,g=t.premiumRelayAddress;return E!==P._v$&&n(i,P._v$=E),h!==P._v$2&&n(v,P._v$2=h),p!==P._v$3&&n(c,P._v$3=p),F!==P._v$4&&n(m,P._v$4=F),R!==P._v$5&&n(l,P._v$5=R),U!==P._v$6&&n(f,P._v$6=U),g!==P._v$7&&n(y,P._v$7=g),P},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),i})()},"PremiumRelay"),Nr=N("<div><div><div> GB of <!> GB used</div><div><div></div><div></div><div></div><div></div></div><div><div><div></div><div>Images</div></div><div><div></div><div>Videos</div></div><div><div></div><div>Other</div></div></div></div><div><table><thead><tr><th>File</th><th>Details</th><th>Copy</th><th>Delete</th></tr></thead><tbody>"),at=N("<img>"),Er=N("<tr><td></td><td><div><span></span><span></span></div><div></div></td><td></td><td><button><div>"),Mr=$(e=>{$e(),Ce();const r=De(),d=rn(),[o,u]=He({mediaList:[],rawList:[],paging:{...mt()},showConfirmDelete:"",videoWidth:0,imageWidth:0,otherWidth:0,zoomed:!1});ne(()=>{gt()&&r?.isKeyLookupDone&&r.publicKey&&(i(r.publicKey),v(r.publicKey))});const _=$(()=>e.data.membershipStatus.tier==="premium-legend"?1e11:e.data.membershipStatus.tier==="premium"?1e10:0,"total"),i=$(g=>{const C=ye();if(!C)return;const S=`premium_media_stats_${ie}`,K=Le(S,{onEose:()=>{K()}});Un(g,S,C)},"getMediaStats"),v=$((g,C=0,S=0)=>{const K=ye();if(!K)return;const I=`premium_media_list_${ie}`,T=Le(I,{onEvent:(H,J)=>{if(J.kind===te.MediaList){const O=JSON.parse(J.content);u("rawList",()=>[...O])}if(J.kind===te.FeedRange){const O=JSON.parse(J.content);u("paging",()=>({...O}))}},onEose:()=>{T();const H=o.paging.elements.reduce((J,O)=>{const L=o.rawList.find(Y=>Y.url===O);return L?[...J,{...L}]:J},[]);u("mediaList",J=>[...J,...H]),u("rawList",()=>[])}});zn(g,C,S,I,K)},"getMediaList"),c=$(()=>{const g=r?.publicKey;!g||o.mediaList.length===0||o.paging.since===0||v(g,o.paging.since,1)},"getMediaListNextPage"),m=$((g,C)=>{const S=ye();if(!S||!g||!C||C.length===0)return;const K=`premium_delete_media_${ie}`,I=Le(K,{onEose:()=>{I(),u("mediaList",T=>T.filter(H=>H.url!==C))}});Hn(g,C,K,S)},"deleteMedia");let l;const f=$((g,C)=>{if(!d||C===0)return;const S=d?.mediaStats.image,K=d?.mediaStats.video,I=d?.mediaStats.other;u("imageWidth",()=>Math.floor(S*g/C)),u("videoWidth",()=>Math.floor(K*g/C)),u("otherWidth",()=>Math.floor(I*g/C))},"updateProgressBar");ne(()=>{if(!d||!l)return;const g=l.clientWidth,C=_();f(g,C)});const y=$(()=>{if(!d)return 0;const{image:g,video:C,other:S}=d?.mediaStats;return g+C+S},"used"),k=$(g=>g>1e9?`${(g/1e9).toFixed(2)} GB`:g>1e6?`${(g/1e6).toFixed(2)} MB`:g>1e3?`${(g/1e3).toFixed(2)} KB`:`${g.toFixed(2)} Bytes`,"fileSize"),P=$(()=>{if(!d)return"0";const g=_()/1e9-y()/1e9;return g>0?g.toFixed(2):"0"},"freeSpace"),E=$(g=>{const[C,S]=g.split("/");return`${S} ${C}`},"fileType"),h=$(g=>{let C=d?.actions.getMediaUrl(g,"s");return C||(C=d?.actions.getMediaUrl(g,"o")),C||g},"getMediaUrl"),p=$(g=>{const C=g.target;return C.onerror="",C.src=Mn,!0},"onImgError"),F=$(g=>{const C=g.target;return C.onerror="",C.src=Ct,!0},"onVideoThumbnailError"),R=$(()=>{if(!l)return;const g=y(),C=Math.ceil(l.clientWidth*.8);u("zoomed",()=>!0),f(C,g)},"onZoomIn"),U=$(()=>{if(!l)return;const g=_(),C=l.clientWidth;u("zoomed",()=>!1),f(C,g)},"onZoomOut");return(()=>{const g=Nr(),C=g.firstChild,S=C.firstChild,K=S.firstChild,I=K.nextSibling;I.nextSibling;const T=S.nextSibling,H=T.firstChild,J=H.nextSibling,O=J.nextSibling,L=O.nextSibling,Y=T.nextSibling,re=Y.firstChild,de=re.firstChild,ce=de.nextSibling,q=re.nextSibling,ve=q.firstChild,se=ve.nextSibling,M=q.nextSibling,B=M.firstChild,A=B.nextSibling,b=C.nextSibling,z=b.firstChild,V=z.firstChild,G=V.nextSibling;a(S,()=>(y()/1e9).toFixed(2),K),a(S,()=>_()/1e9,I),T.$$mouseout=U,T.$$mouseover=R;const W=l;return typeof W=="function"?sn(W,T):l=T,a(L,s(Z,{get when(){return!o.zoomed},get fallback(){return[ge(()=>(y()/1e9).toFixed(2))," GB used"]},get children(){return[ge(()=>P())," GB free"]}})),a(G,s(Ie,{get each(){return o.mediaList},children:x=>(()=>{const X=Er(),ae=X.firstChild,ue=ae.nextSibling,fe=ue.firstChild,me=fe.firstChild,ze=me.nextSibling,ee=fe.nextSibling,we=ue.nextSibling,Pe=we.nextSibling,Be=Pe.firstChild,Re=Be.firstChild;return a(ae,s(Z,{get when(){return x.mimetype.startsWith("video")},get fallback(){return(()=>{const j=at();return j.addEventListener("error",p),w(()=>le(j,"src",h(x.url))),j})()},get children(){return s(Z,{get when(){return d?.thumbnails[x.url]},get fallback(){return(()=>{const j=at();return le(j,"src",Ct),j})()},get children(){const j=at();return j.addEventListener("error",F),w(()=>le(j,"src",d?.thumbnails[x.url])),j}})}})),a(me,()=>k(x.size)),a(ze,()=>E(x.mimetype)),a(ee,()=>Ue(x.created_at)),a(we,s(_t,{get copyValue(){return x.url},color:"light"})),Be.$$click=()=>u("showConfirmDelete",()=>x.url),w(j=>{const xe=t.tdFile,ke=t.tdDetails,Oe=t.fileInfo,Je=t.fileDate,Ke=t.tdAction,Ve=t.tdAction,We=t.deleteIcon;return xe!==j._v$26&&n(ae,j._v$26=xe),ke!==j._v$27&&n(ue,j._v$27=ke),Oe!==j._v$28&&n(fe,j._v$28=Oe),Je!==j._v$29&&n(ee,j._v$29=Je),Ke!==j._v$30&&n(we,j._v$30=Ke),Ve!==j._v$31&&n(Pe,j._v$31=Ve),We!==j._v$32&&n(Re,j._v$32=We),j},{_v$26:void 0,_v$27:void 0,_v$28:void 0,_v$29:void 0,_v$30:void 0,_v$31:void 0,_v$32:void 0}),X})()})),a(b,s(qt,{isSmall:!0,loadNextPage:c}),null),a(b,s(Gt,{get open(){return o.showConfirmDelete.length>0},description:"Are you sure you want to delete this media file? All notes referencing this media file will look broken.",onConfirm:()=>{m(r?.publicKey,o.showConfirmDelete),u("showConfirmDelete",()=>"")},onAbort:()=>u("showConfirmDelete",()=>"")}),null),w(x=>{const X=t.premiumMediaLayout,ae=t.mediaSatsHolder,ue=t.mediaStorageStats,fe=t.mediaStatsBar,me=t.image,ze=`width: ${o.imageWidth}px;`,ee=t.video,we=`width: ${o.videoWidth}px`,Pe=t.other,Be=`width: ${o.otherWidth}px;`,Re=t.spaceLeft,j=t.mediaStatsLegend,xe=`${d?.mediaStats.image.toLocaleString()} Bytes`,ke=t.legendItemImages,Oe=t.dot,Je=t.label,Ke=t.legendItemVideos,Ve=`${d?.mediaStats.video.toLocaleString()} Bytes`,We=t.dot,ft=t.label,$t=t.legendItemOther,ht=`${d?.mediaStats.other.toLocaleString()} Bytes`,bt=t.dot,yt=t.label,St=t.mediaList;return X!==x._v$&&n(g,x._v$=X),ae!==x._v$2&&n(C,x._v$2=ae),ue!==x._v$3&&n(S,x._v$3=ue),fe!==x._v$4&&n(T,x._v$4=fe),me!==x._v$5&&n(H,x._v$5=me),x._v$6=rt(H,ze,x._v$6),ee!==x._v$7&&n(J,x._v$7=ee),x._v$8=rt(J,we,x._v$8),Pe!==x._v$9&&n(O,x._v$9=Pe),x._v$10=rt(O,Be,x._v$10),Re!==x._v$11&&n(L,x._v$11=Re),j!==x._v$12&&n(Y,x._v$12=j),xe!==x._v$13&&le(Y,"title",x._v$13=xe),ke!==x._v$14&&n(re,x._v$14=ke),Oe!==x._v$15&&n(de,x._v$15=Oe),Je!==x._v$16&&n(ce,x._v$16=Je),Ke!==x._v$17&&n(q,x._v$17=Ke),Ve!==x._v$18&&le(q,"title",x._v$18=Ve),We!==x._v$19&&n(ve,x._v$19=We),ft!==x._v$20&&n(se,x._v$20=ft),$t!==x._v$21&&n(M,x._v$21=$t),ht!==x._v$22&&le(M,"title",x._v$22=ht),bt!==x._v$23&&n(B,x._v$23=bt),yt!==x._v$24&&n(A,x._v$24=yt),St!==x._v$25&&n(b,x._v$25=St),x},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0,_v$24:void 0,_v$25:void 0}),g})()},"PremiumMediaManagment");ut(["mouseover","mouseout","click"]);const Lr=N("<div><table><thead><tr><th>Date</th><th>Follows</th><th>Recover list</th></tr></thead><tbody>"),Ir=N("<tr><td></td><td></td><td>"),Ar=$(e=>{$e(),Ce();const r=De(),[d,o]=He({history:[],rawHistory:[],paging:{...mt()},showConfirmRecover:void 0});ne(()=>{gt()&&r?.isKeyLookupDone&&r.publicKey&&u(r.publicKey)});const u=$((i,v=0,c=0)=>{const m=ye();if(!m)return;const l=`premium_contact_history_${ie}`,f=Le(l,{onEvent:(y,k)=>{if(k.kind===te.Contacts){const P={id:k.id,created_at:k.created_at||0,follows_count:k.tags.reduce((E,h)=>h[0]!=="p"?E:E+1,0),event:k};o("rawHistory",d.rawHistory.length,()=>({...P}))}if(k.kind===te.FeedRange){const P=JSON.parse(k.content);o("paging",()=>({...P}))}},onEose:()=>{f();const y=d.paging.elements.reduce((k,P)=>{const E=d.rawHistory.find(h=>h.id===P);return E?[...k,{...E}]:k},[]);o("history",k=>[...k,...y]),o("rawHistory",()=>[])}});Jn(i,v,c,l,m)},"getContactHistory"),_=$(i=>{if(r&&i){const v=Math.floor(new Date().getTime()/1e3);r.actions.replaceContactList(v,JSON.parse(JSON.stringify(i.event.tags)),i.event.content)}},"onRecover");return(()=>{const i=Lr(),v=i.firstChild,c=v.firstChild,m=c.nextSibling;return a(m,s(Ie,{get each(){return d.history},children:l=>(()=>{const f=Ir(),y=f.firstChild,k=y.nextSibling,P=k.nextSibling;return a(y,()=>pn(l.created_at)),a(k,()=>l.follows_count),a(P,s(oe,{onClick:()=>o("showConfirmRecover",()=>l),children:"Recover"})),f})()})),a(i,s(Gt,{get open(){return d.showConfirmRecover!==void 0},onConfirm:()=>{_(d.showConfirmRecover),o("showConfirmRecover",()=>{})},get description(){return`Are you sure? This will update your follow list with the version from ${Ue(d.showConfirmRecover?.created_at)}, containing ${d.showConfirmRecover?.follows_count} contacts.`},onAbort:()=>o("showConfirmRecover",()=>{})}),null),w(()=>n(i,t.mediaList)),i})()},"PremiumContactBackup"),Me=N("<div>"),Dr=N("<div><table><thead><tr><th>Count</th><th>Kind</th><th>Rebroadcast</th><th>Download</th></tr></thead><tbody><tr><td></td><td>All Events</td><td></td><td>"),Tr=N("<tr><td></td><td></td><td></td><td>"),Br=N('<div class="linkish">broadcasting...'),Rt=N('<div class="linkish">Downloading...'),Ft={0:"Profile Metadata",1:"Notes",3:"Contacts",4:"Encrypted Direct Messages",5:"Event Deletions",6:"Reposts",7:"Reactions",40:"Channel Creations",41:"Channel Metadata",42:"Channel Messages",43:"Channel Hide Messages",44:"Channel Mute Users",7e3:"Job Feedback",7001:"Subscribtions",7002:"Unsubscribes",9802:"Highlights",9735:"Zaps",1e4:"Mute Lists",10002:"Relay Lists",10003:"Bookmarks",10063:"User server list",17e3:"Tier Lists",3e4:"Categorized People",30023:"Reads",30078:"Settings",31990:"DVMs",37001:"Tier"},Ut=$(()=>({running:!1,status:"",progress:0,kinds:null}),"emptyBroadcastStatus"),Rr=$(e=>{$e(),Ce();const r=De(),d=Vt(),[o,u]=He({stats:[],isDownloading:void 0,isBroadcasting:void 0,broadcastStatus:{...Ut()},statusSubId:""});let _=$(()=>{},"unsubStatus");et(()=>{f()}),vt(()=>{const h=ye(),p=r?.publicKey,F=o.statusSubId;!h||!p||(Qn(p,F,h),_())}),ne(()=>{gt()&&r?.isKeyLookupDone&&r.publicKey&&i(r.publicKey)}),ne(()=>{const h=o.broadcastStatus;if(h.running){const p=h.kinds===null||h.kinds.length===0?-1:h.kinds[0];u("isBroadcasting",()=>p)}else u("isBroadcasting",()=>{})});const i=$((h,p=0,F=0)=>{const R=ye();if(!R)return;const U=`premium_content_list_${ie}`,g=Le(U,{onEvent:(C,S)=>{if(S.kind===te.ContentStats){const K=JSON.parse(S.content);u("stats",()=>[...K])}},onEose:()=>{g()}});Kn(h,U,R)},"getContentList"),v=$(h=>h>=5e3&&h<6e3?"Job Request":h>=6e3&&h<7e3?"Job Result":Ft[h]||h,"getKindName"),c=$(()=>o.stats.reduce((h,p)=>h+p.cnt,0),"totalCount"),m=$(h=>{const p=ye(),F=r?.publicKey;if(!p||!F)return;u("isDownloading",()=>h);const R=`premium_content_backup_${ie}`;let U="";const g=Le(R,{onEvent:(S,K)=>{U+=`${JSON.stringify(K)}
`},onEose:()=>{if(g(),U.length===0){d?.sendWarning("Failed to fetch events. Please try again."),u("isDownloading",()=>{});return}const S=h>=0?`${h}`:"all",K=r.activeUser?.nip05||r.publicKey,I=new Date().toISOString().split("T")[0];var T=window.document.createElement("a");const H=on.gzip(U);T.href=window.URL.createObjectURL(new Blob([H],{type:"application/x-gzip-compressed"})),T.download=`nostr-content-${S}-${K}-${I}.txt.gz`,document.body.appendChild(T),T.click(),document.body.removeChild(T),u("isDownloading",()=>{})}}),C=h>-1?[h]:[];Vn(F,C,R,p)},"onDownload"),l=$(h=>{const p=ye(),F=r?.publicKey;if(!p||!F)return;u("isBroadcasting",()=>h),u("broadcastStatus",C=>({...C,kinds:[h]}));const R=`premium_content_broadcast_${ie}`,U=Le(R,{onEvent:(C,S)=>{},onEose:()=>{U()}}),g=h>-1?[h]:[];Wn(F,g,R,p)},"onBroadcast"),f=$(()=>{const h=ye(),p=r?.publicKey;if(!h||!p)return;const F=`premium_broadcast_status_${ie}`;u("statusSubId",()=>F),_=Le(F,{onEvent:(R,U)=>{if(U.kind===te.BroadcastStatus){let g=JSON.parse(U.content);g.running||!1||(g.status="finished fine")&&u("broadcastStatus",S=>({...S,progress:1})),u("broadcastStatus",()=>({...g}))}},onEose:()=>{}}),Gn(p,F,h)},"startListeningForBroadcastStatus"),y=$(()=>{const h=ye(),p=r?.publicKey;if(!h||!p)return;const F=`premium_broadcast_cancel_${ie}`;qn(p,F,h),u("broadcastStatus",()=>({...Ut()})),u("isBroadcasting",()=>{})},"cancelBroadcast"),k=$(()=>{const h=[1,4,7,30023];return o.stats.filter(p=>h.includes(p.kind))},"filteredStats"),P=$(()=>o.broadcastStatus.running?Math.round(o.broadcastStatus.progress*100):0,"activeProgress"),E=$(()=>{const p=o.broadcastStatus.kinds;let F="Rebroadcasting";if(p===null||p.length===0)F+=" all events";else{const R=p[0];F+=` ${Ft[R]}`}return`${F}: ${P()}%`},"rebroadstingLabel");return(()=>{const h=Dr(),p=h.firstChild,F=p.firstChild,R=F.nextSibling,U=R.firstChild,g=U.firstChild,C=g.nextSibling,S=C.nextSibling,K=S.nextSibling;return a(R,s(Ie,{get each(){return k()},children:I=>(()=>{const T=Tr(),H=T.firstChild,J=H.nextSibling,O=J.nextSibling,L=O.nextSibling;return a(H,()=>I.cnt.toLocaleString()),a(J,()=>v(I.kind)),a(O,s(Z,{get when(){return o.isBroadcasting!==I.kind},get fallback(){return Br()},get children(){return s(oe,{onClick:()=>l(I.kind),get disabled(){return o.isBroadcasting!==void 0},get children(){const Y=Me();return w(()=>n(Y,t.broadcastIcon)),Y}})}})),a(L,s(Z,{get when(){return o.isDownloading!==I.kind},get fallback(){return Rt()},get children(){return s(oe,{onClick:()=>m(I.kind),get children(){const Y=Me();return w(()=>n(Y,t.downloadIcon)),Y}})}})),w(Y=>{const re=t.tdAction,de=t.tdAction;return re!==Y._v$4&&n(O,Y._v$4=re),de!==Y._v$5&&n(L,Y._v$5=de),Y},{_v$4:void 0,_v$5:void 0}),T})()}),U),a(g,()=>c().toLocaleString()),a(S,s(oe,{onClick:()=>l(-1),get disabled(){return o.isBroadcasting},get children(){const I=Me();return w(()=>n(I,t.broadcastIcon)),I}})),a(K,s(Z,{get when(){return o.isDownloading!==-1},get fallback(){return Rt()},get children(){return s(oe,{onClick:()=>m(-1),get children(){const I=Me();return w(()=>n(I,t.downloadIcon)),I}})}})),a(h,s(Z,{get when(){return o.isBroadcasting},get children(){return s(je,{get value(){return P()},get class(){return t.broadcastProgress},get children(){return[(()=>{const I=Me();return a(I,s(je.Label,{get class(){return t.progressLabel},get children(){return E()}})),w(()=>n(I,t.progressLabelContainer)),I})(),(()=>{const I=Me();return a(I,s(je.Track,{get class(){return t.progressTrack},get children(){return s(je.Fill,{get class(){return t.progressFill}})}}),null),a(I,s(Ln,{onClick:()=>{y()},get disabled(){return P()>100},get children(){return s(Z,{get when(){return P()<100},get fallback(){return(()=>{const T=Me();return w(()=>n(T,t.iconCheck)),T})()},get children(){const T=Me();return w(()=>n(T,t.iconClose)),T}})}}),null),w(()=>n(I,t.progressTrackContainer)),I})()]}})}}),null),w(I=>{const T=t.mediaList,H=t.tdAction,J=t.tdAction;return T!==I._v$&&n(h,I._v$=T),H!==I._v$2&&n(S,I._v$2=H),J!==I._v$3&&n(K,I._v$3=J),I},{_v$:void 0,_v$2:void 0,_v$3:void 0}),h})()},"PremiumContentBackup"),Fr=N("<div><div>"),lt=N("<div>"),Ur=N("<div>Custom badge"),zr=N("<div>Avatar Ring"),Hr=N("<div><div>Don’t want to stand out?</div><div>If you disable the custom badge and avatar ring,</div><div>your profile will look like any other profile on Primal."),Jr=["","GOLD","AQUA","SILVER","PURPLE","PURPLEHAZE","TEAL","BROWN","BLUE","SUNFIRE"],Kr=$(e=>{$e(),Ce();const r=De(),d=ct(),[o,u]=He({style:"",custom_badge:!0,avatar_glow:!0});ne(()=>{if(r?.isKeyLookupDone&&r?.publicKey){const i=d?.legendCustomization[r.publicKey];u(()=>({...i}))}});const _=$(()=>Jr.map(i=>{let v=t.legendStyleItem;return o.style===i&&(v+=` ${t.selected}`),(()=>{const c=Fr();return c.$$click=()=>u("style",()=>i),n(c,v),le(c,"data-legend-style",i),c})()}),"styleOptions");return(()=>{const i=lt();return a(i,s(Yt,{get data(){return e.data},get profile(){return r?.activeUser},legendConfig:o}),null),a(i,s(Z,{get when(){return e.data.membershipStatus.tier==="premium-legend"},get children(){return[(()=>{const v=lt();return a(v,_),w(()=>n(v,t.legendStylePicker)),v})(),(()=>{const v=lt();return a(v,s(wt,{get checked(){return o.custom_badge},onChange:c=>u("custom_badge",()=>c),get children(){const c=Ur();return w(()=>n(c,t.optionLabel)),c}}),null),a(v,s(wt,{get checked(){return o.avatar_glow},onChange:c=>u("avatar_glow",()=>c),get children(){const c=zr();return w(()=>n(c,t.optionLabel)),c}}),null),w(()=>n(v,t.legendStyleOptions)),v})(),(()=>{const v=Hr();return w(()=>n(v,t.legendStyleDescription)),v})(),s(Ye,{onClick:()=>e.onConfigSave&&e.onConfigSave(o),children:"Apply Legendary Profile Customization"})]}}),null),w(()=>n(i,t.legendCustomizationLayout)),i})()},"PremiumCustomLegend");ut(["click"]);const Vr=N("<div><div><table><thead><tr><th>Date</th><th>Purchase</th><th>Amount</th></tr></thead><tbody>"),Wr=N("<div>Order History"),qr=N("<tr><td></td><td></td><td>"),Gr=$(e=>{De(),ne(()=>{e.open?e.onOpen&&e.onOpen():e.onClose&&e.onClose()});const r=$(d=>d.currency==="usd"?`$${parseFloat(d.amount_usd).toLocaleString()} USD`:`${(parseFloat(d.amount_btc)*1e8).toLocaleString()} sats`,"getAmount");return s(Te,{get open(){return e.open},get setOpen(){return e.setOpen},triggerClass:"hidden",get title(){return Wr()},get children(){const d=Vr(),o=d.firstChild,u=o.firstChild,_=u.firstChild,i=_.nextSibling;return a(i,s(Ie,{get each(){return e.data.orderHistory},children:v=>(()=>{const c=qr(),m=c.firstChild,l=m.nextSibling,f=l.nextSibling;return a(m,()=>Ue(v.purchased_at)),a(l,()=>v.product_label),a(f,()=>r(v)),c})()})),a(o,s(qt,{isSmall:!0,get loadNextPage(){return e.onNextPage}}),null),w(v=>{const c=t.orderHistoryModal,m=t.orderHistory;return c!==v._v$&&n(d,v._v$=c),m!==v._v$2&&n(o,v._v$2=m),v},{_v$:void 0,_v$2:void 0}),d}})},"PremiumOrderHistoryModal"),he=N("<div>"),Qr=N("<div><div></div><div></div><div>"),Yr=N("<div><div></div><div>"),jr=N("<div><div><div>You are Buying:</div><div> Months of Primal Premium</div></div><div><div><div>primal name:</div><div></div><div></div></div><div></div><div>"),Zr=N("<div><div><div>"),Vs=1e8,zt=[{id:"3-months-premium",price:"m7",duration:"m3"},{id:"12-months-premium",price:"m6",duration:"m12"}],Ws=$(()=>{const e=$e(),r=De(),d=an(),o=Ce(),u=Vt(),_=ct(),[i,v]=ln();let c,m;const[l,f]=He({name:"",rename:"",nameAvailable:!0,errorMessage:"",subOptions:[...zt],selectedSubOption:{...zt[0]},openSubscribe:!1,openSuccess:!1,successMessage:"",openAssignPubkey:!1,openPromoCode:!1,openRename:!1,openRenew:!1,openLegend:!1,openOrderHistory:!1,openFeatures:void 0,subscriptions:{},membershipStatus:{},recipientPubkey:void 0,recipient:void 0,promoCode:"",isSocketOpen:!1,exchangeRateUSD:0,legendAmount:0,legendSupscription:{lnUrl:"",membershipId:"",amounts:{usd:0,sats:0}},orderHistory:[],pagingOrderHistory:{...mt()}}),y=$(async M=>{const B=`recipient_${ie}`,A=await vn(r?.publicKey,l.recipientPubkey,B);A&&f("recipient",()=>({...A}))},"getRecipientUser"),k=$(()=>l.selectedSubOption.id.split("-")[0]||"0","subOptionCaption"),P=$(()=>{if(!r?.publicKey){r?.actions.showGetStarted();return}if(!r?.activeUser){o("/settings/profile");return}o("/premium/name")},"onStartAction"),E=$(()=>{if(!r?.publicKey){r?.actions.showGetStarted();return}if(!r?.activeUser){o("/settings/profile");return}if(l.membershipStatus.tier!=="premium"){o("/premium/name?og=legend");return}o("/premium/legendary")},"onBecomeLegendAction"),h=$(M=>{f("errorMessage",()=>""),f("name",()=>M)},"setName"),p=$(async(M,B)=>{const A=l.recipient;if(!A||!r)return;const b=B||A.nip05.endsWith("@primal.net"),z=B||A.lud16.endsWith("@primal.net");if(!z&&!b)return;let V={nip05:A.nip05,lud16:A.lud16};const G=`${l.name}@primal.net`,W=`${`${l.name}@primal.net`}`;if(b&&(!M||M==="nip05")&&(V.nip05=G),z&&(!M||M==="lud16")&&(V.lud16=W),V.lud16===A.lud16&&V.nip05===A.nip05)return;const{success:x,note:X}=await mn({...A,...V},r.proxyThroughPrimal,r.activeRelays,r.relaySettings);if(x){X&&gn([X],`import_profile_${ie}`,()=>{const ae=JSON.parse(X.content);l.recipientPubkey&&r.actions.updateAccountProfile(l.recipientPubkey),f("recipient",()=>({...ae})),u?.sendSuccess(e.formatMessage(_n.updateProfileSuccess))});return}},"updateUserMetadata"),F=$(async()=>{if(!m)return;if(l.name.length<3){f("errorMessage",()=>e.formatMessage(D.errors.nameTooShort));return}const M=`name_check_${ie}`;let B=!1;try{B=await kt(l.name,r?.publicKey,m,M)}catch(A){B=!1,fn("ERROR while checking premium name availability: ",A)}f("nameAvailable",()=>B),B?o(`/premium/overview${se()==="legend"?"?og=legend":""}`):f("errorMessage",()=>e.formatMessage(D.errors.nameUnavailable))},"checkName"),R=$(M=>{if(!m)return;const B=`rename_${ie}`;if(M.length<3){f("errorMessage",()=>e.formatMessage(D.errors.nameTooShort));return}const A=J(m,B,(b,z,V)=>{b==="EVENT"&&(JSON.parse(V?.content||'{ "available": false}').available?(f("name",()=>M),p()):(A(),f("errorMessage",()=>e.formatMessage(D.errors.nameUnavailable)))),b==="NOTICE"&&(A(),f("errorMessage",()=>e.formatMessage(D.errors.nameNotChanged))),b==="EOSE"&&A()});An(M,B,m)},"changePrimalName");let U=$(()=>{},"purchuseMonitorUnsub");const g=`pay_${ie}`,C=$(M=>`pay_legend_${M}_${ie}`,"purchuseLegendSubId"),S=$(()=>{if(!m)return;U=J(m,g,(B,A,b)=>{if(B==="EVENT"){const z=JSON.parse(b?.content||'{ "completed_at": null }');if(!m)return;z.completed_at!==null&&(Pt(g,m),U(),p(),f("openSubscribe",()=>!1),f("openSuccess",()=>!0),f("successMessage",()=>e.formatMessage(D.subOptions.success[l.selectedSubOption.duration])))}});const M=l.subscriptions[l.selectedSubOption.id].membershipId;Tn(M,g,m)},"listenForPayement"),K=$(()=>{const M=l.legendSupscription.membershipId;!m||M.length===0||(U=J(m,C(M),(B,A,b)=>{if(B==="EVENT"){const z=JSON.parse(b?.content||'{ "completed_at": null }');if(!m)return;z.completed_at!==null&&(xt(C(M),m),U(),p(),ce({style:"GOLD",custom_badge:!0,avatar_glow:!0}),f("openLegend",()=>!1),f("openSuccess",()=>!0),f("successMessage",()=>e.formatMessage(D.subOptions.success.legend)))}}),Rn(M,C(M),m))},"listenForLegendPayement"),I=$(()=>new Promise(M=>{l.subOptions.forEach(B=>{if(!m)return;const A=`qr__${B.id}_${ie}`,b=J(m,A,(z,V,G)=>{if(z==="EVENT"){const W=JSON.parse(G?.content||"{}"),x=parseFloat(W.amount_usd||"0"),X=parseFloat(W.amount_btc||"0");f("subscriptions",B.id,()=>({lnUrl:W.qr_code||"",membershipId:W.membership_quote_id||"",amounts:{usd:isNaN(x)?0:x,sats:isNaN(X)?0:X*1e8}}))}z==="EOSE"&&(b(),M(!0))});Dn(l.recipientPubkey,l.name,B.id,A,m)})}),"getSubscriptionInfo"),T=$(()=>{if(!m)return;const M=`qr__legend_${ie}`,B=J(m,M,(A,b,z)=>{if(A==="EVENT"){const V=JSON.parse(z?.content||"{}"),G=parseFloat(V.amount_usd||"0"),W=parseFloat(V.amount_btc||"0");f("legendSupscription",()=>({lnUrl:V.qr_code||"",membershipId:V.membership_quote_id||"",amounts:{usd:isNaN(G)?0:G,sats:isNaN(W)?0:W*1e8}}))}A==="EOSE"&&B()});Bn(l.recipientPubkey,l.name,l.legendAmount,M,m)},"getLegendInfo"),H=$(()=>{if(!m||m.readyState!==WebSocket.OPEN)return;const M=`ps_${ie}`;let B=!1;const A=J(m,M,(b,z,V)=>{if(b==="EVENT"){const G=JSON.parse(V?.content||"{}");B=!0,f("membershipStatus",()=>({...G})),G.name&&f("name",G.name)}b==="EOSE"&&(A(),B||f("membershipStatus",()=>({tier:"free"})))});Fn(l.recipientPubkey,M,m)},"checkPremiumStatus"),J=$((M,B,A)=>{const b=$(z=>{const V=JSON.parse(z.data),[G,W,x]=V;B===W&&A(G,W,x)},"listener");return M.addEventListener("message",b),()=>{M.removeEventListener("message",b)}},"subTo");let O=!1;const L=$(()=>{m=new WebSocket("wss://wallet.primal.net/v1"),m.addEventListener("close",()=>{pt("PREMIUM SOCKET CLOSED"),f("isSocketOpen",()=>!1),O&&L()}),m.addEventListener("open",()=>{pt("PREMIUM SOCKET OPENED"),f("isSocketOpen",()=>!0),H()})},"openSocket"),Y=$(async()=>{if(!m)return;const M=`premium_exchange_rate_${ie}`,B=J(m,M,(A,b,z)=>{if(A==="EVENT"&&z?.kind===te.ExchangeRate){const V=JSON.parse(z.content);f("exchangeRateUSD",V.rate)}A==="EOSE"&&B()});Zn(M,m)},"getExchangeRate"),re=$((M=0,B=0)=>{if(!m)return;const A=`premium_order_history_${ie}`,b=J(m,A,(z,V,G)=>{if(z==="EVENT"){if(G?.kind===te.OrderHistory){const W=JSON.parse(G.content);f("orderHistory",x=>[...x,...W])}if(G?.kind===te.FeedRange){const W=JSON.parse(G.content||"{}");f("pagingOrderHistory",()=>({...W}))}}z==="EOSE"&&b()});Yn(r?.publicKey,M,B,A,m)},"getOrderHistory"),de=$(()=>{l.orderHistory.length===0&&l.pagingOrderHistory.since===0||re(l.pagingOrderHistory.since,1)},"getOrderHistoryNextPage"),ce=$(async M=>{if(!m||!r?.publicKey)return;const B=`premium_legend_config_${ie}`;let A=!1;const b=J(m,B,(z,V,G)=>{z==="NOTICE"&&(A=!0),z==="EOSE"&&(A?u?.sendWarning("Failed to save changes"):u?.sendSuccess("Changes have been saved"),b())});await jn(r.publicKey,M,B,m),_?.actions.setLegendCustomization(r.publicKey,M)},"updateLegendConfig");et(()=>{O=!0,L(),r?.actions.clearPremiumRemider()}),vt(()=>{O=!1,m?.close()}),ne(()=>{r?.isKeyLookupDone&&r.hasPublicKey()&&H()}),ne(()=>{l.openLegend&&T()}),ne(()=>{if(q()==="name")c?.focus(),f("name",()=>r?.activeUser?.name||"");else if(q()==="rename")f("rename",()=>l.name);else if(q()==="overview"){if(l.name.length===0){o("/premium");return}}else if(q()==="confirm"){if(l.name.length===0){o("/premium");return}I()}}),ne(()=>{d.step||H()}),ne(()=>{if(r?.isKeyLookupDone&&r.activeUser!==void 0){const M=r?.publicKey;M&&f("recipientPubkey",()=>M)}}),ne(dn(()=>l.recipientPubkey,(M,B)=>{if(!(!M||M===B)&&M){if(M===r?.publicKey){const A=r.activeUser;H(),A&&f("recipient",()=>({...A}))}y()}}));const q=$(()=>d.step==="customize"&&l.membershipStatus.tier&&l.membershipStatus.tier!=="premium-legend"?"":d.step,"premiumStep"),ve=$(async M=>{switch(M){case"changeName":f("openRename",()=>!0);break;case"extendSubscription":await I(),f("openRenew",()=>!0);break;case"orderHistory":f("openOrderHistory",()=>!0);break;case"premiumRelay":o("/premium/relay");break;case"mediaManagment":o("/premium/media");break;case"contactBackup":o("/premium/contacts");break;case"contentBackup":o("/premium/content");break;case"customLegend":o("/premium/customize");break;case"becomeLegend":o("/premium/legend");break}},"handlePremiumAction"),se=$(()=>i.og,"isOG");return(()=>{const M=Zr(),B=M.firstChild,A=B.firstChild;return a(M,s(hn,{get title(){return e.formatMessage(D.title.general)}}),B),a(M,s(bn,{to:"search_section",get children(){return s(Sn,{})}}),B),a(M,s($n,{get children(){return s(Fe,{get fallback(){return(()=>{const b=he();return a(b,()=>e.formatMessage(D.title.general)),w(()=>n(b,t.centerPageTitle)),b})()},get children(){return[s(Q,{get when(){return q()==="support"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.support)),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return q()==="legend"},get children(){const b=he();return a(b,(()=>{const z=ge(()=>!!se());return()=>z()?e.formatMessage(D.title.legendShort):e.formatMessage(D.title.legend)})()),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return q()==="legendary"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.legend)),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return q()==="relay"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.relay)),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return q()==="media"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.media)),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return q()==="contacts"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.contacts)),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return q()==="content"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.content)),w(()=>n(b,t.centerPageTitle)),b}}),s(Q,{get when(){return ge(()=>!!se())()&&se()!=="legend"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.og)),w(()=>n(b,`${t.centerPageTitle} ${t.noTransform}`)),b}}),s(Q,{get when(){return ge(()=>!!se())()&&se()==="legend"},get children(){const b=he();return a(b,()=>e.formatMessage(D.title.og)),w(()=>n(b,`${t.centerPageTitle}`)),b}})]}})}}),B),a(M,s(On,{get children(){return s(Fe,{get children(){return[s(Q,{get when(){return l.membershipStatus.tier==="free"},get children(){return s(Zi,{onOpenFAQ:()=>f("openFeatures",()=>"faq")})}}),s(Q,{get when(){return["premium","premium-legend"].includes(l.membershipStatus.tier||"")},get children(){return s(er,{data:l,onSidebarAction:ve,onOpenFAQ:()=>f("openFeatures",()=>"faq")})}})]}})}}),B),a(A,s(Fe,{get fallback(){return s(kn,{})},get children(){return[s(Q,{get when(){return q()==="name"},get children(){const b=Qr(),z=b.firstChild,V=z.nextSibling,G=V.nextSibling;return a(z,()=>e.formatMessage(D.title.name)),a(V,s(tt,{ref(W){const x=c;typeof x=="function"?x(W):c=W},get value(){return l.name},onChange:h,get validationState(){return l.errorMessage.length>0?"invalid":"valid"},get errorMessage(){return l.errorMessage},type:"text",get inputClass(){return t.centralize},get descriptionClass(){return t.centralize},get errorClass(){return t.centralError}})),a(b,s(dt,{data:l,updateUserMetadata:p,hideApply:!0}),G),a(G,s(Ae,{onClick:()=>o("/premium"),get children(){return e.formatMessage(D.actions.back)}}),null),a(G,s(pe,{onClick:()=>F(),get children(){return e.formatMessage(D.actions.next)}}),null),w(W=>{const x=t.nameStep,X=t.title,ae=t.input,ue=t.nameFooter;return x!==W._v$&&n(b,W._v$=x),X!==W._v$2&&n(z,W._v$2=X),ae!==W._v$3&&n(V,W._v$3=ae),ue!==W._v$4&&n(G,W._v$4=ue),W},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),b}}),s(Q,{get when(){return q()==="overview"},get children(){return[(()=>{const b=Yr(),z=b.firstChild,V=z.nextSibling;return a(z,()=>e.formatMessage(D.title.subscription)),a(V,()=>e.formatMessage(D.title.subscriptionSubtitle)),w(()=>n(b,t.congrats)),b})(),s(gi,{data:l,get profile(){return r?.activeUser}}),s(dt,{data:l,updateUserMetadata:p,hideApply:!0}),(()=>{const b=he();return a(b,s(Ae,{onClick:()=>o("/premium/name"),get children(){return e.formatMessage(D.actions.back)}}),null),a(b,s(pe,{onClick:()=>{se()==="legend"?o("/premium/legendary"):o("/premium/confirm")},get children(){return e.formatMessage(D.actions.next)}}),null),w(()=>n(b,t.overviewFooter)),b})()]}}),s(Q,{get when(){return q()==="confirm"},get children(){const b=jr(),z=b.firstChild,V=z.firstChild,G=V.nextSibling,W=G.firstChild,x=z.nextSibling,X=x.firstChild,ae=X.firstChild,ue=ae.nextSibling,fe=ue.nextSibling,me=X.nextSibling,ze=me.nextSibling;return a(G,k,W),a(x,s(Qe,{get user(){return l.recipient},size:"xl"}),X),a(ue,()=>l.name),a(me,()=>un(cn(l.recipientPubkey))),a(ze,s(oe,{onClick:()=>f("openAssignPubkey",()=>!0),children:"assign to a different nostr account"})),a(b,s(Qt,{get options(){return l.subOptions},get selectedOption(){return l.selectedSubOption},data:l,onSelect:ee=>{f("selectedSubOption",()=>({...ee}))},openPromoCode:()=>f("openPromoCode",()=>!0),get promoCode(){return l.promoCode}}),null),a(b,s(pe,{onClick:()=>l.selectedSubOption&&f("openSubscribe",()=>!0),get children(){return e.formatMessage(D.actions.subscribe)}}),null),w(ee=>{const we=t.confirmStep,Pe=t.title,Be=t.premiumProfile,Re=t.userInfo,j=t.explainer,xe=t.purpleCheck,ke=t.npub,Oe=t.changeAccount;return we!==ee._v$5&&n(b,ee._v$5=we),Pe!==ee._v$6&&n(z,ee._v$6=Pe),Be!==ee._v$7&&n(x,ee._v$7=Be),Re!==ee._v$8&&n(X,ee._v$8=Re),j!==ee._v$9&&n(ae,ee._v$9=j),xe!==ee._v$10&&n(fe,ee._v$10=xe),ke!==ee._v$11&&n(me,ee._v$11=ke),Oe!==ee._v$12&&n(ze,ee._v$12=Oe),ee},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),b}}),s(Q,{get when(){return q()==="support"},get children(){return s(ur,{onExtendPremium:()=>ve("extendSubscription")})}}),s(Q,{get when(){return q()==="legend"},get children(){return s(fr,{get pubkey(){return r?.publicKey},get user(){return r?.activeUser},get isOG(){return!!se()},onBecomeLegendAction:E})}}),s(Q,{get when(){return q()==="legendary"},get children(){return s(pr,{data:l,get profile(){return r?.activeUser},getExchangeRate:Y,onBuyLegend:b=>{f("legendAmount",()=>b),f("openLegend",()=>!0)},get isOG(){return!!se()}})}}),s(Q,{get when(){return q()==="relay"},get children(){return s(Or,{data:l})}}),s(Q,{get when(){return q()==="media"},get children(){return s(Mr,{data:l})}}),s(Q,{get when(){return q()==="contacts"},get children(){return s(Ar,{data:l})}}),s(Q,{get when(){return q()==="content"},get children(){return s(Rr,{data:l})}}),s(Q,{get when(){return q()==="customize"},get children(){return s(Kr,{data:l,onConfigSave:ce})}}),s(Q,{get when(){return["premium","premium-legend"].includes(l.membershipStatus?.tier||"")},get children(){return s(Ti,{data:l,get profile(){return r?.activeUser},updateUserMetadata:p,onExtendPremium:()=>ve("extendSubscription")})}}),s(Q,{get when(){return l.membershipStatus?.tier==="free"||r?.isKeyLookupDone&&(!r.publicKey||!r.activeUser)},get children(){return s(bi,{onStart:P,onMore:()=>f("openFeatures",()=>"features"),get pubkey(){return r?.publicKey},get user(){return r?.activeUser},get isOG(){return!!se()}})}})]}}),null),a(A,s($i,{get open(){return l.openSubscribe},setOpen:b=>f("openSubscribe",()=>b),onClose:()=>{l.openSubscribe&&(f("openSubscribe",()=>!1),m&&Pt(g,m),U())},onOpen:()=>{S()},get subscription(){return l.subscriptions[l.selectedSubOption.id]}}),null),a(A,s(Pr,{get open(){return l.openLegend},setOpen:b=>f("openLegend",()=>b),onClose:()=>{l.openLegend&&(f("openLegend",()=>!1),f("legendSupscription",()=>({lnUrl:"",membershipId:"",amounts:{usd:0,sats:0}})),m&&xt(g,m),U())},onOpen:()=>{K()},get subscription(){return l.legendSupscription}}),null),a(A,s(Mi,{get open(){return l.openSuccess},get profile(){return l.recipient},setOpen:b=>f("openSuccess",()=>b),onClose:()=>{f("openSuccess",()=>!1),H(),o("/premium")},data:l}),null),a(A,s(Ki,{get open(){return l.openFeatures},setOpen:b=>f("openFeatures",()=>b?"features":void 0)}),null),a(A,s(qi,{get open(){return l.openAssignPubkey},setOpen:b=>f("openAssignPubkey",()=>b),onApply:b=>{b.length!==0&&(f("recipientPubkey",()=>b),f("openAssignPubkey",()=>!1))}}),null),a(A,s(Yi,{get open(){return l.openPromoCode},setOpen:b=>f("openPromoCode",()=>b),onApply:b=>{f("promoCode",()=>b),f("openPromoCode",()=>!1)}}),null),a(A,s(ir,{get open(){return l.openRename},setOpen:b=>f("openRename",()=>b),onApply:b=>{R(b),f("openRename",()=>!1)},get name(){return l.name},checkNameAvailability:b=>kt(b,r?.publicKey,m,`rename_check_${ie}`)}),null),a(A,s(or,{get open(){return l.openRenew},setOpen:b=>f("openRenew",()=>b),data:l,setData:f}),null),a(A,s(Gr,{get open(){return l.openOrderHistory},setOpen:b=>f("openOrderHistory",()=>b),data:l,onOpen:()=>{l.orderHistory.length===0&&re()},onNextPage:de}),null),w(b=>{const z=t.premiumContent,V=t.premiumStepContent;return z!==b._v$13&&n(B,b._v$13=z),V!==b._v$14&&n(A,b._v$14=V),b},{_v$13:void 0,_v$14:void 0}),M})()},"Premium");export{Ws as default,Vs as satsInBTC};
//# sourceMappingURL=Premium-96cea0db.js.map
