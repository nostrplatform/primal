var b=Object.defineProperty;var h=(u,m)=>b(u,"name",{value:m,configurable:!0});import{g as D,u as K,B as R,D as j,C as q,E as z,N as J,a2 as E,aR as V,bl as G,j as a,c as i,cN as $,A as p,S as F,l as _,m as d,a3 as I,q as L,k as H,w as O,J as Q,F as W,e as X,t as M,T as Y}from"./index-64dc6460.js";import{s as o}from"./Settings.module-7ae8ff86.js";import{P as Z}from"./PageCaption-27eb7f4c.js";import{P as y}from"./PageTitle-3d0a9832.js";import{B as ee}from"./ButtonSecondary-cc5e2282.js";import"./Buttons.module-e818c1ea.js";import"./5WXHJDCZ-8b9b8e69.js";import"./index-b4296c5e.js";const C=M("<div>"),U=M("<div><div>"),te=M("<div><div></div><div>"),se=M("<button>"),me=h(()=>{const u=D(),m=K(),x=R(),[T,k]=j({}),N=`muted_metadata_${Y}`,[w,B]=q(!0),f=h(s=>T[s]||{pubkey:s,npub:I(s)},"user");z(()=>{if(m&&m.isKeyLookupDone){let s={};const g=J(N,{onEvent:(e,r)=>{r&&[E.MuteList].includes(r?.kind||0)&&r.tags.reduce((t,l)=>l[0]==="p"?[...t,l[1]]:t,[]),r?.kind===E.Metadata&&(s[r.pubkey]=V(r,r.pubkey))},onEose:()=>{k(()=>({...s})),B(!1),g()}});G(m.muted,N)}});const P=h(s=>{m?.actions.removeFromMuteList(s.pubkey)},"unMuteUser");return(()=>{const s=U(),g=s.firstChild;return a(s,i(y,{get title(){return`${u.formatMessage($.muted.title)} ${u.formatMessage($.title)}`}}),g),a(s,i(Z,{get children(){return[i(p,{href:"/settings",get children(){return u.formatMessage($.index.title)}}),":Â ",(()=>{const e=C();return a(e,()=>u.formatMessage($.muted.title)),e})()]}}),g),a(g,i(W,{get each(){return m?.muted},get fallback(){return i(F,{get when(){return!w()},get children(){const e=C();return a(e,()=>u.formatMessage($.muted.empty)),_(()=>d(e,o.emptyListBanner)),e}})},children:e=>(()=>{const r=C();return a(r,i(F,{get when(){return f(e)},get fallback(){return[i(p,{get class(){return o.userInfo},get href(){return x?.actions.profileLink(e)||""},get children(){const t=U(),l=t.firstChild;return a(l,()=>I(e)),_(c=>{const n=o.userName,v=o.verification;return n!==c._v$4&&d(t,c._v$4=n),v!==c._v$5&&d(l,c._v$5=v),c},{_v$4:void 0,_v$5:void 0}),t}}),(()=>{const t=se();return t.$$click=()=>P(f(e)),a(t,()=>u.formatMessage(L.unmute)),t})()]},get children(){return[i(p,{get class(){return o.userInfo},get href(){return x?.actions.profileLink(e)||""},get children(){return[i(H,{get user(){return f(e)},size:"vvs"}),(()=>{const t=te(),l=t.firstChild,c=l.nextSibling;return a(l,()=>O(f(e))),a(c,()=>Q(f(e))),_(n=>{const v=o.userName,S=o.title,A=o.verification;return v!==n._v$&&d(t,n._v$=v),S!==n._v$2&&d(l,n._v$2=S),A!==n._v$3&&d(c,n._v$3=A),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()]}}),i(ee,{onClick:()=>P(f(e)),get children(){return u.formatMessage(L.unmute)}})]}})),_(()=>d(r,o.mutedUser)),r})()})),_(()=>d(g,o.settingsContentFull)),s})()},"Muted");X(["click"]);export{me as default};
//# sourceMappingURL=Muted-c39cd57d.js.map
