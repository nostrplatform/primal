var B=Object.defineProperty;var m=(r,a)=>B(r,"name",{value:a,configurable:!0});import{h as P,$ as D,B as j,C as z,c as U,j as g,k as E,w as F,l as S,m as d,br as R,S as q,s as y,A as G,t as M,al as H}from"./index-64dc6460.js";import{a as J}from"./dates-9bcb2bf7.js";import{h as l}from"./ParsedNote-9900e3c8.js";import{s as _}from"./Skeleton.module-8b20490e.js";const K=M("<div><div></div><div>&bull;&nbsp;"),I=M("<img>"),L=M("<div><div><div></div><div> minutes</div></div><div>"),N=localStorage.getItem("devMode")==="true",O=m(r=>{const a=D(),h=j(),[b,f]=z(!1),C=m(()=>{const e=r.article.image;f(()=>!1);let t=a?.actions.getMediaUrl(e,"s");return t||(t=a?.actions.getMediaUrl(e,"m")),t||(t=a?.actions.getMediaUrl(e,"o")),t||(t=e,f(()=>!0)),t},"articleImage"),x=m(()=>{const e=r.article.user.picture;f(()=>!1);let t=a?.actions.getMediaUrl(e,"s");return t||(t=a?.actions.getMediaUrl(e,"m")),t||(t=a?.actions.getMediaUrl(e,"o")),t||(t=e,f(()=>!0)),t},"authorAvatar"),A=m(()=>{const e=h?.verifiedUsers[r.article.pubkey];if(!e)return`/e/${r.article.naddr}`;const s=H.decode(r.article.naddr).data;return`/${e}/${s.identifier}`},"articleUrl");return U(G,{get class(){return l.articleShort},get href(){return A()},get"data-event"(){return r.article.id},get children(){return[(()=>{const e=K(),t=e.firstChild,s=t.nextSibling;return s.firstChild,g(e,U(E,{get user(){return r.article.user},size:"micro"}),t),g(t,()=>F(r.article.user)),g(s,()=>J(r.article.published).label,null),S(v=>{const u=l.header,c=l.userName,i=l.time;return u!==v._v$&&d(e,v._v$=u),c!==v._v$2&&d(t,v._v$2=c),i!==v._v$3&&d(s,v._v$3=i),v},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})(),(()=>{const e=L(),t=e.firstChild,s=t.firstChild,v=s.nextSibling,u=v.firstChild,c=t.nextSibling;return g(s,()=>r.article.title),g(v,()=>Math.ceil(r.article.wordCount/R),u),g(c,U(q,{get when(){return r.article.image},get fallback(){return(()=>{const i=I();return S(n=>{const $=x(),o=N&&b()?"redBorder":"";return $!==n._v$11&&y(i,"src",n._v$11=$),o!==n._v$12&&d(i,n._v$12=o),n},{_v$11:void 0,_v$12:void 0}),i})()},get children(){const i=I();return S(n=>{const $=C(),o=N&&b()?"redBorder":"";return $!==n._v$4&&y(i,"src",n._v$4=$),o!==n._v$5&&d(i,n._v$5=o),n},{_v$4:void 0,_v$5:void 0}),i}})),S(i=>{const n=l.body,$=`${l.text} ${r.short?l.short:""} ${r.shorter?l.shorter:""}`,o=l.title,w=l.estimate,k=l.image;return n!==i._v$6&&d(e,i._v$6=n),$!==i._v$7&&d(t,i._v$7=$),o!==i._v$8&&d(s,i._v$8=o),w!==i._v$9&&d(v,i._v$9=w),k!==i._v$10&&d(c,i._v$10=k),i},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),e})()]}})},"ArticleShort"),Z=P(O),Q=M("<div><div><div></div><div></div></div><div><div></div><div>"),p=m(r=>(()=>{const a=Q(),h=a.firstChild,b=h.firstChild,f=b.nextSibling,C=h.nextSibling,x=C.firstChild,A=x.nextSibling;return S(e=>{const t=_.articlePreviewSidebarSkeleton,s=_.header,v=_.avatar,u=_.userInfo,c=_.body,i=_.text,n=_.image;return t!==e._v$&&d(a,e._v$=t),s!==e._v$2&&d(h,e._v$2=s),v!==e._v$3&&d(b,e._v$3=v),u!==e._v$4&&d(f,e._v$4=u),c!==e._v$5&&d(C,e._v$5=c),i!==e._v$6&&d(x,e._v$6=i),n!==e._v$7&&d(A,e._v$7=n),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),a})(),"ArticlePreviewSidebarSkeleton");export{p as A,Z as a};
//# sourceMappingURL=ArticlePreviewSidebarSkeleton-add7f0b3.js.map
