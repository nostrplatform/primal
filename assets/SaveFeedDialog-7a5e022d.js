var b=Object.defineProperty;var c=(t,i)=>b(t,"name",{value:i,configurable:!0});import{b as D,C,c as d,S as A,l as g,m as u,j as s,d as O,t as f}from"./index-64dc6460.js";import{T as l}from"./JFO5B7NF-4a51a11a.js";import{A as x}from"./AdvancedSearchDialog-eff41eef.js";import{B as I}from"./ButtonSecondary-cc5e2282.js";import{B as k}from"./ButtonPremium-cdbfc08e.js";const B="_addToFeed_ubn5n_1",N="_addIcon_ubn5n_21",p="_addToFeedDialogTitle_ubn5n_30",q="_addToFeedDialogContent_ubn5n_40",w="_form_ubn5n_48",L="_searchCommand_ubn5n_51",P="_footer_ubn5n_70",r={addToFeed:B,addIcon:N,addToFeedDialogTitle:p,addToFeedDialogContent:q,form:w,searchCommand:L,footer:P},R=f("<div><div></div><div>"),j=f("<div>"),E=f("<div>Add this search to my <!> feeds"),J=f("<div>Save to <span></span> Feeds"),V=c(t=>{const i=D(),[_,$]=C("Seach results"),[h,S]=C("Primal Saved Search"),m=c(()=>{const e=JSON.stringify({id:"advsearch",query:t.query||""});return{name:_(),description:h(),spec:e,enabled:!0,feedkind:"search"}},"generateFeedDefinition"),y=c(()=>{const e=m(),n=t.feedType;return e?i?.actions.isFeedAdded(e,n):!1},"isFeedAdded");return d(x,{get open(){return t.open},setOpen:c(e=>{if(!e){t.setOpen&&t.setOpen(!1);return}const n=m();if(!n)return;if(i?.actions.isFeedAdded(n,t.feedType)){i?.actions.removeFeed(n,t.feedType);return}t.setOpen&&t.setOpen(!0)},"toggleFeed"),get triggerClass(){return r.addToFeed},get triggerContent(){return d(A,{get when(){return y()},get fallback(){return[(()=>{const e=j();return g(()=>u(e,r.addIcon)),e})(),(()=>{const e=E(),n=e.firstChild,a=n.nextSibling;return a.nextSibling,s(e,()=>t.feedType,a),e})()]},get children(){return["Remove this search from my ",O(()=>t.feedType)," feeds"]}})},get title(){return(()=>{const e=J(),n=e.firstChild,a=n.nextSibling;return s(a,()=>t.feedType),g(()=>u(e,r.addToFeedDialogTitle)),e})()},get children(){const e=R(),n=e.firstChild,a=n.nextSibling;return s(n,d(l,{get class(){return r.searchCommand},get value(){return _()},onChange:$,get children(){return[d(l.Label,{children:"Feed name:"}),d(l.Input,{})]}}),null),s(n,d(l,{get class(){return r.searchCommand},get value(){return h()},onChange:S,get children(){return[d(l.Label,{children:"Feed description"}),d(l.Input,{})]}}),null),s(a,d(I,{onClick:()=>t.setOpen&&t.setOpen(!1),light:!0,children:"Cancel"}),null),s(a,d(k,{onClick:()=>{i?.actions.addFeed(m(),t.feedType),t.setOpen&&t.setOpen(!1)},children:"Save"}),null),g(o=>{const v=r.addToFeedDialogContent,F=r.form,T=r.footer;return v!==o._v$&&u(e,o._v$=v),F!==o._v$2&&u(n,o._v$2=F),T!==o._v$3&&u(a,o._v$3=T),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e}})},"SaveFeedDialog");export{V as S};
//# sourceMappingURL=SaveFeedDialog-7a5e022d.js.map
