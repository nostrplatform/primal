var Z=Object.defineProperty;var h=(f,v)=>Z(f,"name",{value:v,configurable:!0});import{U as ee,g as te,ad as se,B as ne,D as E,C as N,E as re,j as u,c as d,d as S,d1 as $,cN as b,w as k,H as ae,M as T,a3 as A,l as _,m,S as L,A as U,k as ie,J as oe,F as le,e as ue,t as M,b5 as F,N as j,a2 as C,aR as z,d2 as de,d3 as ce,d4 as me,d5 as B,T as D}from"./index-64dc6460.js";import{P as fe}from"./PageCaption-27eb7f4c.js";import{s as o}from"./Settings.module-7ae8ff86.js";import{P as ge}from"./PageTitle-3d0a9832.js";const H=M('<div style="height:44px;">'),ve=M('<div style="display:flex;align-items:center;justify-content:space-between;width:100%;"><div style="display:flex;align-items:center;"></div><button title="copy mutelist to clipboard"><div>'),R=M("<div><div>"),W=M("<div>"),_e=M("<div><div></div><div>"),pe={primal_nsfw:"nsfw_list",primal_spam:"spam_list"},ye=h(()=>{const f=ee(),v=te(),J=se(),P=ne(),[K,O]=E({}),[x,V]=E([]),[w,q]=N(),[G,Q]=N(!0),X=h(r=>{const l=$.includes(r)?B:r,t=l.startsWith("npub")?F(l):l,s=`prl_${Math.floor(Math.random()*1e4)}_${D}`;let a=[],e={};const n=j(s,{onEvent:(i,c)=>{c&&[C.CategorizedPeople,C.MuteList].includes(c?.kind||0)&&(a=c.tags.reduce((p,I)=>I[0]==="p"?[...p,I[1]]:p,[])),c?.kind===C.Metadata&&(e[c.pubkey]=z(c,c.pubkey))},onEose:()=>{V(()=>[...a]),O(()=>({...e})),Q(!1),n()}});if($.includes(r)){de(t,pe[r],s);return}ce(t,s)},"getMutelist"),Y=h(r=>{const l=$.includes(r)?B:r,t=l.startsWith("npub")?F(l):l,s=`profile_${Math.floor(Math.random()*1e4)}_${D}`;let a;const e=j(s,{onEvent:(n,i)=>{i?.kind===C.Metadata&&(a=z(i,i.pubkey))},onEose:()=>{q(a),e()}});me(t,void 0,s)},"getAuthor"),y=h(r=>K[r],"user");return re(()=>{f.npub&&(X(f.npub),Y(f.npub))}),(()=>{const r=R(),l=r.firstChild;return u(r,d(ge,{get title(){return S(()=>!!$.includes(f.npub))()?v.formatMessage(b.moderation.algos[f.npub]):v.formatMessage(b.moderation.moderationItem,{name:k(w())})}}),l),u(r,d(fe,{get children(){const t=ve(),g=t.firstChild,s=g.nextSibling,a=s.firstChild;return u(g,d(ae,{get children(){return[d(T,{get when(){return S(()=>!!w())()&&$.includes(f.npub)},get children(){const e=H();return u(e,()=>v.formatMessage(b.moderation.algos[f.npub])),e}}),d(T,{get when(){return w()},get children(){const e=H();return u(e,()=>v.formatMessage(b.moderation.moderationItem,{name:k(w())})),e}})]}})),s.$$click=()=>{window.navigator.clipboard.writeText(x.map(A).join()),J?.sendSuccess("Mute list copied to clipboard")},_(e=>{const n=o.clearButton,i=o.copyIcon;return n!==e._v$&&m(s,e._v$=n),i!==e._v$2&&m(a,e._v$2=i),e},{_v$:void 0,_v$2:void 0}),t}}),l),u(l,d(le,{each:x,get fallback(){return d(L,{get when(){return!G()},get children(){const t=W();return u(t,()=>v.formatMessage(b.muted.emptyOther)),_(()=>m(t,o.emptyListBanner)),t}})},children:t=>(()=>{const g=W();return u(g,d(L,{get when(){return y(t)},get fallback(){return d(U,{get class(){return o.userInfo},get href(){return P?.actions.profileLink(t)||""},get children(){const s=R(),a=s.firstChild;return u(a,()=>A(t)),_(e=>{const n=o.userName,i=o.verification;return n!==e._v$6&&m(s,e._v$6=n),i!==e._v$7&&m(a,e._v$7=i),e},{_v$6:void 0,_v$7:void 0}),s}})},get children(){return d(U,{get class(){return o.userInfo},get href(){return P?.actions.profileLink(t)||""},get children(){return[d(ie,{get user(){return y(t)},size:"sm"}),(()=>{const s=_e(),a=s.firstChild,e=a.nextSibling;return u(a,()=>k(y(t))),u(e,()=>oe(y(t))),_(n=>{const i=o.userName,c=o.title,p=o.verification;return i!==n._v$3&&m(s,n._v$3=i),c!==n._v$4&&m(a,n._v$4=c),p!==n._v$5&&m(e,n._v$5=p),n},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),s})()]}})}})),_(()=>m(g,o.mutedUser)),g})()})),_(()=>m(r,o.settingsContainer)),r})()},"Mutelist");ue(["click"]);export{ye as default};
//# sourceMappingURL=Mutelist-ef247c90.js.map
