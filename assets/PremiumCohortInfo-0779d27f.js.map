{"version":3,"file":"PremiumCohortInfo-0779d27f.js","sources":["../../src/components/Buttons/ButtonCopy.tsx","../../src/pages/Premium/PremiumCohortInfo.tsx"],"sourcesContent":["import { Component, createSignal, JSXElement, Match, Show, Switch } from 'solid-js';\nimport { hookForDev } from '../../lib/devTools';\nimport { Button } from \"@kobalte/core/button\";\n\nimport styles from './Buttons.module.scss';\n\nconst ButtonCopy: Component<{\n  id?: string,\n  copyValue: string,\n  disabled?: boolean,\n  label?: string,\n  labelBeforeIcon?: boolean,\n  color?: 'light' | 'dark' | 'red' | 'link',\n}> = (props) => {\n\n  const [copying, setCopying] = createSignal(false);\n\n  const doCopy = () => {\n    navigator.clipboard.writeText(props.copyValue);\n    setCopying(true);\n\n    setTimeout(() => setCopying(false), 2_000);\n  }\n\n  const colorClass = () => {\n    const classes = {\n      light: styles.light,\n      dark: styles.dark,\n      red: styles.red,\n      link: styles.link,\n    };\n\n    return props.color ? classes[props.color] : styles.dark\n  }\n\n  return (\n    <Button\n      id={props.id}\n      class={`${styles.copy} ${colorClass()}`}\n      onClick={doCopy}\n      disabled={props.disabled}\n    >\n      <Show when={props.labelBeforeIcon}>\n        <div>{props.label}</div>\n      </Show>\n\n      <Show\n        when={copying()}\n        fallback={<div class={`${styles.copyIcon} ${props.labelBeforeIcon ? styles.right : styles.left}`}></div>}\n      >\n        <div class={`${styles.checkIcon} ${props.labelBeforeIcon ? styles.right : styles.left}`}></div>\n      </Show>\n\n      <Show when={!props.labelBeforeIcon}>\n        <div>{props.label}</div>\n      </Show>\n    </Button>\n  )\n}\n\nexport default hookForDev(ButtonCopy);\n","import { Component, Match, Switch } from 'solid-js';\n\nimport styles from './Premium.module.scss';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { A, useNavigate } from '@solidjs/router';\nimport { PremiumStore } from './Premium';\nimport Avatar from '../../components/Avatar/Avatar';\nimport VerificationCheck from '../../components/VerificationCheck/VerificationCheck';\nimport { shortDate } from '../../lib/dates';\nimport { userName } from '../../stores/profile';\nimport { PrimalUser } from '../../types/primal';\nimport { LegendCustomizationConfig } from '../../lib/premium';\nimport { CohortInfo } from '../../contexts/AppContext';\nimport { useAccountContext } from '../../contexts/AccountContext';\n\n\nconst PremiumCohortInfo: Component<{\n  userTier?: string,\n  cohortInfo: CohortInfo,\n  legendConfig?: LegendCustomizationConfig | undefined,\n}> = (props) => {\n  const intl = useIntl()\n  const navigate = useNavigate();\n  const account = useAccountContext();\n\n  const tier = () => props.userTier || account?.membershipStatus.tier || '';\n\n  const destination = () => {\n    if (\n      props.cohortInfo.tier === 'premium' &&\n      !['premium', 'premium-legend'].includes(tier())\n    ) {\n      return '/premium?og=1';\n    }\n\n    if (\n      props.cohortInfo.tier === 'premium-legend' &&\n      !['premium-legend'].includes(tier())\n    ) {\n      return '/premium/legend?og=legend';\n    }\n\n    return '';\n  }\n\n  return (\n    <A href={destination()} class={styles.premiumActive}>\n      <div class={`${styles.legendPremium} ${styles[`legend_${props.legendConfig?.style}`]}`}>\n        <div class={styles.caption}>{props.cohortInfo.cohort_1 || ''}</div>\n        <div class={styles.date}>\n          <div>{props.cohortInfo.cohort_2}</div>\n        </div>\n      </div>\n    </A>\n  );\n}\n\nexport default PremiumCohortInfo;\n"],"names":["ButtonCopy","props","copying","setCopying","createSignal","doCopy","navigator","clipboard","writeText","copyValue","setTimeout","colorClass","classes","light","styles","dark","red","link","color","_$createComponent","Button","id","copy","onClick","disabled","children","Show","when","labelBeforeIcon","_el$","_tmpl$","_$insert","label","fallback","_el$4","_$effect","_$className","copyIcon","right","left","_el$2","checkIcon","_el$3","hookForDev","PremiumCohortInfo","useIntl","useNavigate","account","useAccountContext","tier","userTier","membershipStatus","destination","cohortInfo","includes","A","href","premiumActive","firstChild","nextSibling","cohort_1","cohort_2","_p$","_v$","legendPremium","legendConfig","style","_v$2","caption","_v$3","date","undefined"],"mappings":"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"}