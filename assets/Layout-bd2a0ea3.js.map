{"version":3,"file":"Layout-bd2a0ea3.js","sources":["../../src/components/Branding/Branding.tsx","../../src/components/NavLink/NavLink.tsx","../../src/components/NavMenu/NavMenu.tsx","../../src/components/ProfileWidget/ProfileWidget.tsx","../../src/components/NewNote/NewNote.tsx","../../src/components/ReactionsModal/ReactionsModal.tsx","../../src/components/CustomZap/CustomZap.tsx","../../src/components/Note/NoteContextMenu.tsx","../../src/components/LnQrCodeModal/LnQrCodeModal.tsx","../../src/components/CashuQrCodeModal/CashuQrCodeModal.tsx","../../src/components/SubscribeToAuthorModal/SubscribeToAuthorModal.tsx","../../src/components/EnterPinModal/EnterPinModal.tsx","../../src/components/CreateAccountModal/CreateAccountModal.tsx","../../src/components/LoginModal/LoginModal.tsx","../../src/components/Layout/Layout.tsx"],"sourcesContent":["import { Component, Match, Show, Switch } from 'solid-js';\n\nimport styles from './Branding.module.scss';\nimport { useNavigate } from '@solidjs/router';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { branding } from '../../translations';\nimport PageNav from '../PageNav/PageNav';\n\nconst Branding: Component<{ small?: boolean, isHome?: boolean }> = (props) => {\n  const navigate = useNavigate();\n  const intl = useIntl();\n\n  const toHomeOrScrollToTop = () => {\n    if (props.isHome) {\n      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n      return;\n    }\n\n    navigate('/home');\n  }\n\n  return (\n    <button\n      class={styles.logoLink}\n      onClick={toHomeOrScrollToTop}\n    >\n      <Show\n        when={!props.small}\n        fallback={\n          <div class={styles.brandingSmall}>\n            <div class={styles.logo} />\n          </div>\n        }\n      >\n        <div class={styles.branding}>\n          <div class={styles.logoBig} />\n        </div>\n      </Show>\n    </button>\n  )\n}\n\nexport default Branding;\n","import { A, useLocation, useNavigate } from '@solidjs/router';\nimport { Component, Show } from 'solid-js';\nimport { hookForDev } from '../../lib/devTools';\n\nimport styles from './NavLink.module.scss';\n\nconst NavLink: Component<{\n  id?: string,\n  to: string,\n  label: string,\n  icon: string,\n  bubble?: () => number,\n  hiddenOnSmallScreens?: boolean,\n}> = (props) => {\n  const location = useLocation();\n\n  const scrollIfInactive = (e: Event) => {\n    if (props.to === location.pathname) {\n      e.preventDefault();\n\n      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n      return;\n    }\n  }\n\n  const bubbleClass = () => {\n    if (!props.bubble || props.bubble() < 10) {\n      return '';\n    }\n\n    if (props.bubble() < 100) {\n      return styles.doubleSize;\n    }\n\n    return styles.tripleSize;\n  }\n\n    return (\n      <div id={props.id} class={`${styles.navLink} ${props.hiddenOnSmallScreens ? styles.hiddenOnSmallScreens : ''}`}>\n        <A\n          href={props.to}\n          activeClass={styles.active}\n          inactiveClass={styles.inactive}\n          onClick={scrollIfInactive}\n        >\n          <div class={styles[props.icon]}></div>\n          <div class={styles.label}>{props.label}</div>\n        </A>\n        <Show when={props.bubble && props.bubble() > 0}>\n          <div class={`${styles.bubble} ${bubbleClass()}`}>\n            <div>{props.bubble && props.bubble() < 100 ? props.bubble() : '99+'}</div>\n          </div>\n        </Show>\n      </div>\n    )\n}\n\nexport default hookForDev(NavLink);\n","import { useIntl } from '@cookbook/solid-intl';\nimport { useLocation } from '@solidjs/router';\nimport { Component, For, Match, Show, Switch } from 'solid-js';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { useNotificationsContext } from '../../contexts/NotificationsContext';\nimport { navBar as t, actions as tActions, placeholders as tPlaceholders } from '../../translations';\nimport NavLink from '../NavLink/NavLink';\n\nimport styles from './NavMenu.module.scss';\nimport { hookForDev } from '../../lib/devTools';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport { useMediaContext } from '../../contexts/MediaContext';\nimport { ConfirmInfo, useAppContext } from '../../contexts/AppContext';\nimport { useDMContext } from '../../contexts/DMContext';\n\nconst NavMenu: Component< { id?: string } > = (props) => {\n  const account = useAccountContext();\n  const notifications = useNotificationsContext();\n  const dms = useDMContext();\n  const intl = useIntl();\n  const loc = useLocation();\n  const media = useMediaContext();\n  const app = useAppContext();\n\n  const links = [\n    {\n      to: '/home',\n      label: intl.formatMessage(t.home),\n      icon: 'homeIcon',\n    },\n    {\n      to: '/reads',\n      label: intl.formatMessage(t.reads),\n      icon: 'readsIcon',\n    },\n    {\n      to: '/explore',\n      label: intl.formatMessage(t.explore),\n      icon: 'exploreIcon',\n    },\n    {\n      to: '/dms',\n      label: intl.formatMessage(t.messages),\n      icon: 'messagesIcon',\n      bubble: () => dms?.dmCount || 0,\n    },\n    {\n      to: '/bookmarks',\n      label: intl.formatMessage(t.bookmarks),\n      icon: 'bookmarkIcon',\n    },\n    {\n      to: '/notifications',\n      label: intl.formatMessage(t.notifications),\n      icon: 'notificationsIcon',\n      bubble: () => notifications?.notificationCount || 0,\n      hiddenOnSmallScreens: true,\n    },\n    {\n      to: '/downloads',\n      label: intl.formatMessage(t.downloads),\n      icon: 'downloadIcon',\n      bubble: () => notifications?.downloadsCount || 0,\n    },\n    {\n      to: '/premium',\n      label: intl.formatMessage(t.premium),\n      icon: 'premiumIcon',\n      hiddenOnSmallScreens: true,\n      bubble: () => account?.premiumReminder ? 1 : 0,\n    },\n    {\n      to: '/settings',\n      label: intl.formatMessage(t.settings),\n      icon: 'settingsIcon',\n      hiddenOnSmallScreens: true,\n      bubble: () => account?.sec ? 1 : 0,\n    },\n  ];\n\n  const isBigScreen = () => (media?.windowSize.w || 0) > 1300;\n\n  const noReadsConfirm: ConfirmInfo = {\n    title: \"Coming Soon\",\n    description: \"Primal does not have article creation capabilities yet. We recommend Highlighter to content creators. Would you like to try it?\",\n    confirmLabel: \"Yes, go to Highlighter\",\n    abortLabel: \"No Thanks\",\n    onConfirm: () => {\n      window.open('https://highlighter.com', '_blank')?.focus();\n    },\n    onAbort: () => {\n      app?.actions.closeConfirmModal();\n    },\n  };\n\n  return (\n    <div id={props.id} class={styles.navMenu}>\n      <nav class={styles.sideNav}>\n        <For each={links}>\n          {({ to, label, icon, bubble, hiddenOnSmallScreens }) => {\n            return <NavLink\n              to={to}\n              label={label}\n              icon={icon}\n              bubble={bubble}\n              hiddenOnSmallScreens={hiddenOnSmallScreens}\n            />\n          }\n          }\n        </For>\n      </nav>\n      <Show when={account?.hasPublicKey() && !loc.pathname.startsWith('/messages') && !loc.pathname.startsWith('/premium')}>\n        <div class={styles.callToAction}>\n          <Switch\n            fallback={\n              <Show\n                when={isBigScreen()}\n                fallback={\n                  <ButtonPrimary\n                    id={props.id}\n                    onClick={account?.actions?.showNewNoteForm}\n                  >\n                    <div class={styles.postIcon}></div>\n                  </ButtonPrimary>\n                }\n              >\n                <ButtonPrimary\n                  id={props.id}\n                  onClick={account?.actions?.showNewNoteForm}\n                >\n                  {intl.formatMessage(tActions.newNote)}\n                </ButtonPrimary>\n              </Show>\n            }\n          >\n            <Match when={loc.pathname.startsWith('/reads') || loc.pathname.startsWith('/e/naddr')}>\n              <Show\n                when={isBigScreen()}\n                fallback={\n                  <ButtonPrimary\n                    id={props.id}\n                    onClick={() => app?.actions.openConfirmModal(noReadsConfirm)}\n                  >\n                    <div class={styles.postIcon}></div>\n                  </ButtonPrimary>\n                }\n              >\n                <ButtonPrimary\n                  id={props.id}\n                  onClick={() => app?.actions.openConfirmModal(noReadsConfirm)}\n                >\n                  {intl.formatMessage(tActions.newArticle)}\n                </ButtonPrimary>\n              </Show>\n            </Match>\n          </Switch>\n        </div>\n      </Show>\n\n      <Show when={account?.isKeyLookupDone && !account?.hasPublicKey() && isBigScreen()}>\n        <div class={styles.callToAction}>\n          <div class={styles.message}>\n            {intl.formatMessage(tPlaceholders.welcomeMessage)}\n          </div>\n          <ButtonPrimary onClick={account?.actions.showGetStarted}>\n            {intl.formatMessage(tActions.getStarted)}\n          </ButtonPrimary>\n        </div>\n      </Show>\n    </div>\n  )\n}\n\nexport default hookForDev(NavMenu);\n","import { Component, Show } from 'solid-js';\nimport { A } from '@solidjs/router';\nimport Avatar from '../Avatar/Avatar';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { trimVerification } from '../../lib/profile';\nimport { hexToNpub } from '../../lib/keys';\n\nimport styles from './ProfileWidget.module.scss';\nimport { hookForDev } from '../../lib/devTools';\nimport { userName } from '../../stores/profile';\nimport { useAppContext } from '../../contexts/AppContext';\n\nconst ProfileWidget: Component<{ id?: string }> = (props) => {\n\n  const account = useAccountContext();\n  const app = useAppContext();\n\n  const activeUser = () => account?.activeUser;\n\n  return (\n    <div id={props.id}>\n      <Show when={account?.hasPublicKey()}>\n        <A href={app?.actions.profileLink(account?.publicKey) || ''} class={styles.userProfile}>\n          <div class={styles.avatar}>\n            <Avatar\n              size=\"vvs\"\n              user={activeUser()}\n              showCheck={false}\n            />\n          </div>\n          <div class={styles.userInfo}>\n            <div class={styles.userName}>{userName(activeUser())}</div>\n            <div class={styles.userVerification}>\n              {trimVerification(activeUser()?.nip05)[1]}\n            </div>\n          </div>\n        </A>\n      </Show>\n    </div>\n  );\n}\n\nexport default hookForDev(ProfileWidget);\n","import { Component } from \"solid-js\";\nimport { useAccountContext } from \"../../contexts/AccountContext\";\nimport { SendNoteResult } from \"../../types/primal\";\nimport Avatar from \"../Avatar/Avatar\";\nimport EditBox from \"./EditBox/EditBox\";\nimport styles from  \"./NewNote.module.scss\";\n\nconst NewNote: Component<{ onSuccess: (note: SendNoteResult) => void}> = (props) => {\n\n  const account = useAccountContext();\n\n  const activeUser = () => account?.activeUser;\n\n  return (\n    <>\n      <div id=\"new_note_holder\" class={styles.newNoteHolder}>\n        <div class={styles.newNoteBorder}>\n          <div class={styles.newNote}>\n            <div class={styles.leftSide}>\n              <Avatar\n                size=\"md\"\n                user={activeUser()}\n              />\n            </div>\n            <div class={styles.rightSide}>\n              <EditBox\n                onSuccess={props.onSuccess}\n                open={account?.showNewNoteForm}\n                onClose={account?.actions?.hideNewNoteForm}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class={styles.holderBottomBorder}>\n        <div class={styles.leftCorner}></div>\n        <div class={styles.rightCorner}></div>\n      </div>\n    </>\n  )\n}\n\nexport default NewNote;\n","import { useIntl } from '@cookbook/solid-intl';\nimport { Tabs } from '@kobalte/core/tabs';\nimport { A } from '@solidjs/router';\nimport { Component, createEffect, createSignal, For, Match, Show, Switch } from 'solid-js';\nimport { createStore } from 'solid-js/store';\nimport { APP_ID } from '../../App';\nimport { Kind } from '../../constants';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { ReactionStats, useAppContext } from '../../contexts/AppContext';\nimport { hookForDev } from '../../lib/devTools';\nimport { hexToNpub } from '../../lib/keys';\nimport { getEventQuotes, getEventQuoteStats, getEventReactions, getEventZaps, setLinkPreviews } from '../../lib/notes';\nimport { truncateNumber2 } from '../../lib/notifications';\nimport { subsTo } from '../../sockets';\nimport { convertToNotes } from '../../stores/note';\nimport { userName } from '../../stores/profile';\nimport { actions as tActions, placeholders as tPlaceholders, reactionsModal } from '../../translations';\nimport { FeedPage, NostrMentionContent, NostrNoteActionsContent, NostrNoteContent, NostrStatsContent, NostrUserContent, NoteActions, PrimalNote } from '../../types/primal';\nimport { parseBolt11 } from '../../utils';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\nimport Avatar from '../Avatar/Avatar';\nimport Loader from '../Loader/Loader';\nimport Note from '../Note/Note';\nimport Paginator from '../Paginator/Paginator';\nimport VerificationCheck from '../VerificationCheck/VerificationCheck';\n\nimport styles from './ReactionsModal.module.scss';\n\n\nconst ReactionsModal: Component<{\n  id?: string,\n  noteId: string | undefined,\n  stats: ReactionStats;\n  onClose?: () => void,\n}> = (props) => {\n\n  const intl = useIntl();\n  const account = useAccountContext();\n  const app = useAppContext();\n\n  const [selectedTab, setSelectedTab] = createSignal('default');\n\n  const [likeList, setLikeList] = createStore<any[]>([]);\n  const [zapList, setZapList] = createStore<any[]>([]);\n  const [repostList, setRepostList] = createStore<any[]>([]);\n  const [quotesList, setQuotesList] = createStore<PrimalNote[]>([]);\n  const [quoteCount, setQuoteCount] = createSignal(0);\n\n  const [isFetching, setIsFetching] = createSignal(false);\n\n  let loadedLikes = 0;\n  let loadedZaps = 0;\n  let loadedReposts = 0;\n  let loadedQuotes = 0;\n\n  createEffect(() => {\n    const count = quoteCount();\n\n    if (count === 0 && props.stats.quotes > 0) {\n      setQuoteCount(props.stats.quotes);\n    }\n  })\n\n  createEffect(() => {\n    if (props.noteId && props.stats.openOn) {\n      setSelectedTab(props.stats.openOn);\n    }\n  });\n\n  createEffect(() => {\n    if (props.noteId) {\n      getQuoteCount();\n    }\n  });\n\n  createEffect(() => {\n    switch (selectedTab()) {\n      case 'likes':\n        loadedLikes === 0 && getLikes();\n        break;\n      case 'zaps':\n        loadedZaps === 0 && getZaps();\n        break;\n      case 'reposts':\n        loadedReposts === 0 && getReposts();\n        break;\n      case 'quotes':\n        loadedQuotes === 0 && getQuotes();\n        break;\n    }\n  });\n\n  createEffect(() => {\n    if (selectedTab() === 'default') {\n      if (props.stats.zaps > 0) {\n        setSelectedTab(() => 'zaps');\n        return;\n      }\n      if (props.stats.likes > 0) {\n        setSelectedTab(() => 'likes');\n        return;\n      }\n      if (props.stats.reposts > 0) {\n        setSelectedTab(() => 'reposts');\n        return;\n      }\n      if (props.stats.quotes > 0) {\n        setSelectedTab(() => 'quotes');\n        return;\n      }\n    }\n  })\n\n  createEffect(() => {\n    if (!props.noteId) {\n      setLikeList(() => []);\n      setZapList(() => []);\n      setRepostList(() => []);\n      setSelectedTab(() => 'default');\n      setQuotesList(() => []);\n      setQuoteCount(() => 0);\n\n      loadedLikes = 0;\n      loadedZaps = 0;\n      loadedReposts = 0;\n      loadedQuotes = 0;\n    }\n  });\n\n  const getLikes = (offset = 0) => {\n    if (!props.noteId) return;\n\n    const subId = `nr_l_${props.noteId}_${APP_ID}`;\n\n    const users: any[] = [];\n\n    const unsub = subsTo(subId, {\n      onEvent: (_, content) => {\n        if (content?.kind === Kind.Metadata) {\n          let user = JSON.parse(content.content);\n\n          if (!user.displayName || typeof user.displayName === 'string' && user.displayName.trim().length === 0) {\n            user.displayName = user.display_name;\n          }\n          user.pubkey = content.pubkey;\n          user.npub = hexToNpub(content.pubkey);\n          user.created_at = content.created_at;\n\n          users.push(user);\n        }\n      },\n      onEose: () => {\n        setLikeList((likes) => [ ...likes, ...users ]);\n        loadedLikes = likeList.length;\n        setIsFetching(() => false);\n        unsub();\n      },\n    });\n\n    setIsFetching(() => true);\n    getEventReactions(props.noteId, Kind.Reaction, subId, offset);\n  };\n\n  const getZaps = (offset = 0) => {\n    if (!props.noteId) return;\n\n    const subId = `nr_z_${props.noteId}_${APP_ID}`;\n\n    const users: Record<string, any> = {};\n    const zaps: any[] = [];\n\n    const unsub = subsTo(subId, {\n      onEvent: (_, content) => {\n        if (content?.kind === Kind.Metadata) {\n          let user = JSON.parse(content.content);\n\n          if (!user.displayName || typeof user.displayName === 'string' && user.displayName.trim().length === 0) {\n            user.displayName = user.display_name;\n          }\n          user.pubkey = content.pubkey;\n          user.npub = hexToNpub(content.pubkey);\n          user.created_at = content.created_at;\n\n          users[content.pubkey] = { ...user };\n\n          return;\n        }\n\n        if (content?.kind === Kind.Zap) {\n          const zapTag = content.tags.find(t => t[0] === 'description');\n\n          if (!zapTag) return;\n\n          const zapInfo = JSON.parse(zapTag[1] || '{}');\n\n          let amount = '0';\n\n          let bolt11Tag = content?.tags?.find(t => t[0] === 'bolt11');\n\n          if (bolt11Tag) {\n            try {\n              amount = `${parseBolt11(bolt11Tag[1]) || 0}`;\n            } catch (e) {\n              const amountTag = zapInfo.tags.find((t: string[]) => t[0] === 'amount');\n\n              amount = amountTag ? amountTag[1] : '0';\n            }\n          }\n\n          zaps.push({\n            amount,\n            pubkey: zapInfo.pubkey,\n            message: zapInfo.content,\n          })\n\n          return;\n        }\n      },\n      onEose: () => {\n        const zapData = zaps.map((zap => ({\n          ...zap,\n          amount: parseInt(zap.amount || '0'),\n          sender: users[zap.pubkey],\n        })));\n\n        setZapList((zapItems) => [ ...zapItems, ...zapData ]);\n        loadedZaps = zapList.length;\n        setIsFetching(() => false);\n        unsub();\n      },\n    });\n\n    setIsFetching(() => true);\n    getEventZaps(props.noteId, account?.publicKey, subId, 20, offset);\n    // getEventReactions(props.noteId, Kind.Zap, subId, offset);\n  };\n\n  const getReposts = (offset = 0) => {\n    if (!props.noteId) return;\n\n    const subId = `nr_r_${props.noteId}_${APP_ID}`;\n\n    const users: any[] = [];\n\n    const unsub = subsTo(subId, {\n      onEvent: (_, content) => {\n        if (content?.kind === Kind.Metadata) {\n          let user = JSON.parse(content.content);\n\n          if (!user.displayName || typeof user.displayName === 'string' && user.displayName.trim().length === 0) {\n            user.displayName = user.display_name;\n          }\n          user.pubkey = content.pubkey;\n          user.npub = hexToNpub(content.pubkey);\n          user.created_at = content.created_at;\n\n          users.push(user);\n        }\n      },\n      onEose: () => {\n        setRepostList((reposts) => [...reposts, ...users]);\n        loadedReposts = repostList.length;\n        setIsFetching(() => false);\n        unsub();\n      },\n    });\n\n    setIsFetching(() => true);\n    getEventReactions(props.noteId, Kind.Repost, subId, offset);\n  };\n\n  const getQuotes = (offset = 0) => {\n    if (!props.noteId) return;\n\n    const subId = `nr_q_${props.noteId}_${APP_ID}`;\n\n    let page: FeedPage = {\n      messages: [],\n      users: {},\n      postStats: {},\n      mentions: {},\n      noteActions: {},\n      topZaps: {},\n    };\n\n    const unsub = subsTo(subId, {\n      onEvent: (_, content) => {\n        if (content?.kind === Kind.Metadata) {\n          const user = content as NostrUserContent;\n\n          page.users[user.pubkey] = { ...user };\n\n          return;\n        }\n        if (content?.kind === Kind.Text) {\n          const message = content as NostrNoteContent;\n\n          const isAlreadyInPage = page.messages.find(m => m.id === message.id);\n          const isAlreadyInTheList = quotesList.find(n => n.id === message.id);\n\n          if (isAlreadyInPage || isAlreadyInTheList) {\n            return;\n          }\n\n          page.messages.push(message);\n          return;\n        }\n\n        if (content?.kind === Kind.NoteStats) {\n          const statistic = content as NostrStatsContent;\n          const stat = JSON.parse(statistic.content);\n\n          page.postStats[stat.event_id] = { ...stat };\n          return;\n        }\n\n        if (content?.kind === Kind.Mentions) {\n          const mentionContent = content as NostrMentionContent;\n          const mention = JSON.parse(mentionContent.content);\n\n          if (!page.mentions) {\n            page.mentions = {};\n          }\n\n          page.mentions[mention.id] = { ...mention };\n          return;\n        }\n\n        if (content?.kind === Kind.NoteActions) {\n          const noteActionContent = content as NostrNoteActionsContent;\n          const noteActions = JSON.parse(noteActionContent.content) as NoteActions;\n\n          page.noteActions[noteActions.event_id] = { ...noteActions };\n\n          return;\n        }\n\n        if (content?.kind === Kind.LinkMetadata) {\n          const metadata = JSON.parse(content.content);\n\n          const data = metadata.resources[0];\n          if (!data) {\n            return;\n          }\n\n          const preview = {\n            url: data.url,\n            title: data.md_title,\n            description: data.md_description,\n            mediaType: data.mimetype,\n            contentType: data.mimetype,\n            images: [data.md_image],\n            favicons: [data.icon_url],\n          };\n\n          setLinkPreviews(() => ({ [data.url]: preview }));\n          return;\n        }\n      },\n      onEose: () => {\n        const pageNotes = convertToNotes(page);\n\n        setQuotesList((notes) => [...notes, ...pageNotes]);\n        loadedQuotes = quotesList.length;\n        setIsFetching(() => false);\n        unsub();\n      },\n    });\n\n    setIsFetching(() => true);\n    getEventQuotes(props.noteId, subId, offset, account?.publicKey);\n  };\n\n  const getQuoteCount = () => {\n    if (!props.noteId) return;\n\n    const subId = `nr_qc_${props.noteId}_${APP_ID}`;\n\n    const unsub = subsTo(subId, {\n      onEvent: (_, content) => {\n        if (content?.kind === Kind.NoteQuoteStats) {\n          const quoteStats = JSON.parse(content.content);\n\n          setQuoteCount(() => quoteStats.count || 0);\n        }\n      },\n      onEose: () => {\n        unsub();\n      },\n    });\n\n    getEventQuoteStats(props.noteId, subId);\n  }\n\n  const totalCount = () => props.stats.likes + (quoteCount() || props.stats.quotes || 0) + props.stats.reposts + props.stats.zaps;\n\n  return (\n    <AdvancedSearchDialog\n      open={props.noteId !== undefined}\n      setOpen={(isOpen: boolean) => !isOpen && props.onClose && props.onClose()}\n      title={\n        <div class={styles.title}>\n          <div class={styles.caption}>\n            {intl.formatMessage(tActions.reactions, { count: totalCount() })}\n          </div>\n        </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div id={props.id} class={styles.ReactionsModal}>\n        <Switch>\n          <Match when={!isFetching && totalCount() === 0}>\n            {intl.formatMessage(tPlaceholders.noReactionDetails)}\n          </Match>\n        </Switch>\n\n        <div class={styles.description}>\n          <Tabs value={selectedTab()} onChange={setSelectedTab}>\n            <Tabs.List class={styles.tabs}>\n              <Show when={props.stats.zaps > 0}>\n                <Tabs.Trigger class={styles.tab} value={'zaps'} >\n                 {intl.formatMessage(reactionsModal.tabs.zaps, { count: props.stats.zaps })}\n                </Tabs.Trigger>\n              </Show>\n              <Show when={props.stats.likes > 0}>\n                <Tabs.Trigger class={styles.tab} value={'likes'} >\n                 {intl.formatMessage(reactionsModal.tabs.likes, { count: props.stats.likes })}\n                </Tabs.Trigger>\n              </Show>\n              <Show when={props.stats.reposts > 0}>\n                <Tabs.Trigger class={styles.tab} value={'reposts'} >\n                 {intl.formatMessage(reactionsModal.tabs.reposts, { count: props.stats.reposts })}\n                </Tabs.Trigger>\n              </Show>\n              <Show when={quoteCount() > 0}>\n                <Tabs.Trigger class={styles.tab} value={'quotes'} >\n                 {intl.formatMessage(reactionsModal.tabs.quotes, { count: quoteCount() })}\n                </Tabs.Trigger>\n              </Show>\n\n              <Tabs.Indicator class={styles.tabIndicator} />\n            </Tabs.List>\n\n            <Tabs.Content class={styles.tabContent} value={'likes'}>\n              <For\n                each={likeList}\n                fallback={\n                  <Show when={!isFetching()}>\n                    <Show\n                      when={totalCount() > 0}\n                      fallback={intl.formatMessage(tPlaceholders.noReactionDetails)}\n                    >\n                      {intl.formatMessage(tPlaceholders.noLikeDetails)}\n                    </Show>\n                  </Show>\n                }\n              >\n                {admirer =>\n                  <A\n                    href={app?.actions.profileLink(admirer.npub) || ''}\n                    class={styles.likeItem}\n                    onClick={props.onClose}\n                  >\n                    <div class={styles.likeIcon}></div>\n                    <Avatar src={admirer.picture} size=\"vs\" />\n                    <div class={styles.userName}>\n                      <div class={styles.name}>\n                        {userName(admirer)}\n                      </div>\n                      <VerificationCheck user={admirer} />\n                    </div>\n                  </A>\n                }\n              </For>\n\n              <Show when={likeList.length < props.stats.likes}>\n                <Paginator\n                  loadNextPage={() => {\n                    const len = likeList.length;\n                    if (len === 0) return;\n                    getLikes(len+1);\n                  }}\n                  isSmall={true}\n                />\n              </Show>\n\n              <Show\n                when={isFetching()}\n              >\n                <Loader />\n              </Show>\n            </Tabs.Content>\n\n            <Tabs.Content class={styles.tabContent} value={'zaps'}>\n              <For\n                each={zapList}\n                fallback={\n                  <Show when={!isFetching()}>\n                    <Show\n                      when={totalCount() > 0}\n                      fallback={intl.formatMessage(tPlaceholders.noReactionDetails)}\n                    >\n                      {intl.formatMessage(tPlaceholders.noZapDetails)}\n                    </Show>\n                  </Show>\n                }\n              >\n                {zap =>\n                  <A\n                    href={app?.actions.profileLink(hexToNpub(zap.pubkey)) || ''}\n                    class={styles.zapItem}\n                    onClick={props.onClose}\n                  >\n                    <div class={styles.zapAmount}>\n                      <div class={styles.zapIcon}></div>\n                      <div class={styles.amount}>{zap.amount < 100_000 ? zap.amount.toLocaleString() : truncateNumber2(zap.amount)}</div>\n                    </div>\n                    <Avatar src={zap.sender?.picture} size=\"vs\" />\n                    <div class={styles.zapInfo}>\n                      <div class={styles.userName}>\n                        <div class={styles.name}>\n                          {userName(zap.sender)}\n                        </div>\n                        <VerificationCheck user={zap} />\n                      </div>\n                      <div class={styles.zapMessage}>\n                        {zap.message}\n                      </div>\n                    </div>\n                  </A>\n                }\n              </For>\n\n              <Show when={zapList.length < props.stats.zaps}>\n                <Paginator\n                  loadNextPage={() => {\n                    const len = zapList.length;\n                    if (len === 0) return;\n                    getZaps(len+1);\n                  }}\n                  isSmall={true}\n                />\n              </Show>\n\n              <Show\n                when={isFetching()}\n              >\n                <Loader />\n              </Show>\n            </Tabs.Content>\n            <Tabs.Content class={styles.tabContent} value={'reposts'}>\n              <For\n                each={repostList}\n                fallback={\n                  <Show when={!isFetching()}>\n                    <Show\n                      when={totalCount() > 0}\n                      fallback={intl.formatMessage(tPlaceholders.noReactionDetails)}\n                    >\n                      {intl.formatMessage(tPlaceholders.noRepostDetails)}\n                    </Show>\n                  </Show>\n                }\n              >\n                {reposter =>\n                  <A\n                    href={app?.actions.profileLink(reposter.npub) || ''}\n                    class={styles.repostItem}\n                    onClick={props.onClose}\n                  >\n                    <div class={styles.repostIcon}></div>\n                    <Avatar src={reposter.picture} size=\"vs\" />\n                    <div class={styles.userName}>\n                      <div class={styles.name}>\n                        {userName(reposter)}\n                      </div>\n                      <VerificationCheck user={reposter} />\n                    </div>\n                  </A>\n                }\n              </For>\n\n              <Show when={repostList.length < props.stats.reposts}>\n                <Paginator\n                  loadNextPage={() => {\n                    const len = repostList.length;\n                    if (len === 0) return;\n                    getReposts(len+1);\n                  }}\n                  isSmall={true}\n                />\n              </Show>\n\n              <Show\n                when={isFetching()}\n              >\n                <Loader />\n              </Show>\n            </Tabs.Content>\n            <Tabs.Content class={styles.tabContent} value={'quotes'}>\n              <For\n                each={quotesList}\n                fallback={\n                  <Show when={!isFetching()}>\n                    <Show\n                      when={totalCount() > 0}\n                      fallback={intl.formatMessage(tPlaceholders.noReactionDetails)}\n                    >\n                      {intl.formatMessage(tPlaceholders.noQuoteDetails)}\n                    </Show>\n                  </Show>\n                }\n              >\n                {quote => (\n                  <Note\n                    note={quote}\n                    shorten={true}\n                    noteType=\"reaction\"\n                    onClick={props.onClose}\n                  />\n                )}\n              </For>\n              <Paginator\n                loadNextPage={() => {\n                  const len = quotesList.length;\n                  if (len === 0) return;\n                  getQuotes(len+1);\n                }}\n                isSmall={true}\n              />\n            </Tabs.Content>\n          </Tabs>\n        </div>\n      </div>\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(ReactionsModal);\n","import { useIntl } from '@cookbook/solid-intl';\nimport { Component, createEffect, createSignal, For } from 'solid-js';\nimport { defaultZap, defaultZapOptions, Kind } from '../../constants';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { useSettingsContext } from '../../contexts/SettingsContext';\nimport { hookForDev } from '../../lib/devTools';\nimport { zapArticle, zapDVM, zapNote, zapProfile } from '../../lib/zap';\nimport { userName } from '../../stores/profile';\nimport { toastZapFail, zapCustomOption, actions as tActions, placeholders as tPlaceholders, zapCustomAmount } from '../../translations';\nimport { PrimalDVM, PrimalNote, PrimalUser, ZapOption } from '../../types/primal';\nimport { debounce } from '../../utils';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport Modal from '../Modal/Modal';\nimport { lottieDuration } from '../Note/NoteFooter/NoteFooter';\nimport TextInput from '../TextInput/TextInput';\nimport { useToastContext } from '../Toaster/Toaster';\n\nimport styles from './CustomZap.module.scss';\n\nconst CustomZap: Component<{\n  id?: string,\n  open?: boolean,\n  note?: PrimalNote,\n  profile?: PrimalUser,\n  dvm?: PrimalDVM,\n  onConfirm: (zapOption?: ZapOption) => void,\n  onSuccess: (zapOption?: ZapOption) => void,\n  onFail: (zapOption?: ZapOption) => void,\n  onCancel: (zapOption?: ZapOption) => void\n}> = (props) => {\n\n  const toast = useToastContext();\n  const account = useAccountContext();\n  const intl = useIntl();\n  const settings = useSettingsContext();\n\n  const [selectedValue, setSelectedValue] = createSignal(settings?.availableZapOptions[0] || defaultZapOptions[0]);\n\n  createEffect(() => {\n    setSelectedValue(settings?.availableZapOptions[0] || defaultZapOptions[0])\n  });\n\n  const isSelected = (value: ZapOption) => {\n    const sel = selectedValue();\n    return value.amount === sel.amount && value.emoji === sel.emoji && value.message === sel.message;\n  };\n\n  const updateCustomAmount = (value: string) => {\n    const amount = parseInt(value.replaceAll(',', ''));\n\n    if (isNaN(amount)) {\n      setSelectedValue((v) => ({ ...v, amount: 0 }))\n    };\n\n    setSelectedValue((v)=> ({ ...v, amount }));\n  };\n\n  const updateComment = (message: string) => {\n    setSelectedValue((v) => ({ ...v, message }))\n  }\n\n  const truncateNumber = (amount: number) => {\n    const t = 1000;\n\n    if (amount < t) {\n      return `${amount}`;\n    }\n\n    if (amount < Math.pow(t, 2)) {\n      return (amount % t === 0) ?\n        `${Math.floor(amount / t)}K` :\n        intl.formatNumber(amount);\n    }\n\n    if (amount < Math.pow(t, 3)) {\n      return (amount % t === 0) ?\n        `${Math.floor(amount / Math.pow(t, 2))}M` :\n        intl.formatNumber(amount);\n    }\n\n    if (amount < Math.pow(t, 4)) {\n      return (amount % t === 0) ?\n        `${Math.floor(amount / Math.pow(t, 3))}B` :\n        intl.formatNumber(amount);\n    }\n\n    if (amount < Math.pow(t, 5)) {\n      return (amount % t === 0) ?\n        `${Math.floor(amount / Math.pow(t, 3))}T` :\n        intl.formatNumber(amount);\n    }\n\n    return intl.formatNumber(amount);\n  };\n\n  const submit = async () => {\n    if (account?.hasPublicKey()) {\n      props.onConfirm(selectedValue());\n\n      const note = props.note;\n\n      if (note) {\n        setTimeout(async () => {\n\n          const zappers: Record<string, Function> = {\n            [Kind.Text]: zapNote,\n            [Kind.LongForm]: zapArticle,\n            [Kind.LongFormShell]: zapArticle,\n          }\n\n          const success = await zappers[note.msg.kind](\n            note,\n            account.publicKey,\n            selectedValue().amount || 0,\n            selectedValue().message,\n            account.activeRelays,\n          );\n\n          handleZap(success);\n        }, lottieDuration());\n        return;\n      }\n\n      if (props.profile) {\n        const success = await zapProfile(\n          props.profile,\n          account.publicKey,\n          selectedValue().amount || 0,\n          selectedValue().message,\n          account.activeRelays,\n        );\n\n        handleZap(success);\n        return;\n      }\n\n      const dvm = props.dvm;\n      const dvmUser = dvm?.user;\n\n      if (dvm && dvmUser) {\n        setTimeout(async () => {\n\n          const success = await zapDVM(\n            dvm,\n            dvmUser,\n            account.publicKey,\n            selectedValue().amount || 0,\n            selectedValue().message,\n            account.activeRelays,\n            );\n\n            handleZap(success);\n          }, lottieDuration());\n        return;\n      }\n    }\n  };\n\n  const handleZap = (success = false) => {\n    if (success) {\n      props.onSuccess(selectedValue());\n      return;\n    }\n\n    toast?.sendWarning(\n      intl.formatMessage(toastZapFail),\n    );\n\n    props.onFail(selectedValue());\n  };\n\n  let md = false;\n\n  return (\n    <AdvancedSearchDialog\n      open={props.open}\n      setOpen={(isOpen: boolean) => {\n        if (isOpen) return;\n\n        if (md) {\n          md = false;\n        }\n        else {\n          props.onCancel({ amount: 0, message: '' });\n        }\n      }}\n      title={\n        <div class={styles.title}>\n          <div class={styles.caption}>\n            {intl.formatMessage(tActions.zap)}\n          </div>\n        </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div\n        id={props.id}\n        class={styles.customZap}\n        onMouseUp={() => md = false}\n        onMouseDown={() => md = true}\n        onClick={(e: MouseEvent) => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n      >\n\n        <div class={styles.description}>\n          {intl.formatMessage(zapCustomOption,{\n            user: userName(props.note?.user || props.profile),\n          })}\n\n          <span class={styles.amount}>\n            {truncateNumber(selectedValue().amount || 0)}\n          </span>\n          <span class={styles.units}>sats</span>\n        </div>\n\n        <div class={styles.options}>\n          <For each={settings?.availableZapOptions}>\n            {(value) =>\n              <button\n                class={`${styles.zapOption} ${isSelected(value) ? styles.selected : ''}`}\n                onClick={() => {\n                  setSelectedValue(() => ({...value}));\n                }}\n              >\n                <div>\n                  <span class={styles.emoji}>\n                    {value.emoji}\n                  </span>\n                  <span class={styles.amount}>\n                    {truncateNumber(value.amount || 0)}\n                  </span>\n                  <span class={styles.sats}>sats</span>\n                </div>\n              </button>\n            }\n          </For>\n        </div>\n\n        <div class={styles.customAmount}>\n          <TextInput\n            name=\"customAmountInput\"\n            type=\"text\"\n            value={selectedValue().amount ? intl.formatNumber(selectedValue().amount || 0) : ''}\n            placeholder=\"0 sats\"\n            onChange={updateCustomAmount}\n            noExtraSpace={true}\n          />\n          <label for=\"customAmountInput\">\n            {intl.formatMessage(zapCustomAmount)}\n          </label>\n        </div>\n\n        <TextInput\n          type=\"text\"\n          value={selectedValue().message || ''}\n          placeholder={intl.formatMessage(tPlaceholders.addComment)}\n          onChange={updateComment}\n          noExtraSpace={true}\n        />\n\n        <div\n          class={styles.action}\n        >\n          <ButtonPrimary\n            onClick={submit}\n          >\n            <div class={styles.caption}>\n              {intl.formatMessage(tActions.zap)}\n            </div>\n          </ButtonPrimary>\n        </div>\n\n      </div>\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(CustomZap);\n","import { Component, createEffect, createSignal } from 'solid-js';\nimport { MenuItem, NostrRelaySignedEvent } from '../../types/primal';\n\nimport styles from './Note.module.scss';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { authorName, userName } from '../../stores/profile';\nimport { note as t, actions as tActions, toast as tToast } from '../../translations';\nimport { hookForDev } from '../../lib/devTools';\nimport PrimalMenu from '../PrimalMenu/PrimalMenu';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { APP_ID } from '../../App';\nimport { reportUser } from '../../lib/profile';\nimport { useToastContext } from '../Toaster/Toaster';\nimport { broadcastEvent } from '../../lib/notes';\nimport { NoteContextMenuInfo, useAppContext } from '../../contexts/AppContext';\nimport ConfirmModal from '../ConfirmModal/ConfirmModal';\nimport { nip19 } from 'nostr-tools';\n\nconst NoteContextMenu: Component<{\n  data: NoteContextMenuInfo,\n  open: boolean,\n  onClose: () => void,\n  id?: string,\n}> = (props) => {\n  const account = useAccountContext();\n  const toaster = useToastContext();\n  const intl = useIntl();\n  const app = useAppContext();\n\n  const [showContext, setContext] = createSignal(false);\n  const [confirmReportUser, setConfirmReportUser] = createSignal(false);\n  const [confirmMuteUser, setConfirmMuteUser] = createSignal(false);\n\n  const [orientation, setOrientation] = createSignal<'down' | 'up'>('down')\n\n  const note = () => props.data?.note;\n  const position = () => {\n    return props.data?.position;\n  };\n\n  createEffect(() => {\n    if(!context) return;\n\n    if (!props.open) {\n      setTimeout(() => {\n        context?.setAttribute('style',`top: -1024px; left: -1034px;`);\n      }, 200)\n      return;\n    }\n\n    const docRect = document.documentElement.getBoundingClientRect();\n    const pos = {\n      top: (Math.floor(position()?.top || 0) - docRect.top),\n      left: (Math.floor(position()?.left || 0)),\n    }\n\n    context.setAttribute('style',`top: ${pos.top + 12}px; left: ${pos.left + 12}px;`);\n\n    const height = 440;\n    const orient = Math.floor(position()?.bottom || 0) + height < window.innerHeight ? 'down' : 'up';\n\n    setOrientation(() => orient);\n  });\n\n\n  const doMuteUser = () => {\n    account?.actions.addToMuteList(note()?.pubkey);\n    props.onClose();\n  };\n\n  const doUnmuteUser = () => {\n    account?.actions.removeFromMuteList(note()?.pubkey);\n    props.onClose();\n  };\n\n  const doReportUser = () => {\n    reportUser(note()?.user.pubkey, `report_user_${APP_ID}`, note()?.user);\n    props.onClose();\n    toaster?.sendSuccess(intl.formatMessage(tToast.noteAuthorReported, { name: userName(note()?.user)}));\n  };\n\n  const copyNoteLink = () => {\n    if (!props.data) return;\n\n    let link = `e/${note().noteId}`;\n\n    if (note().noteId.startsWith('naddr')) {\n      const vanityName = app?.verifiedUsers[note().pubkey];\n\n      if (vanityName) {\n        const decoded = nip19.decode(note().noteId);\n\n        const data = decoded.data as nip19.AddressPointer;\n\n        link = `${vanityName}/${data.identifier}`;\n      }\n    }\n\n    navigator.clipboard.writeText(`${window.location.origin}/${link}`);\n    props.onClose()\n    toaster?.sendSuccess(intl.formatMessage(tToast.notePrimalLinkCoppied));\n  };\n\n  const copyNoteText = () => {\n    if (!props.data) return;\n    navigator.clipboard.writeText(`${note().content}`);\n    props.onClose()\n    toaster?.sendSuccess(intl.formatMessage(tToast.notePrimalTextCoppied));\n  };\n\n  const copyNoteId = () => {\n    if (!props.data) return;\n    navigator.clipboard.writeText(`${note().noteId}`);\n    props.onClose()\n    toaster?.sendSuccess(intl.formatMessage(tToast.noteIdCoppied));\n  };\n\n  const copyRawData = () => {\n    if (!props.data) return;\n    navigator.clipboard.writeText(`${JSON.stringify(note().msg)}`);\n    props.onClose()\n    toaster?.sendSuccess(intl.formatMessage(tToast.noteRawDataCoppied));\n  };\n\n  const copyUserNpub = () => {\n    if (!props.data) return;\n    navigator.clipboard.writeText(`${note().user.npub}`);\n    props.onClose()\n    toaster?.sendSuccess(intl.formatMessage(tToast.noteAuthorNpubCoppied));\n  };\n\n  const broadcastNote = async () => {\n    if (!account || !props.data) {\n      return;\n    }\n\n    const { success } = await broadcastEvent(note().msg as NostrRelaySignedEvent, account.proxyThroughPrimal, account.activeRelays, account.relaySettings);\n    props.onClose()\n\n    if (success) {\n      toaster?.sendSuccess(intl.formatMessage(tToast.noteBroadcastSuccess));\n      return;\n    }\n    toaster?.sendWarning(intl.formatMessage(tToast.noteBroadcastFail));\n  };\n\n  const onClickOutside = (e: MouseEvent) => {\n    if (\n      !props.data ||\n      !document?.getElementById(`note_context_${note().id}`)?.contains(e.target as Node)\n    ) {\n      props.onClose()\n    }\n  }\n\n  createEffect(() => {\n    if (props.open) {\n      document.addEventListener('click', onClickOutside);\n    }\n    else {\n      document.removeEventListener('click', onClickOutside);\n    }\n  });\n\n  const isVerifiedByPrimal = () => {\n    return props.data && !!note().user.nip05 &&\n      note().user.nip05.endsWith('primal.net');\n  }\n\n  const noteContextForEveryone: MenuItem[] = [\n    {\n      label: intl.formatMessage(tActions.noteContext.reactions),\n      action: () => {\n        props.data?.openReactions && props.data?.openReactions();\n        props.onClose()\n      },\n      icon: 'heart',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.zap),\n      action: () => {\n        props.data?.openCustomZap && props.data?.openCustomZap();\n        props.onClose()\n      },\n      icon: 'feed_zap',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.copyLink),\n      action: copyNoteLink,\n      icon: 'copy_note_link',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.copyText),\n      action: copyNoteText,\n      icon: 'copy_note_text',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.copyId),\n      action: copyNoteId,\n      icon: 'copy_note_id',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.copyRaw),\n      action: copyRawData,\n      icon: 'copy_raw_data',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.breadcast),\n      action: broadcastNote,\n      icon: 'broadcast',\n    },\n    {\n      label: intl.formatMessage(tActions.noteContext.copyPubkey),\n      action: copyUserNpub,\n      icon: 'copy_pubkey',\n    },\n  ];\n\n  const noteContextForOtherPeople: () => MenuItem[] = () => {\n    const isMuted = account?.muted.includes(note()?.user.pubkey);\n\n    return [\n      {\n        label: isMuted ?  intl.formatMessage(tActions.noteContext.unmuteAuthor) : intl.formatMessage(tActions.noteContext.muteAuthor),\n        action: () => {\n          isMuted ? doUnmuteUser() : setConfirmMuteUser(true);\n          props.onClose()\n        },\n        icon: 'mute_user',\n        warning: true,\n      },\n      {\n        label: intl.formatMessage(tActions.noteContext.reportAuthor),\n        action: () => {\n          setConfirmReportUser(true);\n          props.onClose()\n        },\n        icon: 'report',\n        warning: true,\n      },\n    ];\n  };\n\n  const noteContext = () => account?.publicKey !== note()?.pubkey ?\n      [ ...noteContextForEveryone, ...noteContextForOtherPeople()] :\n      noteContextForEveryone;\n\n  let context: HTMLDivElement | undefined;\n\n  return (\n    <div class={styles.contextMenu} ref={context}>\n      <ConfirmModal\n        open={confirmReportUser()}\n        description={intl.formatMessage(tActions.reportUserConfirm, { name: authorName(note()?.user) })}\n        onConfirm={() => {\n          doReportUser();\n          setConfirmReportUser(false);\n        }}\n        onAbort={() => setConfirmReportUser(false)}\n      />\n\n      <ConfirmModal\n        open={confirmMuteUser()}\n        description={intl.formatMessage(tActions.muteUserConfirm, { name: authorName(note()?.user) })}\n        onConfirm={() => {\n          doMuteUser();\n          setConfirmMuteUser(false);\n        }}\n        onAbort={() => setConfirmMuteUser(false)}\n      />\n\n      <PrimalMenu\n        id={`note_context_${note()?.id}`}\n        items={noteContext()}\n        hidden={!props.open}\n        position=\"note_context\"\n        orientation={orientation()}\n      />\n    </div>\n  )\n}\n\nexport default hookForDev(NoteContextMenu);\n","import { useIntl } from '@cookbook/solid-intl';\n// @ts-ignore\nimport { decode } from 'light-bolt11-decoder';\nimport { Component, createEffect } from 'solid-js';\nimport { createStore, reconcile } from 'solid-js/store';\nimport { emptyInvoice } from '../../constants';\nimport { date, dateFuture } from '../../lib/dates';\nimport { hookForDev } from '../../lib/devTools';\nimport { humanizeNumber } from '../../lib/stats';\nimport { lnInvoice } from '../../translations';\nimport { LnbcInvoice } from '../../types/primal';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport Modal from '../Modal/Modal';\nimport QrCode from '../QrCode/QrCode';\n\nimport styles from './LnQrCodeModal.module.scss';\n\nconst LnQrCodeModal: Component<{\n  id?: string,\n  open?: boolean,\n  lnbc: string | undefined,\n  onPay?: () => void,\n  onClose?: () => void,\n}> = (props) => {\n  const intl = useIntl();\n\n  const [invoice, setInvoice] = createStore<LnbcInvoice>(emptyInvoice);\n\n  createEffect(() => {\n    if (props.lnbc) {\n      const dec: LnbcInvoice = decode(props.lnbc);\n      setInvoice(reconcile(dec));\n    } else {\n      setInvoice(reconcile(emptyInvoice));\n    }\n  });\n\n  const expiryDate = () => {\n    const expiry = invoice.sections.find(s => s.name === 'expiry')?.value as number;\n    const created = invoice.sections.find(s => s.name === 'timestamp')?.value as number;\n\n    return expiry + created;\n  }\n\n  const amount = () =>\n    `${humanizeNumber(parseInt(invoice.sections.find(s => s.name === 'amount')?.value ||'0') / 1_000)} sats`;\n\n  const description = () =>\n    decodeURI(invoice.sections.find(s => s.name === 'description')?.value) || '';\n\n  return (\n    <AdvancedSearchDialog\n      open={props.open}\n      setOpen={(isOpen: boolean) => !isOpen && props.onClose && props.onClose()}\n      title={\n        <div class={styles.title}>\n          {intl.formatMessage(lnInvoice.title)}\n        </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div id={props.id} class={styles.LnQrCodeModal}>\n        <div class={styles.body}>\n          <div class={styles.qrCode}>\n            <QrCode data={props.lnbc || ''} type=\"lightning\"/>\n          </div>\n\n          <div class={styles.description}>{description()}</div>\n          <div class={styles.amount}>{amount()}</div>\n\n          <div class={styles.separator}></div>\n        </div>\n\n        <div class={styles.footer}>\n          <div class={styles.expiryDate}>\n            {intl.formatMessage(lnInvoice.expires, { date: dateFuture(expiryDate(), 'long').label })}\n          </div>\n          <div class={styles.payAction}>\n            <ButtonPrimary onClick={props.onPay}>\n              {intl.formatMessage(lnInvoice.pay)}\n            </ButtonPrimary>\n          </div>\n        </div>\n      </div>\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(LnQrCodeModal);\n","import { useIntl } from '@cookbook/solid-intl';\n// @ts-ignore\nimport { decode } from 'light-bolt11-decoder';\nimport { Component, createEffect, Show } from 'solid-js';\nimport { createStore, reconcile } from 'solid-js/store';\nimport { emptyInvoice } from '../../constants';\nimport { date, dateFuture } from '../../lib/dates';\nimport { hookForDev } from '../../lib/devTools';\nimport { humanizeNumber } from '../../lib/stats';\nimport { cashuInvoice } from '../../translations';\nimport { LnbcInvoice } from '../../types/primal';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport Modal from '../Modal/Modal';\nimport QrCode from '../QrCode/QrCode';\nimport { getDecodedToken, Token } from \"@cashu/cashu-ts\";\n\nimport styles from './CashuQrCodeModal.module.scss';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\n\nconst CashuQrCodeModal: Component<{\n  id?: string,\n  open?: boolean,\n  cashu: string | undefined,\n  onPay?: () => void,\n  onClose?: () => void,\n}> = (props) => {\n  const intl = useIntl();\n\n  const [invoice, setInvoice] = createStore<Token>({ token: []});\n\n  createEffect(() => {\n    if (props.cashu) {\n      const dec: Token = getDecodedToken(props.cashu);\n      setInvoice(reconcile(dec));\n    } else {\n      setInvoice(reconcile({ token: [] }));\n    }\n  });\n\n  const amount = () =>\n    `${invoice.token[0]?.proofs.reduce((acc, v) => acc + v.amount, 0) || 0} sats`;\n\n  const description = () => invoice.memo || '';\n\n  return (\n    <AdvancedSearchDialog\n      open={props.open}\n      setOpen={(isOpen: boolean) => !isOpen && props.onClose && props.onClose()}\n      title={\n        <div class={styles.title}>\n          {intl.formatMessage(cashuInvoice.title)}\n        </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div id={props.id} class={styles.CashuQrCodeModal}>\n        <div class={styles.body}>\n          <div class={styles.qrCode}>\n            <QrCode data={props.cashu || ''} type=\"cashu\"/>\n          </div>\n\n          <div class={styles.description}>{description()}</div>\n          <div class={styles.amount}>{amount()}</div>\n\n          <div class={styles.separator}></div>\n        </div>\n\n        <div class={styles.footer}>\n          <div class={styles.mint}>\n            <Show when={invoice.token[0]}>\n              {intl.formatMessage(cashuInvoice.mint, { url: new URL(invoice.token[0]?.mint).hostname })}\n            </Show>\n          </div>\n          <div class={styles.payAction}>\n            <ButtonPrimary onClick={props.onPay}>\n              {intl.formatMessage(cashuInvoice.redeem)}\n            </ButtonPrimary>\n          </div>\n        </div>\n      </div>\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(CashuQrCodeModal);\n","import { useIntl } from '@cookbook/solid-intl';\n\nimport { Component, createEffect, For, Show } from 'solid-js';\nimport { createStore } from 'solid-js/store';\nimport { Kind } from '../../constants';\nimport { hookForDev } from '../../lib/devTools';\nimport { NostrTier, PrimalUser } from '../../types/primal';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport Modal from '../Modal/Modal';\n\nimport styles from './SubscribeToAuthorModal.module.scss';\nimport { userName } from '../../stores/profile';\nimport Avatar from '../Avatar/Avatar';\nimport VerificationCheck from '../VerificationCheck/VerificationCheck';\nimport { APP_ID } from '../../App';\nimport { subsTo, subTo } from '../../sockets';\nimport { getAuthorSubscriptionTiers } from '../../lib/feed';\nimport ButtonSecondary from '../Buttons/ButtonSecondary';\nimport { Select } from '@kobalte/core/select';\nimport Loader from '../Loader/Loader';\nimport { logInfo } from '../../lib/logger';\nimport { getExchangeRate, getMembershipStatus } from '../../lib/membership';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\n\n\nexport const satsInBTC = 100_000_000;\n\nexport type TierCost = {\n  amount: string,\n  unit: string,\n  cadence: string,\n  id: string,\n}\n\nexport type Tier = {\n  title: string,\n  content: string,\n  id: string,\n  perks: string[],\n  costs: TierCost[],\n  activeCost: TierCost | undefined,\n  client: string,\n  event: NostrTier,\n};\n\nexport type TierStore = {\n  tiers: Tier[],\n  selectedTier: Tier | undefined,\n  selectedCost: TierCost | undefined,\n  isFetchingTiers: boolean,\n  exchangeRate: Record<string, Record<string, number>>,\n}\n\nexport const payUnits = ['sats', 'sat', 'msat', 'msats', 'USD', 'usd', ''];\n\nconst SubscribeToAuthorModal: Component<{\n  id?: string,\n  author: PrimalUser | undefined,\n  onClose: () => void,\n  onSubscribe: (tier: Tier, cost: TierCost, exchangeRate?: Record<string, Record<string, number>>) => void,\n}> = (props) => {\n\n  const account = useAccountContext();\n\n  const [store, updateStore] = createStore<TierStore>({\n    tiers: [],\n    selectedTier: undefined,\n    selectedCost: undefined,\n    isFetchingTiers: false,\n    exchangeRate: {},\n  });\n\n  let walletSocket: WebSocket | undefined;\n\n  createEffect(() => {\n    const author = props.author;\n\n    if (author) {\n      getTiers(author);\n    }\n  });\n\n  createEffect(() => {\n    if (props.author && (!walletSocket || walletSocket.readyState === WebSocket.CLOSED)) {\n      openWalletSocket(() => {\n        if (!walletSocket || walletSocket.readyState !== WebSocket.OPEN) return;\n\n        const subId = `er_${APP_ID}`;\n\n        const unsub = subTo(walletSocket, subId, (type, _, content) => {\n          if (type === 'EVENT') {\n            const response: { rate: string } = JSON.parse(content?.content || '{ \"rate\": 1 }');\n\n            const BTCForTarget = parseFloat(response.rate) || 1;\n\n            const satsToTarget = BTCForTarget / satsInBTC;\n            const targetToBTC = 1 / BTCForTarget;\n            const targetToSats = 1 / satsToTarget;\n\n            updateStore('exchangeRate', () => ({\n              USD: {\n                sats: targetToSats,\n                BTC: targetToBTC,\n                USD: 1,\n              },\n              sats: {\n                sats: 1,\n                USD: satsToTarget,\n                BTC: 1 / satsInBTC,\n              },\n              BTC: {\n                sats: satsInBTC,\n                USD: BTCForTarget,\n                BTC: 1,\n              }\n            }));\n          }\n\n          if (type === 'EOSE') {\n            unsub();\n            walletSocket?.close();\n          }\n        });\n\n        getExchangeRate(account?.publicKey, subId, \"USD\", walletSocket);\n      });\n    } else {\n      walletSocket?.close();\n    }\n  })\n\n  const getTiers = (author: PrimalUser) => {\n    if (!author) return;\n\n    const subId = `subscription_tiers_${APP_ID}`;\n\n    let tiers: Tier[] = [];\n\n    const unsub = subsTo(subId, {\n      onEvent: (_, content) => {\n        if (content.kind === Kind.TierList) {\n          return;\n        }\n\n        if (content.kind === Kind.Tier) {\n          const t = content as NostrTier;\n\n          let costs = t.tags?.filter((t: string[]) => t[0] === 'amount').map((t: string[]) => (\n            {\n              amount: t[1],\n              unit: t[2],\n              cadence: t[3],\n              id: `${t[1]}_${t[2]}_${t[3]}`\n            })) || [];\n\n          const tier = {\n            title: (t.tags?.find((t: string[]) => t[0] === 'title') || [])[1] || t.content || '',\n            id: t.id || '',\n            content: t.content || '',\n            perks: t.tags?.filter((t: string[]) => t[0] === 'perk').map((t: string[]) => t[1]) || [],\n            costs,\n            client: (t.tags?.find((t: string[]) => t[0] === 'client') || [])[1] || t.content || '',\n            event: t,\n            activeCost: costs[0],\n          }\n\n          tiers.push(tier)\n\n          return;\n        }\n      },\n      onEose: () => {\n        unsub();\n        updateStore('isFetchingTiers', () => false);\n        updateStore('tiers', () => [...tiers]);\n        const tier: Tier | undefined = tiers.length > 0 ? Object.assign(tiers[0]) : undefined;\n        updateStore('selectedTier', () => tier ? ({ ...tier }) : undefined);\n        updateStore('selectedCost', () => tier ? ({ ...tier?.costs[0] }) : undefined);\n      },\n    })\n\n    updateStore('isFetchingTiers', () => true);\n    getAuthorSubscriptionTiers(author.pubkey, subId)\n  }\n\n  const selectTier = (tier: Tier) => {\n    if (tier.id !== store.selectedTier?.id) {\n      updateStore('selectedTier', () => ({ ...tier }));\n      updateStore('selectedCost', (sc) => ({ ...costOptions(tier)[0] }) );\n    }\n  }\n\n  const isSelectedTier = (tier: Tier) => tier.id === store.selectedTier?.id;\n\n\n  const costOptions = (tier: Tier) => {\n    return tier.costs.filter(cost => payUnits.includes(cost.unit));\n  }\n\n  const displayCost = (cost: TierCost | undefined) => {\n    let text = '';\n\n    switch(cost?.unit) {\n      case 'msat':\n      case 'msats':\n      case '':\n        text = `${Math.ceil(parseInt(cost?.amount || '0') / 1_000)} sats`;\n        break;\n      case 'sats':\n      case 'sat':\n        text = `${cost.amount} sats`;\n        break;\n      case 'USD':\n      case 'usd':\n        text = `${cost.amount} USD`;\n    }\n\n    return text;\n  };\n\n  const openWalletSocket = (onOpen: () => void) => {\n    walletSocket = new WebSocket('wss://wallet.primal.net/v1');\n\n    walletSocket.addEventListener('close', () => {\n      logInfo('WALLET SOCKET CLOSED');\n    });\n\n    walletSocket.addEventListener('open', () => {\n      logInfo('WALLET SOCKET OPENED');\n      onOpen();\n    });\n  }\n\n  return (\n    <AdvancedSearchDialog\n      open={props.author !== undefined}\n      setOpen={(isOpen: boolean) => !isOpen && props.onClose && props.onClose()}\n      title={\n        <div class={styles.userInfo}>\n          <Avatar user={props.author} />\n          <div class={styles.userData}>\n            <div class={styles.userName}>\n              {userName(props.author)}\n              <VerificationCheck user={props.author} />\n            </div>\n            <div class={styles.nip05}>\n              {props.author?.nip05}\n            </div>\n          </div>\n        </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div id={props.id} class={styles.subscribeToAuthor}>\n        <div class={styles.modalBody}>\n          <div class={styles.tiers}>\n            <Show\n              when={!store.isFetchingTiers}\n              fallback={<div><Loader/></div>}\n            >\n              <For\n                each={store.tiers}\n                fallback={\n                  <div class={styles.noTiers}>\n                    No compatible tiers found\n                  </div>\n                }\n              >\n                {(tier) => (\n                  <button\n                    class={`${styles.tier} ${isSelectedTier(tier) ? styles.selected : ''}`}\n                    onClick={() => selectTier(tier)}\n                  >\n                    <div class={styles.tierTitle}>{tier.title}</div>\n\n                    <Show\n                      when={costOptions(tier).length > 1 && store.selectedTier?.id === tier.id}\n                      fallback={<div class={styles.cost}>\n                        <div class={styles.amount}>\n                          {displayCost(costOptions(tier)[0])}\n                        </div>\n                        <div class={styles.duration}>\n                          {costOptions(tier)[0].cadence}\n                        </div>\n                      </div>}\n                    >\n                      <Select\n                        class={styles.selectCosts}\n                        options={costOptions(tier)}\n                        optionValue=\"id\"\n                        value={store.selectedCost}\n                        onChange={(cost) => {\n                          // updateStore('tiers', index(), 'activeCost', () => ({ ...cost }));\n                          // updateStore('selectedTier', 'activeCost', () => ({ ...cost }));\n                          updateStore('selectedCost', () => ({ ...cost }));\n                        }}\n                        itemComponent={props => (\n                          <Select.Item item={props.item} class={styles.cost}>\n                            <div class={styles.amount}>\n                              {displayCost(props.item.rawValue)}\n                            </div>\n                            <div class={styles.duration}>\n                              {props.item.rawValue.cadence}\n                            </div>\n                          </Select.Item>\n                        )}\n                      >\n                        <Select.Trigger class={styles.selectTrigger}>\n                          <Select.Value class={styles.selectValue}>\n                            {state => {\n                              const cost = state.selectedOption() as TierCost;\n\n                              return (\n                                <div class={styles.cost}>\n                                  <div class={styles.amount}>\n                                    {displayCost(cost)}\n                                  </div>\n                                  <div class={styles.duration}>\n                                    <div>{cost?.cadence}</div>\n                                    <div class={styles.chevIcon}></div>\n                                  </div>\n                                </div>\n                              )\n\n                            }}\n                          </Select.Value>\n                        </Select.Trigger>\n                        <Select.Portal>\n                          <Select.Content class={styles.selectContent}>\n                            <Select.Listbox class={styles.selectListbox} />\n                          </Select.Content>\n                        </Select.Portal>\n                      </Select>\n\n                    </Show>\n\n                    <div class={styles.content}>\n                      {tier.content}\n                    </div>\n                    <div class={styles.perks}>\n                      <For each={tier.perks}>\n                        {perk => (\n                          <div class={styles.perk}>\n                            <div class={styles.checkIcon}></div>\n                            <div class={styles.text}>{perk}</div>\n                          </div>\n                        )}\n                      </For>\n                    </div>\n\n                  </button>\n                )}\n              </For>\n            </Show>\n\n          </div>\n        </div>\n\n        <div class={styles.footer}>\n          <div class={styles.payAction}>\n            <ButtonSecondary\n              light={true}\n              onClick={props.onClose}\n            >\n              cancel\n            </ButtonSecondary>\n          </div>\n\n          <Show when={store.selectedTier}>\n            <div class={styles.payAction}>\n              <ButtonPrimary\n                onClick={() => store.selectedTier && store.selectedCost && props.onSubscribe(store.selectedTier, store.selectedCost, store.exchangeRate)}\n              >\n                subscribe\n              </ButtonPrimary>\n            </div>\n          </Show>\n        </div>\n      </div>\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(SubscribeToAuthorModal);\n","import { useIntl } from '@cookbook/solid-intl';\nimport { Component, createEffect, createSignal } from 'solid-js';\nimport Modal from '../Modal/Modal';\nimport { useToastContext } from '../Toaster/Toaster';\n\nimport { nip19 } from '../../lib/nTools';\n\n\nimport { pin as tPin, actions as tActions } from '../../translations';\n\nimport styles from './EnterPinModal.module.scss';\nimport { hookForDev } from '../../lib/devTools';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport TextInput from '../TextInput/TextInput';\nimport { decryptWithPin, setCurrentPin } from '../../lib/PrimalNostr';\nimport { logError } from '../../lib/logger';\nimport ButtonSecondary from '../Buttons/ButtonSecondary';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\n\nconst EnterPinModal: Component<{\n  id?: string,\n  open?: boolean,\n  valueToDecrypt?: string,\n  onSuccess?: (decryptedValue: string) => void,\n  onAbort?: () => void,\n  onForgot?: () => void,\n}> = (props) => {\n\n  const intl = useIntl();\n  const toast = useToastContext();\n  const account = useAccountContext();\n\n  let pinInput: HTMLInputElement | undefined;\n\n  const [pin, setPin] = createSignal('');\n\n  const decWithPin = async () => {\n    const val = props.valueToDecrypt || '';\n    const dec = await decryptWithPin(pin(), val);\n    return dec;\n  };\n\n  const onConfirm = async() => {\n    if (!isValidPin) return;\n\n    // Decrypt private key\n    const enc = await decWithPin();\n\n    try {\n      const decoded = nip19.decode(enc);\n\n      if (decoded.type !== 'nsec' || !decoded.data) {\n        throw('invalid-nsec-decoded');\n      }\n\n      // Save PIN for the session\n      setCurrentPin(pin());\n\n      // Execute callback\n      props.onSuccess && props.onSuccess(enc);\n    } catch(e) {\n      logError('Failed to decode nsec: ', e);\n      toast?.sendWarning('PIN is incorrect');\n    }\n\n  };\n\n  createEffect(() => {\n    if (props.open) {\n      setTimeout(() => pinInput?.focus(), 200);\n    }\n  });\n\n  const isValidPin = () => {\n    return pin().length > 3;\n  }\n\n  const onKeyUp = (e: KeyboardEvent) => {\n    if (e.code === 'Enter' && isValidPin()) {\n      onConfirm();\n    }\n  };\n\n  return (\n    <AdvancedSearchDialog\n      open={props.open}\n      setOpen={(isOpen: boolean) => !isOpen && props.onAbort && props.onAbort()}\n      title={\n        <div class={styles.title}>\n          {intl.formatMessage(tPin.enterTitle)}\n        </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div id={props.id} class={styles.modal}>\n        <div class={styles.description}>\n          {intl.formatMessage(tPin.enter)}\n        </div>\n        <div class={styles.inputs}>\n          <TextInput\n            type=\"password\"\n            ref={pinInput}\n            value={pin()}\n            onKeyUp={onKeyUp}\n            onChange={(val: string) => setPin(val)}\n            validationState={pin().length === 0 || isValidPin() ? 'valid' : 'invalid'}\n            errorMessage={intl.formatMessage(tPin.invalidRePin)}\n          />\n        </div>\n        <div class={styles.actions}>\n          <ButtonPrimary\n            onClick={onConfirm}\n            disabled={!isValidPin()}\n          >\n            {intl.formatMessage(tActions.login)}\n          </ButtonPrimary>\n\n          <ButtonSecondary\n            onClick={props.onForgot}\n          >\n            {intl.formatMessage(tActions.forgotPin)}\n          </ButtonSecondary>\n        </div>\n      </div>\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(EnterPinModal);\n","import { useIntl } from '@cookbook/solid-intl';\nimport { Component } from 'solid-js';\nimport Modal from '../Modal/Modal';\n\nimport { account as t, actions as tActions } from '../../translations';\n\nimport styles from './CreateAccountModal.module.scss';\nimport { hookForDev } from '../../lib/devTools';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport ButtonLink from '../Buttons/ButtonLink';\nimport { useNavigate } from '@solidjs/router';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\n\nconst CreateAccountModal: Component<{\n  id?: string,\n  open?: boolean,\n  onLogin?: () => void,\n  onAbort?: () => void,\n}> = (props) => {\n\n  const intl = useIntl();\n  const navigate = useNavigate();\n\n  const onCreateAccount = () => {\n    props.onAbort && props.onAbort();\n    navigate('/new');\n  };\n\n  return (\n    <AdvancedSearchDialog\n      open={props.open}\n      setOpen={(isOpen: boolean) => !isOpen && props.onAbort && props.onAbort()}\n      title={\n      <div class={styles.title}>\n        {intl.formatMessage(tActions.getStarted)}\n      </div>\n      }\n      triggerClass={styles.hidden}\n    >\n      <div id={props.id} class={styles.modal}>\n        <div class={styles.description}>\n          {intl.formatMessage(t.createNewDescription)}\n        </div>\n        <div class={styles.actions}>\n          <ButtonPrimary\n            onClick={onCreateAccount}\n          >\n            {intl.formatMessage(tActions.createAccount)}\n          </ButtonPrimary>\n        </div>\n        <div class={styles.alternative}>\n        {intl.formatMessage(t.alreadyHaveAccount)}&nbsp;\n          <ButtonLink onClick={props.onLogin}>\n            {intl.formatMessage(tActions.loginNow)}\n          </ButtonLink>\n        </div>\n      </div>\n\n    </AdvancedSearchDialog>\n  );\n}\n\nexport default hookForDev(CreateAccountModal);\n","import { useIntl } from '@cookbook/solid-intl';\nimport { Component, createEffect, createSignal, Match, Switch } from 'solid-js';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport Modal from '../Modal/Modal';\n\nimport { login as tLogin, actions as tActions } from '../../translations';\n\nimport styles from './LoginModal.module.scss';\nimport { hookForDev } from '../../lib/devTools';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport CreatePinModal from '../CreatePinModal/CreatePinModal';\nimport TextInput from '../TextInput/TextInput';\nimport { nip19 } from '../../lib/nTools';\nimport { storeSec } from '../../lib/localStore';\nimport AdvancedSearchDialog from '../AdvancedSearch/AdvancedSearchDialog';\n\nconst LoginModal: Component<{\n  id?: string,\n  open?: boolean,\n  onAbort?: () => void,\n}> = (props) => {\n\n  const intl = useIntl();\n  const account = useAccountContext();\n\n  const [step, setStep] = createSignal<'login' | 'pin' | 'none'>('login')\n  const [enteredKey, setEnteredKey] = createSignal('');\n\n  let loginInput: HTMLInputElement | undefined;\n\n  const onLogin = () => {\n    const sec = enteredKey();\n\n    if (!isValidNsec()) return;\n\n    account?.actions.setSec(sec);\n    setStep(() => 'pin');\n  };\n\n  const onStoreSec = (sec: string | undefined) => {\n    storeSec(sec);\n    onAbort();\n  }\n\n  const onAbort = () => {\n    setStep(() => 'login');\n    setEnteredKey('');\n    props.onAbort && props.onAbort();\n  }\n\n  const isValidNsec: () => boolean = () => {\n    const key = enteredKey();\n\n    if (key.length === 0) {\n      return false;\n    }\n\n    if (key.startsWith('nsec')) {\n      try {\n        const decoded = nip19.decode(key);\n\n        return decoded.type === 'nsec' && decoded.data;\n      } catch(e) {\n        return false;\n      }\n    }\n\n    return false;\n  };\n\n  createEffect(() => {\n    if (props.open && step() === 'login') {\n      loginInput?.focus();\n    }\n  });\n\n  const onKeyUp = (e: KeyboardEvent) => {\n    if (e.code === 'Enter' && isValidNsec()) {\n      onLogin();\n    }\n  };\n\n  return (\n    <Switch>\n      <Match when={step() === 'login'}>\n        <AdvancedSearchDialog\n          open={props.open}\n          setOpen={(isOpen: boolean) => !isOpen && props.onAbort && props.onAbort()}\n          title={\n            <div class={styles.title}>\n              {intl.formatMessage(tLogin.title)}\n            </div>\n          }\n          triggerClass={styles.hidden}\n        >\n          <div id={props.id} class={styles.modal}>\n            <div class={styles.description}>\n              {intl.formatMessage(tLogin.description)}\n            </div>\n            <div class={styles.inputs}>\n              <TextInput\n                ref={loginInput}\n                type=\"password\"\n                value={enteredKey()}\n                onKeyUp={onKeyUp}\n                onChange={setEnteredKey}\n                validationState={enteredKey().length === 0 || isValidNsec() ? 'valid' : 'invalid'}\n                errorMessage={intl.formatMessage(tLogin.invalidNsec)}\n              />\n            </div>\n            <div class={styles.actions}>\n              <ButtonPrimary\n                onClick={onLogin}\n                disabled={enteredKey().length === 0 || !isValidNsec()}\n              >\n                {intl.formatMessage(tActions.login)}\n              </ButtonPrimary>\n            </div>\n          </div>\n        </AdvancedSearchDialog>\n      </Match>\n\n      <Match when={step() === 'pin'}>\n        <CreatePinModal\n          open={step() === 'pin'}\n          onAbort={() => {\n            onStoreSec(account?.sec);\n          }}\n          valueToEncrypt={enteredKey()}\n          onPinApplied={onStoreSec}\n        />\n      </Match>\n    </Switch>\n  );\n}\n\nexport default hookForDev(LoginModal);\n","import { Component, createEffect, createSignal, onCleanup, onMount, Show } from 'solid-js';\n\nimport styles from './Layout.module.scss';\n\nimport { useLocation, useParams, useSearchParams } from '@solidjs/router';\nimport NavMenu from '../NavMenu/NavMenu';\nimport ProfileWidget from '../ProfileWidget/ProfileWidget';\nimport NewNote from '../NewNote/NewNote';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport zapMD from '../../assets/lottie/zap_md.json';\nimport { useHomeContext } from '../../contexts/HomeContext';\nimport { SendNoteResult } from '../../types/primal';\nimport { useProfileContext } from '../../contexts/ProfileContext';\nimport Branding from '../Branding/Branding';\nimport BannerIOS, { isIOS } from '../BannerIOS/BannerIOS';\nimport ZapAnimation from '../ZapAnimation/ZapAnimation';\nimport ReactionsModal from '../ReactionsModal/ReactionsModal';\nimport { useAppContext } from '../../contexts/AppContext';\nimport CustomZap from '../CustomZap/CustomZap';\nimport NoteContextMenu from '../Note/NoteContextMenu';\nimport LnQrCodeModal from '../LnQrCodeModal/LnQrCodeModal';\nimport ConfirmModal from '../ConfirmModal/ConfirmModal';\nimport CashuQrCodeModal from '../CashuQrCodeModal/CashuQrCodeModal';\nimport SubscribeToAuthorModal from '../SubscribeToAuthorModal/SubscribeToAuthorModal';\nimport { useSettingsContext } from '../../contexts/SettingsContext';\nimport EnterPinModal from '../EnterPinModal/EnterPinModal';\nimport CreateAccountModal from '../CreateAccountModal/CreateAccountModal';\nimport LoginModal from '../LoginModal/LoginModal';\nimport { unwrap } from 'solid-js/store';\nimport { followWarning, forgotPin } from '../../translations';\nimport { useIntl } from '@cookbook/solid-intl';\n\nexport const [isHome, setIsHome] = createSignal(false);\n\nconst Layout: Component<any> = (props) => {\n\n  const account = useAccountContext();\n  const home = useHomeContext();\n  const profile = useProfileContext();\n  const location = useLocation();\n  const params = useParams();\n  const app = useAppContext();\n  const settings = useSettingsContext();\n  const intl = useIntl();\n\n  let container: HTMLDivElement | undefined;\n\n  const [queryParams, setQueryParams] = useSearchParams();\n\n  const showBanner = () => {\n    return queryParams.mobilebanner !== 'false';\n  };\n\n  createEffect(() => {\n    const newNote = document.getElementById('new_note_input');\n    const newNoteTextArea = document.getElementById('new_note_text_area') as HTMLTextAreaElement;\n\n    if (account?.showNewNoteForm) {\n      if (!newNote || !newNoteTextArea) {\n        return;\n      }\n      newNote?.classList.add(styles.animatedShow);\n      newNoteTextArea?.focus();\n    }\n    else {\n      if (!newNote || !newNoteTextArea) {\n        return;\n      }\n      newNote?.classList.remove(styles.animatedShow);\n      newNoteTextArea.value = '';\n    }\n  });\n\n  const onResize = () => {\n    container?.style.setProperty('height', `${window.innerHeight}px`);\n  };\n\n  onMount(() => {\n    window.addEventListener('resize', onResize);\n  });\n\n  onCleanup(() => {\n    window.removeEventListener('resize', onResize);\n  });\n\n  const onNewNotePosted = (result: SendNoteResult) => {\n    const path = location.pathname.split('/');\n\n    if (path[1] === 'home' && home) {\n      // check for new notes on the home feed\n      home.actions.checkForNewNotes(home.selectedFeed?.spec || '')\n      return;\n    }\n\n    if (['p', 'profile'].includes(path[1]) && profile) {\n      const pubkey = params.npub;\n      // check for new notes on the profile feed\n      profile.actions.checkForNewNotes(pubkey || account?.publicKey);\n      return;\n    }\n  }\n\n  createEffect(() => {\n    if (location.pathname) {\n      settings?.actions.refreshMobileReleases();\n    }\n  });\n\n  createEffect(() => {\n    if (location.pathname === '/') return;\n\n    if (!account?.publicKey) {\n      account?.actions.checkNostrKey();\n    }\n  });\n\n  const containerClass = () => {\n    if (isIOS() && showBanner()) return styles.containerIOS;\n\n    if (location.pathname.startsWith('/e/naddr')) return styles.containerLF;\n\n    return styles.container;\n  }\n\n  return (\n    <Show\n      when={location.pathname !== '/'}\n      fallback={<>\n        <div id=\"modal\" class={styles.modal}></div>\n        {props.children}\n      </>}\n    >\n      <>\n        <div class={styles.preload}>\n          <div class=\"reply_icon\"></div>\n          <div class=\"reply_icon_fill\"></div>\n          <div class=\"repost_icon\"></div>\n          <div class=\"repost_icon_fill\"></div>\n          <div class=\"zap_icon\"></div>\n          <div class=\"zap_icon_fill\"></div>\n          <div class=\"like_icon\"></div>\n          <div class=\"like_icon_fill\"></div>\n          <ZapAnimation src={zapMD} />\n        </div>\n        <div id=\"modal\" class={styles.modal}></div>\n        <BannerIOS />\n        <div id=\"container\" ref={container} class={containerClass()}>\n          <div class={styles.leftColumn}>\n            <div>\n              <div id=\"branding_holder\" class={styles.leftHeader}>\n                <Branding isHome={isHome()} />\n              </div>\n\n              <div class={styles.leftContent}>\n                <NavMenu />\n                <Show when={location.pathname === '/new'}>\n                  <div class={styles.overlay}></div>\n                </Show>\n              </div>\n\n              <div class={styles.leftFooter}>\n                <Show when={location.pathname !== '/new'}>\n                  <ProfileWidget />\n                </Show>\n              </div>\n            </div>\n          </div>\n\n\n          <div class={styles.centerColumn}>\n            <Show when={account?.isKeyLookupDone}>\n              <div class={styles.centerContent}>\n                <div id=\"new_note_input\" class={styles.headerFloater}>\n                  <NewNote onSuccess={onNewNotePosted}/>\n                </div>\n\n                <div>\n                  {props.children}\n                </div>\n\n                <ReactionsModal\n                  noteId={app?.showReactionsModal}\n                  stats={app?.reactionStats}\n                  onClose={() => app?.actions.closeReactionModal()}\n                />\n\n                <CustomZap\n                  open={app?.showCustomZapModal}\n                  note={app?.customZap?.note}\n                  profile={app?.customZap?.profile}\n                  dvm={app?.customZap?.dvm}\n                  onConfirm={app?.customZap?.onConfirm}\n                  onSuccess={app?.customZap?.onSuccess}\n                  onFail={app?.customZap?.onFail}\n                  onCancel={app?.customZap?.onCancel}\n                />\n\n                <LnQrCodeModal\n                  open={app?.showLnInvoiceModal}\n                  lnbc={app?.lnbc?.invoice || ''}\n                  onPay={app?.lnbc?.onPay}\n                  onClose={app?.lnbc?.onCancel}\n                />\n\n                <CashuQrCodeModal\n                  open={app?.showCashuInvoiceModal}\n                  cashu={app?.cashu?.invoice || ''}\n                  onPay={app?.cashu?.onPay}\n                  onClose={app?.cashu?.onCancel}\n                />\n\n                <ConfirmModal\n                  open={app?.showConfirmModal}\n                  title={app?.confirmInfo?.title}\n                  description={app?.confirmInfo?.description}\n                  confirmLabel={app?.confirmInfo?.confirmLabel}\n                  abortLabel={app?.confirmInfo?.abortLabel}\n                  onConfirm={app?.confirmInfo?.onConfirm}\n                  onAbort={app?.confirmInfo?.onAbort}\n                />\n\n                <SubscribeToAuthorModal\n                  author={app?.subscribeToAuthor}\n                  onClose={app?.actions.closeAuthorSubscribeModal}\n                  onSubscribe={app?.subscribeToTier}\n                />\n\n                <EnterPinModal\n                  open={(account?.showPin || '').length > 0}\n                  valueToDecrypt={account?.showPin}\n                  onSuccess={(sec: string) => {\n                    account?.actions.setSec(sec);\n                    account?.actions.setString('showPin', '');\n                  }}\n                  onAbort={() => account?.actions.setString('showPin', '')}\n                  onForgot={() => {\n                    account?.actions.setString('showPin', '');\n                    account?.actions.setFlag('showForgot', true);\n                  }}\n                />\n                <CreateAccountModal\n                  open={account?.showGettingStarted}\n                  onAbort={() => account?.actions.setFlag('showGettingStarted', false)}\n                  onLogin={() => {\n                    account?.actions.setFlag('showGettingStarted', false);\n                    account?.actions.setFlag('showLogin', true);\n                  }}\n                />\n                <LoginModal\n                  open={account?.showLogin}\n                  onAbort={() => account?.actions.setFlag('showLogin', false)}\n                />\n                <ConfirmModal\n                  open={account?.followData.openDialog}\n                  title={intl.formatMessage(followWarning.title)}\n                  description={intl.formatMessage(followWarning.description)}\n                  confirmLabel={intl.formatMessage(followWarning.confirm)}\n                  abortLabel={intl.formatMessage(followWarning.abort)}\n                  onConfirm={async () => {\n                    if (account?.publicKey) {\n                      const data = unwrap(account?.followData)\n                      await account.actions.resolveContacts(account?.publicKey, data.following, data.date, data.tags, data.relayInfo);\n                    }\n                    account?.actions.setFollowData({\n                      tags: [],\n                      date: 0,\n                      relayInfo: '',\n                      openDialog: false,\n                      following: [],\n                    });\n                  }}\n                  onAbort={() => {\n                    account?.actions.setFollowData({\n                      tags: [],\n                      date: 0,\n                      relayInfo: '',\n                      openDialog: false,\n                      following: [],\n                    });\n                  }}\n                />\n                <ConfirmModal\n                  open={account?.showForgot}\n                  title={intl.formatMessage(forgotPin.title)}\n                  description={intl.formatMessage(forgotPin.description)}\n                  confirmLabel={intl.formatMessage(forgotPin.confirm)}\n                  abortLabel={intl.formatMessage(forgotPin.abort)}\n                  onConfirm={async () => {\n                    account?.actions.logout();\n                    account?.actions.setFlag('showForgot', false);\n                  }}\n                  onAbort={() => {\n                    account?.actions.setFlag('showForgot', false);\n                  }}\n                />\n              </div>\n            </Show>\n          </div>\n\n\n          <div class={`${styles.rightColumn} ${location.pathname.startsWith('/messages') || location.pathname.startsWith('/dms') ? styles.messagesColumn : ''}`}>\n            <div>\n              <Show\n                when={!location.pathname.startsWith('/asearch')}\n              >\n                <div class={`${styles.rightHeader} ${location.pathname.startsWith('/messages') ? styles.messagesHeader : ''}`}>\n                  <div id=\"search_section\" class={location.pathname.startsWith('/messages') ? styles.messagesSearch : ''}>\n                  </div>\n                </div>\n              </Show>\n              <div class={`${styles.rightContent} ${location.pathname.startsWith('/explore') ||location.pathname.startsWith('/asearch') ? styles.exploreHeader : ''}`}>\n                <div id=\"right_sidebar\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <NoteContextMenu\n          open={app?.showNoteContextMenu}\n          onClose={app?.actions.closeContextMenu}\n          data={app?.noteContextMenuInfo}\n        />\n      </>\n    </Show>\n  )\n}\n\nexport default Layout;\n"],"names":["Branding","props","navigate","useNavigate","useIntl","toHomeOrScrollToTop","isHome","window","scrollTo","top","left","behavior","_el$","_tmpl$2","$$click","_$insert","_$createComponent","Show","when","small","fallback","_el$4","_tmpl$","_el$5","firstChild","_$effect","_p$","_v$3","styles","brandingSmall","_v$4","logo","_$className","undefined","children","_el$2","_el$3","_v$","branding","_v$2","logoBig","logoLink","_$delegateEvents","NavLink","location","useLocation","scrollIfInactive","e","to","pathname","preventDefault","bubbleClass","bubble","doubleSize","tripleSize","A","href","activeClass","active","inactiveClass","inactive","onClick","icon","label","_$memo","_c$","id","navLink","hiddenOnSmallScreens","_$setAttribute","hookForDev","NavMenu","account","useAccountContext","notifications","useNotificationsContext","dms","useDMContext","intl","loc","media","useMediaContext","app","useAppContext","links","formatMessage","t","home","reads","explore","messages","dmCount","bookmarks","notificationCount","downloads","downloadsCount","premium","premiumReminder","settings","sec","isBigScreen","windowSize","w","noReadsConfirm","title","description","confirmLabel","abortLabel","onConfirm","open","focus","onAbort","actions","closeConfirmModal","_tmpl$3","For","each","hasPublicKey","startsWith","Switch","ButtonPrimary","showNewNoteForm","_el$6","postIcon","tActions","newNote","Match","openConfirmModal","_el$7","newArticle","callToAction","isKeyLookupDone","tPlaceholders","welcomeMessage","showGetStarted","getStarted","message","navMenu","_v$5","sideNav","ProfileWidget","activeUser","profileLink","publicKey","userProfile","Avatar","size","user","showCheck","avatar","nextSibling","userName","trimVerification","nip05","userInfo","userVerification","NewNote","EditBox","onSuccess","onClose","hideNewNoteForm","newNoteHolder","newNoteBorder","leftSide","rightSide","_el$8","_v$6","holderBottomBorder","_v$7","leftCorner","_v$8","rightCorner","ReactionsModal","selectedTab","setSelectedTab","createSignal","likeList","setLikeList","createStore","zapList","setZapList","repostList","setRepostList","quotesList","setQuotesList","quoteCount","setQuoteCount","isFetching","setIsFetching","loadedLikes","loadedZaps","loadedReposts","loadedQuotes","createEffect","stats","quotes","noteId","openOn","getQuoteCount","getLikes","getZaps","getReposts","getQuotes","zaps","likes","reposts","offset","subId","APP_ID","users","unsub","subsTo","onEvent","_","content","kind","Kind","Metadata","JSON","parse","displayName","trim","length","display_name","pubkey","npub","hexToNpub","created_at","push","onEose","getEventReactions","Reaction","Zap","zapTag","tags","find","zapInfo","amount","bolt11Tag","parseBolt11","amountTag","zapData","map","zap","parseInt","sender","zapItems","getEventZaps","Repost","page","postStats","mentions","noteActions","topZaps","Text","isAlreadyInPage","m","isAlreadyInTheList","n","NoteStats","stat","event_id","Mentions","mention","NoteActions","LinkMetadata","data","resources","preview","url","md_title","md_description","mediaType","mimetype","contentType","images","md_image","favicons","icon_url","setLinkPreviews","pageNotes","convertToNotes","notes","getEventQuotes","NoteQuoteStats","quoteStats","count","getEventQuoteStats","totalCount","AdvancedSearchDialog","setOpen","isOpen","reactions","caption","triggerClass","hidden","noReactionDetails","Tabs","value","onChange","List","tabs","Trigger","tab","reactionsModal","Indicator","tabIndicator","Content","tabContent","noLikeDetails","admirer","likeItem","likeIcon","src","picture","VerificationCheck","name","Paginator","loadNextPage","len","isSmall","Loader","noZapDetails","zapItem","_el$9","_el$10","toLocaleString","truncateNumber2","zapAmount","_v$9","zapIcon","_v$10","_el$11","_tmpl$4","_el$12","_el$13","_el$14","_v$11","_v$12","_v$13","_v$14","zapMessage","noRepostDetails","reposter","repostItem","_el$15","repostIcon","_el$16","_el$17","_v$15","_v$16","noQuoteDetails","quote","Note","note","shorten","noteType","CustomZap","toast","useToastContext","useSettingsContext","selectedValue","setSelectedValue","availableZapOptions","defaultZapOptions","isSelected","sel","emoji","updateCustomAmount","replaceAll","isNaN","v","updateComment","truncateNumber","Math","pow","floor","formatNumber","submit","__name","setTimeout","success","zapNote","LongForm","zapArticle","LongFormShell","msg","activeRelays","handleZap","lottieDuration","profile","zapProfile","dvm","dvmUser","zapDVM","sendWarning","toastZapFail","onFail","md","onCancel","stopPropagation","$$mousedown","$$mouseup","zapCustomOption","zapOption","selected","sats","TextInput","type","placeholder","noExtraSpace","zapCustomAmount","addComment","customZap","units","options","customAmount","action","CustomZap$1","NoteContextMenu","toaster","confirmReportUser","setConfirmReportUser","confirmMuteUser","setConfirmMuteUser","orientation","setOrientation","position","context","setAttribute","docRect","document","documentElement","getBoundingClientRect","pos","height","orient","bottom","innerHeight","doMuteUser","addToMuteList","doUnmuteUser","removeFromMuteList","doReportUser","reportUser","sendSuccess","tToast","noteAuthorReported","copyNoteLink","link","vanityName","verifiedUsers","nip19","decode","identifier","navigator","clipboard","writeText","origin","notePrimalLinkCoppied","copyNoteText","notePrimalTextCoppied","copyNoteId","noteIdCoppied","copyRawData","stringify","noteRawDataCoppied","copyUserNpub","noteAuthorNpubCoppied","broadcastNote","broadcastEvent","proxyThroughPrimal","relaySettings","noteBroadcastSuccess","noteBroadcastFail","onClickOutside","getElementById","contains","target","addEventListener","removeEventListener","noteContextForEveryone","noteContext","openReactions","openCustomZap","copyLink","copyText","copyId","copyRaw","breadcast","copyPubkey","noteContextForOtherPeople","isMuted","muted","includes","unmuteAuthor","muteAuthor","warning","reportAuthor","_ref$","_$use","ConfirmModal","reportUserConfirm","authorName","muteUserConfirm","PrimalMenu","items","contextMenu","LnQrCodeModal","invoice","setInvoice","emptyInvoice","lnbc","dec","reconcile","expiryDate","expiry","sections","s","created","humanizeNumber","decodeURI","lnInvoice","QrCode","expires","date","dateFuture","onPay","pay","body","qrCode","separator","footer","payAction","CashuQrCodeModal","token","cashu","getDecodedToken","proofs","reduce","acc","memo","cashuInvoice","mint","URL","hostname","redeem","satsInBTC","payUnits","SubscribeToAuthorModal","store","updateStore","tiers","selectedTier","selectedCost","isFetchingTiers","exchangeRate","walletSocket","author","getTiers","readyState","WebSocket","CLOSED","openWalletSocket","OPEN","subTo","response","BTCForTarget","parseFloat","rate","satsToTarget","targetToBTC","targetToSats","USD","BTC","close","getExchangeRate","TierList","Tier","costs","filter","unit","cadence","tier","perks","client","event","activeCost","Object","assign","getAuthorSubscriptionTiers","selectTier","sc","costOptions","isSelectedTier","cost","displayCost","text","ceil","onOpen","logInfo","userData","noTiers","_tmpl$5","_tmpl$6","_el$18","_el$19","_v$17","duration","Select","selectCosts","optionValue","itemComponent","Item","item","_el$20","rawValue","_el$21","selectTrigger","Value","selectValue","state","selectedOption","_el$22","_tmpl$7","_el$23","_el$24","_el$25","_el$26","_v$18","_v$19","_v$20","_v$21","chevIcon","Portal","selectContent","Listbox","selectListbox","perk","_el$27","_el$28","_el$29","_v$22","_v$23","checkIcon","_v$24","tierTitle","ButtonSecondary","light","onSubscribe","subscribeToAuthor","modalBody","SubscribeToAuthorModal$1","EnterPinModal","pinInput","pin","setPin","decWithPin","val","valueToDecrypt","decryptWithPin","isValidPin","enc","decoded","setCurrentPin","logError","onKeyUp","code","tPin","enterTitle","enter","ref","r$","validationState","errorMessage","invalidRePin","disabled","login","onForgot","forgotPin","modal","inputs","CreateAccountModal","onCreateAccount","createNewDescription","createAccount","alreadyHaveAccount","ButtonLink","onLogin","loginNow","alternative","LoginModal","step","setStep","enteredKey","setEnteredKey","loginInput","isValidNsec","setSec","onStoreSec","storeSec","key","tLogin","invalidNsec","CreatePinModal","valueToEncrypt","onPinApplied","setIsHome","Layout","useHomeContext","useProfileContext","params","useParams","container","queryParams","setQueryParams","useSearchParams","showBanner","mobilebanner","newNoteTextArea","classList","add","animatedShow","remove","onResize","style","setProperty","onMount","onCleanup","onNewNotePosted","result","path","split","checkForNewNotes","selectedFeed","spec","refreshMobileReleases","checkNostrKey","containerClass","isIOS","containerIOS","containerLF","ZapAnimation","zapMD","preload","BannerIOS","overlay","showReactionsModal","reactionStats","closeReactionModal","showCustomZapModal","showLnInvoiceModal","showCashuInvoiceModal","showConfirmModal","confirmInfo","closeAuthorSubscribeModal","subscribeToTier","showPin","setString","setFlag","showGettingStarted","showLogin","followData","openDialog","followWarning","confirm","abort","unwrap","resolveContacts","following","relayInfo","setFollowData","showForgot","logout","centerContent","headerFloater","rightHeader","messagesHeader","messagesSearch","leftColumn","leftHeader","leftContent","leftFooter","centerColumn","rightColumn","messagesColumn","rightContent","exploreHeader","showNoteContextMenu","closeContextMenu","noteContextMenuInfo"],"mappings":"61DAQMA,GAA8DC,EAAAA,GAAU,CAC5E,MAAMC,EAAWC,KACJC,GAAS,EAEtB,MAAMC,EAAsBA,EAAAA,IAAM,CAChC,GAAIJ,EAAMK,OAAQ,CAChBC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,QAAS,CAAC,EACvD,MACF,CAEAT,EAAS,OAAO,GANUG,uBAS5B,OAAA,IAAA,CAAA,MAAAO,EAAAC,KAAAD,OAAAA,EAAAE,QAGaT,EAAmBU,EAAAH,EAAAI,EAE3BC,EAAI,CAAA,IACHC,MAAI,CAAA,MAAE,CAACjB,EAAMkB,KAAK,EAAA,IAClBC,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAAC,EAAAC,GAAA,EAAAC,EAAAF,EAAAG,WAAAC,OAAAA,EAAAC,GAAA,CAAA,MAAAC,EACMC,GAAOC,cAAaC,EAClBF,GAAOG,KAAIJ,OAAAA,IAAAD,EAAAC,MAAAK,EAAAX,EAAAK,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAT,EAAAG,EAAAI,KAAAA,CAAA,EAAAJ,CAAA,EAAA,CAAAC,KAAAM,OAAAH,KAAAG,MAAA,CAAA,EAAAZ,CAAA,IAAA,EAAA,IAAAa,UAAA,CAAA,MAAAC,EAAAb,GAAA,EAAAc,EAAAD,EAAAX,WAAAC,OAAAA,EAAAC,GAAA,CAAA,MAAAW,EAIfT,GAAOU,SAAQC,EACbX,GAAOY,QAAOH,OAAAA,IAAAX,EAAAW,KAAAL,EAAAG,EAAAT,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAAI,EAAAV,EAAAa,KAAAA,CAAA,EAAAb,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,MAAA,CAAA,EAAAE,CAAA,CAAA,CAAA,CAAA,EAAAV,MAAAO,EAAApB,EAZvBgB,GAAOa,QAAQ,CAAA,EAAA7B,CAAA,IAiB5B,EAhCoEX,YAkC5CyC,GAAA,CAAA,OAAA,CAAA,ymDCpClBC,GAOA1C,EAAAA,GAAU,CACd,MAAM2C,EAAWC,KAEXC,EAAoBC,EAAAA,GAAa,CACrC,GAAI9C,EAAM+C,KAAOJ,EAASK,SAAU,CAClCF,EAAEG,eAAc,EAEhB3C,OAAOC,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,QAAS,CAAC,EACvD,MACF,GANwBoC,oBASpBI,EAAcA,EAAAA,IACd,CAAClD,EAAMmD,QAAUnD,EAAMmD,OAAM,EAAK,GAC7B,GAGLnD,EAAMmD,OAAQ,EAAG,IACZxB,GAAOyB,WAGTzB,GAAO0B,WATIH,eAYlB,OAAA,IAAA,CAAA,MAAAvC,EAAAU,KAAAP,OAAAA,EAAAH,EAAAI,EAEKuC,GAAC,CAAA,IACAC,MAAI,CAAA,OAAEvD,EAAM+C,EAAE,EAAA,IACdS,aAAW,CAAA,OAAE7B,GAAO8B,MAAM,EAAA,IAC1BC,eAAa,CAAA,OAAE/B,GAAOgC,QAAQ,EAC9BC,QAASf,EAAgB,IAAAZ,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAAC,EAAAb,KAAAG,OAAAA,EAAA,IAAAO,EAAAG,EAEbP,GAAO3B,EAAM6D,IAAI,CAAC,CAAA,EAAA3B,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAC,EAAAd,KAAAP,OAAAA,EAAAqB,EACHnC,IAAAA,EAAM8D,KAAK,EAAAtC,MAAAO,EAAAI,EAA1BR,GAAOmC,KAAK,CAAA,EAAA3B,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,EAAA,IAAA,EAAArB,EAAAH,EAAAI,EAEzBC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE8C,GAAA,IAAA,CAAA,CAAA/D,EAAMmD,MAAM,EAAA,GAAInD,EAAMmD,OAAQ,EAAG,CAAC,EAAA,IAAAlB,UAAA,CAAA,MAAAb,EAAAR,GAAA,EAAAU,EAAAF,EAAAG,WAAAT,OAAAA,EAAAQ,GAAA,IAAA,CAAA,MAAA0C,EAAAD,GAAA,IAAA,CAAA,EAEpC/D,EAAMmD,QAAUnD,EAAMmD,OAAM,EAAK,IAAG,EAAA,MAApCa,IAAAA,IAAuChE,EAAMmD,OAAM,EAAK,KAAK,GAAA,CAAA,EAAA3B,EAAAO,IAAAA,EAAAX,EADxD,GAAEO,GAAOwB,MAAO,IAAGD,GAAc,EAAC,CAAA,EAAA9B,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAI,EAAAC,GAAA,CAAA,MAAAW,EAX1CpC,EAAMiE,GAAE3B,EAAU,GAAEX,GAAOuC,OAAQ,IAAGlE,EAAMmE,qBAAuBxC,GAAOwC,qBAAuB,EAAG,GAAC/B,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAb,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,MAAA,CAAA,EAAArB,CAAA,IAiBpH,EA1CMX,WA4CSqE,GAAAA,GAAW3B,EAAO,+QC1C3B4B,GAAyCtE,EAAAA,GAAU,CACvD,MAAMuE,EAAUC,KACVC,EAAgBC,KAChBC,EAAMC,KACNC,EAAO1E,KACP2E,EAAMlC,KACNmC,EAAQC,KACRC,EAAMC,KAENC,EAAQ,CACZ,CACEpC,GAAI,QACJe,MAAOe,EAAKO,cAAcC,GAAEC,IAAI,EAChCzB,KAAM,UACR,EACA,CACEd,GAAI,SACJe,MAAOe,EAAKO,cAAcC,GAAEE,KAAK,EACjC1B,KAAM,WACR,EACA,CACEd,GAAI,WACJe,MAAOe,EAAKO,cAAcC,GAAEG,OAAO,EACnC3B,KAAM,aACR,EACA,CACEd,GAAI,OACJe,MAAOe,EAAKO,cAAcC,GAAEI,QAAQ,EACpC5B,KAAM,eACNV,OAAQA,IAAMwB,GAAKe,SAAW,CAChC,EACA,CACE3C,GAAI,aACJe,MAAOe,EAAKO,cAAcC,GAAEM,SAAS,EACrC9B,KAAM,cACR,EACA,CACEd,GAAI,iBACJe,MAAOe,EAAKO,cAAcC,GAAEZ,aAAa,EACzCZ,KAAM,oBACNV,OAAQA,IAAMsB,GAAemB,mBAAqB,EAClDzB,qBAAsB,EACxB,EACA,CACEpB,GAAI,aACJe,MAAOe,EAAKO,cAAcC,GAAEQ,SAAS,EACrChC,KAAM,eACNV,OAAQA,IAAMsB,GAAeqB,gBAAkB,CACjD,EACA,CACE/C,GAAI,WACJe,MAAOe,EAAKO,cAAcC,GAAEU,OAAO,EACnClC,KAAM,cACNM,qBAAsB,GACtBhB,OAAQA,IAAMoB,GAASyB,gBAAkB,EAAI,CAC/C,EACA,CACEjD,GAAI,YACJe,MAAOe,EAAKO,cAAcC,GAAEY,QAAQ,EACpCpC,KAAM,eACNM,qBAAsB,GACtBhB,OAAQA,IAAMoB,GAAS2B,IAAM,EAAI,CACnC,CAAC,EAGGC,EAAcA,EAAAA,KAAOpB,GAAOqB,WAAWC,GAAK,GAAK,KAAnCF,eAEdG,EAA8B,CAClCC,MAAO,cACPC,YAAa,kIACbC,aAAc,yBACdC,WAAY,YACZC,UAAWA,IAAM,CACfrG,OAAOsG,KAAK,0BAA2B,QAAQ,GAAGC,MAAK,CACxD,EACDC,QAASA,IAAM,CACb7B,GAAK8B,QAAQC,mBACf,GAGF,OAAA,IAAA,CAAA,MAAArG,EAAAsG,GAAA,EAAA/E,EAAAvB,EAAAY,WAAAT,OAAAA,EAAAoB,EAAAnB,EAGOmG,GAAG,CAACC,KAAMhC,EAAKlD,SACbA,CAAC,CAAEc,GAAAA,EAAIe,MAAAA,EAAOD,KAAAA,EAAMV,OAAAA,EAAQgB,qBAAAA,CAAqB,IAChDpD,EAAQ2B,GAAO,CACbK,GAAIA,EACJe,MAAOA,EACPD,KAAMA,EACNV,OAAQA,EACRgB,qBAAsBA,CAAoB,CAAA,CAE7C,CAAA,CAAA,EAAArD,EAAAH,EAAAI,EAIJC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE8C,GAAAQ,IAAAA,CAAAA,EAAAA,GAAS6C,aAAc,GAAI,CAACtC,EAAI9B,SAASqE,WAAW,WAAW,EAAC,KAAI,CAACvC,EAAI9B,SAASqE,WAAW,UAAU,CAAC,EAAA,IAAApF,UAAA,CAAA,MAAAE,EAAAd,KAAAP,OAAAA,EAAAqB,EAAApB,EAE/GuG,GAAM,CAAA,IACLnG,UAAQ,CAAA,OAAAJ,EACLC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAEkF,EAAW,CAAE,EAAA,IACnBhF,UAAQ,CAAA,OAAAJ,EACLwG,EAAa,CAAA,IACZtD,IAAE,CAAA,OAAEjE,EAAMiE,EAAE,EAAA,IACZL,SAAO,CAAA,OAAEW,GAASwC,SAASS,eAAe,EAAA,IAAAvF,UAAA,CAAA,MAAAwF,EAAApG,KAAAG,OAAAA,MAAAO,EAAA0F,EAE9B9F,GAAO+F,QAAQ,CAAA,EAAAD,CAAA,CAAA,CAAA,CAAA,EAAA,IAAAxF,UAAA,CAAA,OAAAlB,EAI9BwG,EAAa,CAAA,IACZtD,IAAE,CAAA,OAAEjE,EAAMiE,EAAE,EAAA,IACZL,SAAO,CAAA,OAAEW,GAASwC,SAASS,eAAe,EAAA,IAAAvF,UAAA,CAAA,OAEzC4C,EAAKO,cAAcuC,EAASC,OAAO,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,IAAA3F,UAAA,CAAA,OAAAlB,EAK1C8G,GAAK,CAAA,IAAC5G,MAAI,CAAA,OAAE6D,EAAI9B,SAASqE,WAAW,QAAQ,GAAKvC,EAAI9B,SAASqE,WAAW,UAAU,CAAC,EAAA,IAAApF,UAAA,CAAA,OAAAlB,EAClFC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAEkF,EAAW,CAAE,EAAA,IACnBhF,UAAQ,CAAA,OAAAJ,EACLwG,EAAa,CAAA,IACZtD,IAAE,CAAA,OAAEjE,EAAMiE,EAAE,EACZL,QAASA,IAAMqB,GAAK8B,QAAQe,iBAAiBxB,CAAc,EAAC,IAAArE,UAAA,CAAA,MAAA8F,EAAA1G,KAAAG,OAAAA,MAAAO,EAAAgG,EAEhDpG,GAAO+F,QAAQ,CAAA,EAAAK,CAAA,CAAA,CAAA,CAAA,EAAA,IAAA9F,UAAA,CAAA,OAAAlB,EAI9BwG,EAAa,CAAA,IACZtD,IAAE,CAAA,OAAEjE,EAAMiE,EAAE,EACZL,QAASA,IAAMqB,GAAK8B,QAAQe,iBAAiBxB,CAAc,EAAC,IAAArE,UAAA,CAAA,OAE3D4C,EAAKO,cAAcuC,EAASK,UAAU,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAxG,MAAAO,EAAAI,EAvCtCR,GAAOsG,YAAY,CAAA,EAAA9F,CAAA,CAAA,CAAA,EAAA,IAAA,EAAArB,EAAAH,EAAAI,EA+ChCC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE8C,GAAA,IAAA,CAAA,EAAAQ,GAAS2D,iBAAmB,CAAC3D,GAAS6C,aAAc,EAAIjB,EAAAA,GAAAA,EAAW,CAAE,EAAA,IAAAlE,UAAA,CAAA,MAAAb,EAAAR,GAAA,EAAAU,EAAAF,EAAAG,WAAAT,OAAAA,EAAAQ,EAAA,IAG1EuD,EAAKO,cAAc+C,GAAcC,cAAc,CAAC,EAAAtH,EAAAM,EAAAL,EAElDwG,EAAa,CAAA,IAAC3D,SAAO,CAAA,OAAEW,GAASwC,QAAQsB,cAAc,EAAA,IAAApG,UAAA,CAAA,OACpD4C,EAAKO,cAAcuC,EAASW,UAAU,CAAC,CAAA,CAAA,EAAA,IAAA,EAAA9G,EAAAC,GAAA,CAAA,MAAAW,EALhCT,GAAOsG,aAAY3F,EACjBX,GAAO4G,QAAOnG,OAAAA,IAAAX,EAAAW,KAAAL,EAAAX,EAAAK,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAAT,EAAAG,EAAAa,KAAAA,CAAA,EAAAb,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,MAAA,CAAA,EAAAZ,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAI,EAAAC,GAAA,CAAA,MAAAC,EAjEvB1B,EAAMiE,GAAEpC,EAASF,GAAO6G,QAAOC,EAC1B9G,GAAO+G,QAAOhH,OAAAA,IAAAD,EAAAC,MAAA0C,GAAAzD,EAAAc,KAAAA,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAApB,EAAAc,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAG,EAAAT,EAAAgH,KAAAA,CAAA,EAAAhH,CAAA,EAAA,CAAAC,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,MAAA,CAAA,EAAArB,CAAA,IA0EhC,EA5J+CX,WA8JhCqE,GAAAA,GAAWC,EAAO,oVCjK3BqE,GAA6C3I,EAAAA,GAAU,CAE3D,MAAMuE,EAAUC,KACVS,EAAMC,KAEN0D,EAAaA,EAAAA,IAAMrE,GAASqE,WAAfA,cAEnB,OAAA,IAAA,CAAA,MAAAjI,EAAAU,KAAAP,OAAAA,EAAAH,EAAAI,EAEKC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEsD,GAAS6C,cAAc,EAAA,IAAAnF,UAAA,CAAA,OAAAlB,EAChCuC,GAAC,CAAA,IAACC,MAAI,CAAA,OAAE0B,GAAK8B,QAAQ8B,YAAYtE,GAASuE,SAAS,GAAK,EAAE,EAAA,IAAA,OAAA,CAAA,OAASnH,GAAOoH,WAAW,EAAA,IAAA9G,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAAC,EAAAb,KAAAP,OAAAA,EAAAoB,EAAAnB,EAEjFiI,GAAM,CACLC,KAAI,MAAA,IACJC,MAAI,CAAA,OAAEN,EAAU,CAAE,EAClBO,UAAW,EAAK,CAAA,CAAA,EAAA3H,MAAAO,EAAAG,EAJRP,GAAOyH,MAAM,CAAA,EAAAlH,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAC,EAAAvB,GAAA,EAAAQ,EAAAe,EAAAZ,WAAAD,EAAAF,EAAAiI,YAAAvI,OAAAA,EAAAM,EAQOkI,IAAAA,GAASV,EAAU,CAAE,CAAC,EAAA9H,EAAAQ,EAEjDiI,IAAAA,GAAiBX,EAAY,GAAEY,KAAK,EAAE,CAAC,CAAC,EAAAhI,EAAAC,GAAA,CAAA,MAAAW,EAHjCT,GAAO8H,SAAQnH,EACbX,GAAO2H,SAAQ5H,EACfC,GAAO+H,iBAAgBtH,OAAAA,IAAAX,EAAAW,KAAAL,EAAAI,EAAAV,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAAX,EAAAK,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAT,EAAAG,EAAAC,KAAAA,CAAA,EAAAD,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,MAAA,CAAA,EAAAG,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAX,MAAA4C,GAAAzD,EAZlCX,KAAAA,EAAMiE,EAAE,CAAA,EAAAtD,CAAA,IAoBrB,EA5BmDX,iBA8BpCqE,GAAAA,GAAWsE,EAAa,skBCnCjCgB,GAAoE3J,EAAAA,GAAU,CAElF,MAAMuE,EAAUC,KAEVoE,EAAaA,EAAAA,IAAMrE,GAASqE,WAAfA,cAEnB,MAAA,EAAA,IAAA,CAAA,MAAAjI,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAX,WAAAH,EAAAe,EAAAZ,WAAAD,EAAAF,EAAAiI,YAAAvI,OAAAA,EAAAM,EAAAL,EAMaiI,GAAM,CACLC,KAAI,KAAA,IACJC,MAAI,CAAA,OAAEN,EAAU,CAAE,CAAA,CAAA,CAAA,EAAA9H,EAAAQ,EAAAP,EAInB6I,GAAO,CAAA,IACNC,WAAS,CAAA,OAAE7J,EAAM6J,SAAS,EAAA,IAC1BjD,MAAI,CAAA,OAAErC,GAASiD,eAAe,EAAA,IAC9BsC,SAAO,CAAA,OAAEvF,GAASwC,SAASgD,eAAe,CAAA,CAAA,CAAA,EAAAvI,EAAAC,GAAA,CAAA,MAAAW,EAbnBT,GAAOqI,cAAa1H,EACvCX,GAAOsI,cAAavI,EAClBC,GAAOiG,QAAO/F,EACZF,GAAOuI,SAAQzB,EAMf9G,GAAOwI,UAAS/H,OAAAA,IAAAX,EAAAW,KAAAL,EAAApB,EAAAc,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAAG,EAAAT,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAI,EAAAV,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAX,EAAAK,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAT,EAAAG,EAAAgH,KAAAA,CAAA,EAAAhH,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,MAAA,CAAA,EAAArB,CAAA,GAAA,GAAA,IAAA,CAAA,MAAA8G,EAAA7G,GAAA,EAAAmH,EAAAN,EAAAlG,WAAA6I,EAAArC,EAAAsB,YAAA7H,OAAAA,EAAAC,GAAA,CAAA,MAAA4I,EAUtB1I,GAAO2I,mBAAkBC,EACvB5I,GAAO6I,WAAUC,EACjB9I,GAAO+I,YAAWL,OAAAA,IAAA5I,EAAA4I,MAAAtI,EAAA0F,EAAAhG,EAAA4I,KAAAA,CAAA,EAAAE,IAAA9I,EAAA8I,MAAAxI,EAAAgG,EAAAtG,EAAA8I,KAAAA,CAAA,EAAAE,IAAAhJ,EAAAgJ,MAAA1I,EAAAqI,EAAA3I,EAAAgJ,KAAAA,CAAA,EAAAhJ,CAAA,EAAA,CAAA4I,KAAArI,OAAAuI,KAAAvI,OAAAyI,KAAAzI,MAAA,CAAA,EAAAyF,CAAA,GAAA,CAAA,CAItC,EAjC0EzH,mppeCsBpE2K,GAKA3K,EAAAA,GAAU,CAEd,MAAM6E,EAAO1E,KACPoE,EAAUC,KACVS,EAAMC,KAEN,CAAC0F,EAAaC,CAAc,EAAIC,EAAa,SAAS,EAEtD,CAACC,EAAUC,CAAW,EAAIC,GAAmB,CAAE,CAAA,EAC/C,CAACC,EAASC,CAAU,EAAIF,GAAmB,CAAE,CAAA,EAC7C,CAACG,EAAYC,CAAa,EAAIJ,GAAmB,CAAE,CAAA,EACnD,CAACK,EAAYC,CAAa,EAAIN,GAA0B,CAAE,CAAA,EAC1D,CAACO,EAAYC,CAAa,EAAIX,EAAa,CAAC,EAE5C,CAACY,EAAYC,CAAa,EAAIb,EAAa,EAAK,EAEtD,IAAIc,EAAc,EACdC,EAAa,EACbC,EAAgB,EAChBC,EAAe,EAEnBC,EAAa,IAAM,CACHR,MAEA,GAAKxL,EAAMiM,MAAMC,OAAS,GACtCT,EAAczL,EAAMiM,MAAMC,MAAM,CAEpC,CAAC,EAEDF,EAAa,IAAM,CACbhM,EAAMmM,QAAUnM,EAAMiM,MAAMG,QAC9BvB,EAAe7K,EAAMiM,MAAMG,MAAM,CAErC,CAAC,EAEDJ,EAAa,IAAM,CACbhM,EAAMmM,QACRE,GAEJ,CAAC,EAEDL,EAAa,IAAM,CACjB,OAAQpB,EAAa,EAAA,CACnB,IAAK,QACHgB,IAAgB,GAAKU,IACrB,MACF,IAAK,OACHT,IAAe,GAAKU,IACpB,MACF,IAAK,UACHT,IAAkB,GAAKU,IACvB,MACF,IAAK,SACHT,IAAiB,GAAKU,IACtB,KACJ,CACF,CAAC,EAEDT,EAAa,IAAM,CACjB,GAAIpB,EAAa,IAAK,UAAW,CAC/B,GAAI5K,EAAMiM,MAAMS,KAAO,EAAG,CACxB7B,EAAe,IAAM,MAAM,EAC3B,MACF,CACA,GAAI7K,EAAMiM,MAAMU,MAAQ,EAAG,CACzB9B,EAAe,IAAM,OAAO,EAC5B,MACF,CACA,GAAI7K,EAAMiM,MAAMW,QAAU,EAAG,CAC3B/B,EAAe,IAAM,SAAS,EAC9B,MACF,CACA,GAAI7K,EAAMiM,MAAMC,OAAS,EAAG,CAC1BrB,EAAe,IAAM,QAAQ,EAC7B,MACF,CACF,CACF,CAAC,EAEDmB,EAAa,IAAM,CACZhM,EAAMmM,SACTnB,EAAY,IAAM,CAAA,CAAE,EACpBG,EAAW,IAAM,CAAA,CAAE,EACnBE,EAAc,IAAM,CAAA,CAAE,EACtBR,EAAe,IAAM,SAAS,EAC9BU,EAAc,IAAM,CAAA,CAAE,EACtBE,EAAc,IAAM,CAAC,EAErBG,EAAc,EACdC,EAAa,EACbC,EAAgB,EAChBC,EAAe,EAEnB,CAAC,EAED,MAAMO,EAAWA,EAAAA,CAACO,EAAS,IAAM,CAC/B,GAAI,CAAC7M,EAAMmM,OAAQ,OAEnB,MAAMW,EAAS,QAAO9M,EAAMmM,MAAO,IAAGY,EAAO,GAEvCC,EAAe,CAAA,EAEfC,EAAQC,GAAOJ,EAAO,CAC1BK,QAASA,CAACC,EAAGC,IAAY,CACvB,GAAIA,GAASC,OAASC,EAAKC,SAAU,CACnC,IAAItE,EAAOuE,KAAKC,MAAML,EAAQA,OAAO,GAEjC,CAACnE,EAAKyE,aAAe,OAAOzE,EAAKyE,aAAgB,UAAYzE,EAAKyE,YAAYC,OAAOC,SAAW,KAClG3E,EAAKyE,YAAczE,EAAK4E,cAE1B5E,EAAK6E,OAASV,EAAQU,OACtB7E,EAAK8E,KAAOC,GAAUZ,EAAQU,MAAM,EACpC7E,EAAKgF,WAAab,EAAQa,WAE1BlB,EAAMmB,KAAKjF,CAAI,CACjB,CACD,EACDkF,OAAQA,IAAM,CACZpD,EAAa2B,GAAU,CAAE,GAAGA,EAAO,GAAGK,CAAK,CAAE,EAC7CpB,EAAcb,EAAS8C,OACvBlC,EAAc,IAAM,EAAK,EACzBsB,GACF,CACF,CAAC,EAEDtB,EAAc,IAAM,EAAI,EACxB0C,GAAkBrO,EAAMmM,OAAQoB,EAAKe,SAAUxB,EAAOD,CAAM,GA/B7CP,YAkCXC,EAAUA,EAAAA,CAACM,EAAS,IAAM,CAC9B,GAAI,CAAC7M,EAAMmM,OAAQ,OAEnB,MAAMW,EAAS,QAAO9M,EAAMmM,MAAO,IAAGY,EAAO,GAEvCC,EAA6B,CAAA,EAC7BN,EAAc,CAAA,EAEdO,EAAQC,GAAOJ,EAAO,CAC1BK,QAASA,CAACC,EAAGC,IAAY,CACvB,GAAIA,GAASC,OAASC,EAAKC,SAAU,CACnC,IAAItE,EAAOuE,KAAKC,MAAML,EAAQA,OAAO,GAEjC,CAACnE,EAAKyE,aAAe,OAAOzE,EAAKyE,aAAgB,UAAYzE,EAAKyE,YAAYC,OAAOC,SAAW,KAClG3E,EAAKyE,YAAczE,EAAK4E,cAE1B5E,EAAK6E,OAASV,EAAQU,OACtB7E,EAAK8E,KAAOC,GAAUZ,EAAQU,MAAM,EACpC7E,EAAKgF,WAAab,EAAQa,WAE1BlB,EAAMK,EAAQU,MAAM,EAAI,CAAE,GAAG7E,GAE7B,MACF,CAEA,GAAImE,GAASC,OAASC,EAAKgB,IAAK,CAC9B,MAAMC,EAASnB,EAAQoB,KAAKC,KAAKrJ,IAAKA,GAAE,CAAC,IAAM,aAAa,EAE5D,GAAI,CAACmJ,EAAQ,OAEb,MAAMG,EAAUlB,KAAKC,MAAMc,EAAO,CAAC,GAAK,IAAI,EAE5C,IAAII,EAAS,IAETC,GAAYxB,GAASoB,MAAMC,KAAKrJ,IAAKA,GAAE,CAAC,IAAM,QAAQ,EAE1D,GAAIwJ,GACF,GAAI,CACFD,EAAU,GAAEE,GAAYD,GAAU,CAAC,CAAC,GAAK,CAAE,EAC5C,MAAW,CACV,MAAME,GAAYJ,EAAQF,KAAKC,KAAMrJ,IAAgBA,GAAE,CAAC,IAAM,QAAQ,EAEtEuJ,EAASG,GAAYA,GAAU,CAAC,EAAI,GACtC,CAGFrC,EAAKyB,KAAK,CACRS,OAAAA,EACAb,OAAQY,EAAQZ,OAChBxF,QAASoG,EAAQtB,OACnB,CAAC,EAED,MACF,CACD,EACDe,OAAQA,IAAM,CACZ,MAAMY,EAAUtC,EAAKuC,IAAKC,IAAQ,CAChC,GAAGA,EACHN,OAAQO,SAASD,EAAIN,QAAU,GAAG,EAClCQ,OAAQpC,EAAMkC,EAAInB,MAAM,CACzB,EAAE,EAEH5C,EAAYkE,GAAa,CAAE,GAAGA,EAAU,GAAGL,CAAO,CAAE,EACpDnD,EAAaX,EAAQ2C,OACrBlC,EAAc,IAAM,EAAK,EACzBsB,GACF,CACF,CAAC,EAEDtB,EAAc,IAAM,EAAI,EACxB2D,GAAatP,EAAMmM,OAAQ5H,GAASuE,UAAWgE,EAAO,GAAID,CAAM,GAtElDN,WA0EVC,EAAaA,EAAAA,CAACK,EAAS,IAAM,CACjC,GAAI,CAAC7M,EAAMmM,OAAQ,OAEnB,MAAMW,EAAS,QAAO9M,EAAMmM,MAAO,IAAGY,EAAO,GAEvCC,EAAe,CAAA,EAEfC,EAAQC,GAAOJ,EAAO,CAC1BK,QAASA,CAACC,EAAGC,IAAY,CACvB,GAAIA,GAASC,OAASC,EAAKC,SAAU,CACnC,IAAItE,EAAOuE,KAAKC,MAAML,EAAQA,OAAO,GAEjC,CAACnE,EAAKyE,aAAe,OAAOzE,EAAKyE,aAAgB,UAAYzE,EAAKyE,YAAYC,OAAOC,SAAW,KAClG3E,EAAKyE,YAAczE,EAAK4E,cAE1B5E,EAAK6E,OAASV,EAAQU,OACtB7E,EAAK8E,KAAOC,GAAUZ,EAAQU,MAAM,EACpC7E,EAAKgF,WAAab,EAAQa,WAE1BlB,EAAMmB,KAAKjF,CAAI,CACjB,CACD,EACDkF,OAAQA,IAAM,CACZ/C,EAAeuB,GAAY,CAAC,GAAGA,EAAS,GAAGI,CAAK,CAAC,EACjDlB,EAAgBV,EAAWyC,OAC3BlC,EAAc,IAAM,EAAK,EACzBsB,GACF,CACF,CAAC,EAEDtB,EAAc,IAAM,EAAI,EACxB0C,GAAkBrO,EAAMmM,OAAQoB,EAAKgC,OAAQzC,EAAOD,CAAM,GA/BzCL,cAkCbC,EAAYA,EAAAA,CAACI,EAAS,IAAM,CAChC,GAAI,CAAC7M,EAAMmM,OAAQ,OAEnB,MAAMW,EAAS,QAAO9M,EAAMmM,MAAO,IAAGY,EAAO,GAE7C,IAAIyC,EAAiB,CACnB/J,SAAU,CAAE,EACZuH,MAAO,CAAE,EACTyC,UAAW,CAAE,EACbC,SAAU,CAAE,EACZC,YAAa,CAAE,EACfC,QAAS,CAAC,GAGZ,MAAM3C,EAAQC,GAAOJ,EAAO,CAC1BK,QAASA,CAACC,EAAGC,IAAY,CACvB,GAAIA,GAASC,OAASC,EAAKC,SAAU,CACnC,MAAMtE,EAAOmE,EAEbmC,EAAKxC,MAAM9D,EAAK6E,MAAM,EAAI,CAAE,GAAG7E,GAE/B,MACF,CACA,GAAImE,GAASC,OAASC,EAAKsC,KAAM,CAC/B,MAAMtH,EAAU8E,EAEVyC,EAAkBN,EAAK/J,SAASiJ,KAAKqB,GAAKA,EAAE9L,KAAOsE,EAAQtE,EAAE,EAC7D+L,EAAqB1E,EAAWoD,KAAKuB,GAAKA,EAAEhM,KAAOsE,EAAQtE,EAAE,EAEnE,GAAI6L,GAAmBE,EACrB,OAGFR,EAAK/J,SAAS0I,KAAK5F,CAAO,EAC1B,MACF,CAEA,GAAI8E,GAASC,OAASC,EAAK2C,UAAW,CAEpC,MAAMC,EAAO1C,KAAKC,MADAL,EACgBA,OAAO,EAEzCmC,EAAKC,UAAUU,EAAKC,QAAQ,EAAI,CAAE,GAAGD,GACrC,MACF,CAEA,GAAI9C,GAASC,OAASC,EAAK8C,SAAU,CAEnC,MAAMC,EAAU7C,KAAKC,MADEL,EACmBA,OAAO,EAE5CmC,EAAKE,WACRF,EAAKE,SAAW,IAGlBF,EAAKE,SAASY,EAAQrM,EAAE,EAAI,CAAE,GAAGqM,GACjC,MACF,CAEA,GAAIjD,GAASC,OAASC,EAAKgD,YAAa,CAEtC,MAAMZ,EAAclC,KAAKC,MADCL,EACuBA,OAAO,EAExDmC,EAAKG,YAAYA,EAAYS,QAAQ,EAAI,CAAE,GAAGT,GAE9C,MACF,CAEA,GAAItC,GAASC,OAASC,EAAKiD,aAAc,CAGvC,MAAMC,EAFWhD,KAAKC,MAAML,EAAQA,OAAO,EAErBqD,UAAU,CAAC,EACjC,GAAI,CAACD,EACH,OAGF,MAAME,EAAU,CACdC,IAAKH,EAAKG,IACVrK,MAAOkK,EAAKI,SACZrK,YAAaiK,EAAKK,eAClBC,UAAWN,EAAKO,SAChBC,YAAaR,EAAKO,SAClBE,OAAQ,CAACT,EAAKU,QAAQ,EACtBC,SAAU,CAACX,EAAKY,QAAQ,GAG1BC,GAAgB,KAAO,CAAE,CAACb,EAAKG,GAAG,EAAGD,CAAS,EAAC,EAC/C,MACF,CACD,EACDvC,OAAQA,IAAM,CACZ,MAAMmD,EAAYC,GAAehC,CAAI,EAErCjE,EAAekG,GAAU,CAAC,GAAGA,EAAO,GAAGF,CAAS,CAAC,EACjDxF,EAAeT,EAAWuC,OAC1BlC,EAAc,IAAM,EAAK,EACzBsB,GACF,CACF,CAAC,EAEDtB,EAAc,IAAM,EAAI,EACxB+F,GAAe1R,EAAMmM,OAAQW,EAAOD,EAAQtI,GAASuE,SAAS,GAnG9C2D,aAsGZJ,EAAgBA,EAAAA,IAAM,CAC1B,GAAI,CAACrM,EAAMmM,OAAQ,OAEnB,MAAMW,EAAS,SAAQ9M,EAAMmM,MAAO,IAAGY,EAAO,GAExCE,EAAQC,GAAOJ,EAAO,CAC1BK,QAASA,CAACC,EAAGC,IAAY,CACvB,GAAIA,GAASC,OAASC,EAAKoE,eAAgB,CACzC,MAAMC,EAAanE,KAAKC,MAAML,EAAQA,OAAO,EAE7C5B,EAAc,IAAMmG,EAAWC,OAAS,CAAC,CAC3C,CACD,EACDzD,OAAQA,IAAM,CACZnB,GACF,CACF,CAAC,EAED6E,GAAmB9R,EAAMmM,OAAQW,CAAK,GAlBlBT,iBAqBhB0F,EAAaA,EAAAA,IAAM/R,EAAMiM,MAAMU,OAASnB,EAAY,GAAIxL,EAAMiM,MAAMC,QAAU,GAAKlM,EAAMiM,MAAMW,QAAU5M,EAAMiM,MAAMS,KAAxGqF,cAEnB,OAAAhR,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAMmM,SAAWnK,MAAS,EAChCiQ,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8J,SAAW9J,EAAM8J,QAAS,EAAA,IACzEvD,OAAK,CAAA,OAAA,IAAA,CAAA,MAAApE,EAAAd,GAAA,EAAAD,EAAAe,EAAAZ,WAAAT,OAAAA,EAAAM,EAAA,IAGEyD,EAAKO,cAAcuC,EAASwK,UAAW,CAAEN,MAAOE,EAAW,CAAG,CAAA,CAAC,EAAAvQ,EAAAC,GAAA,CAAA,MAAAI,EAFxDF,EAAO4E,MAAKkC,EACV9G,EAAOyQ,QAAOvQ,OAAAA,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAAhH,CAAA,EAAA,CAAAI,KAAAG,OAAAyG,KAAAzG,MAAA,CAAA,EAAAG,CAAA,IAAA,EAAA,IAK9BkQ,cAAY,CAAA,OAAE1Q,EAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAT,OAAAA,EAAAH,EAAAI,EAGxBuG,GAAM,CAAA,IAAArF,UAAA,CAAA,OAAAlB,EACJ8G,GAAK,CAAA,IAAC5G,MAAI,CAAA,MAAE,CAACyK,GAAcqG,EAAY,IAAK,CAAC,EAAA,IAAA9P,UAAA,CAAA,OAC3C4C,EAAKO,cAAc+C,GAAcoK,iBAAiB,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,EAAArQ,CAAA,EAAApB,EAAAoB,EAAAnB,EAKrDyR,GAAI,CAAA,IAACC,OAAK,CAAA,OAAE7H,EAAW,CAAE,EAAE8H,SAAU7H,EAAc,IAAA5I,UAAA,CAAA,MAAA,CAAAlB,EACjDyR,GAAKG,KAAI,CAAA,IAAA,OAAA,CAAA,OAAQhR,EAAOiR,IAAI,EAAA,IAAA3Q,UAAA,CAAA,MAAAlB,CAAAA,EAC1BC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEjB,EAAMiM,MAAMS,KAAO,CAAC,EAAA,IAAAzK,UAAA,CAAA,OAAAlB,EAC7ByR,GAAKK,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQlR,EAAOmR,GAAG,EAAEL,MAAO,OAAM,IAAAxQ,UAAA,CAAA,OAC5C4C,EAAKO,cAAc2N,GAAeH,KAAKlG,KAAM,CAAEmF,MAAO7R,EAAMiM,MAAMS,IAAK,CAAC,CAAC,CAAA,CAAA,CAAA,EAAA3L,EAAAA,EAG5EC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEjB,EAAMiM,MAAMU,MAAQ,CAAC,EAAA,IAAA1K,UAAA,CAAA,OAAAlB,EAC9ByR,GAAKK,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQlR,EAAOmR,GAAG,EAAEL,MAAO,QAAO,IAAAxQ,UAAA,CAAA,OAC7C4C,EAAKO,cAAc2N,GAAeH,KAAKjG,MAAO,CAAEkF,MAAO7R,EAAMiM,MAAMU,KAAM,CAAC,CAAC,CAAA,CAAA,CAAA,EAAA5L,EAAAA,EAG9EC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEjB,EAAMiM,MAAMW,QAAU,CAAC,EAAA,IAAA3K,UAAA,CAAA,OAAAlB,EAChCyR,GAAKK,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQlR,EAAOmR,GAAG,EAAEL,MAAO,UAAS,IAAAxQ,UAAA,CAAA,OAC/C4C,EAAKO,cAAc2N,GAAeH,KAAKhG,QAAS,CAAEiF,MAAO7R,EAAMiM,MAAMW,OAAQ,CAAC,CAAC,CAAA,CAAA,CAAA,EAAA7L,EAAAA,EAGlFC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEuK,EAAY,EAAG,CAAC,EAAA,IAAAvJ,UAAA,CAAA,OAAAlB,EACzByR,GAAKK,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQlR,EAAOmR,GAAG,EAAEL,MAAO,SAAQ,IAAAxQ,UAAA,CAAA,OAC9C4C,EAAKO,cAAc2N,GAAeH,KAAK1G,OAAQ,CAAE2F,MAAOrG,EAAW,CAAE,CAAC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAzK,EAI1EyR,GAAKQ,UAAS,CAAA,IAAA,OAAA,CAAA,OAAQrR,EAAOsR,YAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAlS,EAG3CyR,GAAKU,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQvR,EAAOwR,UAAU,EAAEV,MAAO,QAAO,IAAAxQ,UAAA,CAAA,MAAAlB,CAAAA,EACnDmG,GAAG,CACFC,KAAM4D,EAAQ,IACd5J,UAAQ,CAAA,OAAAJ,EACLC,EAAI,CAAA,IAACC,MAAI,CAAA,MAAE,CAACyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EACtBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAE8Q,EAAY,EAAG,CAAC,EAAA,IACtB5Q,UAAQ,CAAA,OAAE0D,EAAKO,cAAc+C,GAAcoK,iBAAiB,CAAC,EAAA,IAAAtQ,UAAA,CAAA,OAE5D4C,EAAKO,cAAc+C,GAAciL,aAAa,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAnR,SAKrDoR,GAAOtS,EACLuC,GAAC,CAAA,IACAC,MAAI,CAAA,OAAE0B,GAAK8B,QAAQ8B,YAAYwK,EAAQrF,IAAI,GAAK,EAAE,EAAA,IAAA,OAAA,CAAA,OAC3CrM,EAAO2R,QAAQ,EAAA,IACtB1P,SAAO,CAAA,OAAE5D,EAAM8J,OAAO,EAAA,IAAA7H,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAAX,EAAAV,KAAAY,OAAAA,MAAAO,EAAAT,EAEVK,EAAO4R,QAAQ,CAAA,EAAAjS,IAAAP,EAAAA,EAC1BiI,GAAM,CAAA,IAACwK,KAAG,CAAA,OAAEH,EAAQI,OAAO,EAAExK,KAAI,IAAA,CAAA,GAAA,IAAA,CAAA,MAAAxB,EAAApG,GAAA,EAAA0G,EAAAN,EAAAlG,WAAAT,OAAAA,EAAAiH,EAAA,IAG7BuB,GAAS+J,CAAO,CAAC,EAAAvS,EAAA2G,EAAA1G,EAEnB2S,GAAiB,CAACxK,KAAMmK,CAAO,CAAA,EAAA,IAAA,EAAA7R,EAAAC,GAAA,CAAA,MAAA4I,EAJtB1I,EAAO2H,SAAQiB,EACb5I,EAAOgS,KAAItJ,OAAAA,IAAA5I,EAAA4I,MAAAtI,EAAA0F,EAAAhG,EAAA4I,KAAAA,CAAA,EAAAE,IAAA9I,EAAA8I,MAAAxI,EAAAgG,EAAAtG,EAAA8I,KAAAA,CAAA,EAAA9I,CAAA,EAAA,CAAA4I,KAAArI,OAAAuI,KAAAvI,MAAA,CAAA,EAAAyF,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,EAKvB1G,EAAAA,EAIPC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE8J,EAAS8C,OAAS7N,EAAMiM,MAAMU,KAAK,EAAA,IAAA1K,UAAA,CAAA,OAAAlB,EAC5C6S,GAAS,CACRC,aAAcA,IAAM,CAClB,MAAMC,EAAM/I,EAAS8C,OACjBiG,IAAQ,GACZxH,EAASwH,EAAI,CAAC,CACf,EACDC,QAAS,EAAI,CAAA,CAAA,EAAAhT,EAAAA,EAIhBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAEyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EAEjBiT,GAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAjT,EAIVyR,GAAKU,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQvR,EAAOwR,UAAU,EAAEV,MAAO,OAAM,IAAAxQ,UAAA,CAAA,MAAAlB,CAAAA,EAClDmG,GAAG,CACFC,KAAM+D,EAAO,IACb/J,UAAQ,CAAA,OAAAJ,EACLC,EAAI,CAAA,IAACC,MAAI,CAAA,MAAE,CAACyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EACtBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAE8Q,EAAY,EAAG,CAAC,EAAA,IACtB5Q,UAAQ,CAAA,OAAE0D,EAAKO,cAAc+C,GAAcoK,iBAAiB,CAAC,EAAA,IAAAtQ,UAAA,CAAA,OAE5D4C,EAAKO,cAAc+C,GAAc8L,YAAY,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAhS,SAKpDiN,GAAGnO,EACDuC,GAAC,CAAA,IACAC,MAAI,CAAA,OAAE0B,GAAK8B,QAAQ8B,YAAYoF,GAAUiB,EAAInB,MAAM,CAAC,GAAK,EAAE,EAAA,IAAA,OAAA,CAAA,OACpDpM,EAAOuS,OAAO,EAAA,IACrBtQ,SAAO,CAAA,OAAE5D,EAAM8J,OAAO,EAAA,IAAA7H,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAAmI,EAAAnD,GAAA,EAAAkN,EAAA/J,EAAA7I,WAAA6S,EAAAD,EAAA9K,YAAAvI,OAAAA,EAAAsT,GAAA,IAAA,CAAA,MAAApQ,EAAAD,GAAA,IAIQmL,EAAIN,OAAS,GAAO,EAAA,MAAA,IAApB5K,IAAuBkL,EAAIN,OAAOyF,eAAc,EAAKC,GAAgBpF,EAAIN,MAAM,CAAC,GAAA,CAAA,EAAApN,EAAAC,GAAA,CAAA,MAAAgJ,EAFlG9I,EAAO4S,UAASC,EACd7S,EAAO8S,QAAOC,EACd/S,EAAOiN,OAAMnE,OAAAA,IAAAhJ,EAAAgJ,MAAA1I,EAAAqI,EAAA3I,EAAAgJ,KAAAA,CAAA,EAAA+J,IAAA/S,EAAA+S,MAAAzS,EAAAoS,EAAA1S,EAAA+S,KAAAA,CAAA,EAAAE,IAAAjT,EAAAiT,OAAA3S,EAAAqS,EAAA3S,EAAAiT,MAAAA,CAAA,EAAAjT,CAAA,EAAA,CAAAgJ,KAAAzI,OAAAwS,KAAAxS,OAAA0S,MAAA1S,MAAA,CAAA,EAAAoI,IAAArJ,EAAAA,EAE1BiI,GAAM,CAAA,IAACwK,KAAG,CAAA,OAAEtE,EAAIE,QAAQqE,OAAO,EAAExK,KAAI,IAAA,CAAA,GAAA,IAAA,CAAA,MAAA0L,EAAAC,GAAA,EAAAC,EAAAF,EAAApT,WAAAuT,EAAAD,EAAAtT,WAAAwT,EAAAF,EAAAxL,YAAAvI,OAAAA,EAAAgU,EAI/BxL,IAAAA,GAAS4F,EAAIE,MAAM,CAAC,EAAAtO,EAAA+T,EAAA9T,EAEtB2S,GAAiB,CAACxK,KAAMgG,CAAG,CAAA,EAAA,IAAA,EAAApO,EAAAiU,EAG3B7F,IAAAA,EAAI3G,OAAO,EAAA/G,EAAAC,GAAA,CAAA,MAAAuT,EARJrT,EAAOgN,QAAOsG,EACZtT,EAAO2H,SAAQ4L,GACbvT,EAAOgS,KAAIwB,GAKbxT,EAAOyT,WAAUJ,OAAAA,IAAAvT,EAAAuT,OAAAjT,EAAA4S,EAAAlT,EAAAuT,MAAAA,CAAA,EAAAC,IAAAxT,EAAAwT,OAAAlT,EAAA8S,EAAApT,EAAAwT,MAAAA,CAAA,EAAAC,KAAAzT,EAAAyT,OAAAnT,EAAA+S,EAAArT,EAAAyT,MAAAA,EAAA,EAAAC,KAAA1T,EAAA0T,OAAApT,EAAAgT,EAAAtT,EAAA0T,MAAAA,EAAA,EAAA1T,CAAA,EAAA,CAAAuT,MAAAhT,OAAAiT,MAAAjT,OAAAkT,MAAAlT,OAAAmT,MAAAnT,MAAA,CAAA,EAAA2S,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,EAI7B5T,EAAAA,EAIPC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEiK,EAAQ2C,OAAS7N,EAAMiM,MAAMS,IAAI,EAAA,IAAAzK,UAAA,CAAA,OAAAlB,EAC1C6S,GAAS,CACRC,aAAcA,IAAM,CAClB,MAAMC,EAAM5I,EAAQ2C,OAChBiG,IAAQ,GACZvH,EAAQuH,EAAI,CAAC,CACd,EACDC,QAAS,EAAI,CAAA,CAAA,EAAAhT,EAAAA,EAIhBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAEyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EAEjBiT,GAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAjT,EAGVyR,GAAKU,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQvR,EAAOwR,UAAU,EAAEV,MAAO,UAAS,IAAAxQ,UAAA,CAAA,MAAAlB,CAAAA,EACrDmG,GAAG,CACFC,KAAMiE,EAAU,IAChBjK,UAAQ,CAAA,OAAAJ,EACLC,EAAI,CAAA,IAACC,MAAI,CAAA,MAAE,CAACyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EACtBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAE8Q,EAAY,EAAG,CAAC,EAAA,IACtB5Q,UAAQ,CAAA,OAAE0D,EAAKO,cAAc+C,GAAcoK,iBAAiB,CAAC,EAAA,IAAAtQ,UAAA,CAAA,OAE5D4C,EAAKO,cAAc+C,GAAckN,eAAe,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAApT,SAKvDqT,GAAQvU,EACNuC,GAAC,CAAA,IACAC,MAAI,CAAA,OAAE0B,GAAK8B,QAAQ8B,YAAYyM,EAAStH,IAAI,GAAK,EAAE,EAAA,IAAA,OAAA,CAAA,OAC5CrM,EAAO4T,UAAU,EAAA,IACxB3R,SAAO,CAAA,OAAE5D,EAAM8J,OAAO,EAAA,IAAA7H,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAAuT,EAAA5U,KAAAY,OAAAA,MAAAO,EAAAyT,EAEV7T,EAAO8T,UAAU,CAAA,EAAAD,IAAAzU,EAAAA,EAC5BiI,GAAM,CAAA,IAACwK,KAAG,CAAA,OAAE8B,EAAS7B,OAAO,EAAExK,KAAI,IAAA,CAAA,GAAA,IAAA,CAAA,MAAAyM,EAAArU,GAAA,EAAAsU,EAAAD,EAAAnU,WAAAT,OAAAA,EAAA6U,EAAA,IAG9BrM,GAASgM,CAAQ,CAAC,EAAAxU,EAAA4U,EAAA3U,EAEpB2S,GAAiB,CAACxK,KAAMoM,CAAQ,CAAA,EAAA,IAAA,EAAA9T,EAAAC,GAAA,CAAA,MAAAmU,EAJvBjU,EAAO2H,SAAQuM,EACblU,EAAOgS,KAAIiC,OAAAA,IAAAnU,EAAAmU,OAAA7T,EAAA2T,EAAAjU,EAAAmU,MAAAA,CAAA,EAAAC,IAAApU,EAAAoU,OAAA9T,EAAA4T,EAAAlU,EAAAoU,MAAAA,CAAA,EAAApU,CAAA,EAAA,CAAAmU,MAAA5T,OAAA6T,MAAA7T,MAAA,CAAA,EAAA0T,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,EAKvB3U,EAAAA,EAIPC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEmK,EAAWyC,OAAS7N,EAAMiM,MAAMW,OAAO,EAAA,IAAA3K,UAAA,CAAA,OAAAlB,EAChD6S,GAAS,CACRC,aAAcA,IAAM,CAClB,MAAMC,EAAM1I,EAAWyC,OACnBiG,IAAQ,GACZtH,EAAWsH,EAAI,CAAC,CACjB,EACDC,QAAS,EAAI,CAAA,CAAA,EAAAhT,EAAAA,EAIhBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAEyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EAEjBiT,GAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAjT,EAGVyR,GAAKU,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQvR,EAAOwR,UAAU,EAAEV,MAAO,SAAQ,IAAAxQ,UAAA,CAAA,MAAAlB,CAAAA,EACpDmG,GAAG,CACFC,KAAMmE,EAAU,IAChBnK,UAAQ,CAAA,OAAAJ,EACLC,EAAI,CAAA,IAACC,MAAI,CAAA,MAAE,CAACyK,EAAU,CAAE,EAAA,IAAAzJ,UAAA,CAAA,OAAAlB,EACtBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAE8Q,EAAY,EAAG,CAAC,EAAA,IACtB5Q,UAAQ,CAAA,OAAE0D,EAAKO,cAAc+C,GAAcoK,iBAAiB,CAAC,EAAA,IAAAtQ,UAAA,CAAA,OAE5D4C,EAAKO,cAAc+C,GAAc2N,cAAc,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA7T,SAKtD8T,GAAKhV,EACHiV,GAAI,CACHC,KAAMF,EACNG,QAAS,GACTC,SAAQ,WAAA,IACRvS,SAAO,CAAA,OAAE5D,EAAM8J,OAAO,CAAA,CAAA,EAEzB/I,EAAAA,EAEF6S,GAAS,CACRC,aAAcA,IAAM,CAClB,MAAMC,EAAMxI,EAAWuC,OACnBiG,IAAQ,GACZrH,EAAUqH,EAAI,CAAC,CAChB,EACDC,QAAS,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAvS,EAAAC,GAAA,CAAA,MAAAW,EA3NdpC,EAAMiE,GAAE3B,EAASX,EAAOgJ,eAAcjJ,EAOjCC,EAAO6E,YAAWpE,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAD,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CA4NtC,EA1lBMX,kBA4lBSqE,GAAAA,GAAWsG,EAAc,gwBC1mBlCyL,GAUApW,EAAAA,GAAU,CAEd,MAAMqW,EAAQC,KACR/R,EAAUC,KACVK,EAAO1E,KACP8F,EAAWsQ,KAEX,CAACC,EAAeC,CAAgB,EAAI3L,EAAa7E,GAAUyQ,oBAAoB,CAAC,GAAKC,GAAkB,CAAC,CAAC,EAE/G3K,EAAa,IAAM,CACjByK,EAAiBxQ,GAAUyQ,oBAAoB,CAAC,GAAKC,GAAkB,CAAC,CAAC,CAC3E,CAAC,EAED,MAAMC,EAAcnE,EAAAA,GAAqB,CACvC,MAAMoE,EAAML,IACZ,OAAO/D,EAAM7D,SAAWiI,EAAIjI,QAAU6D,EAAMqE,QAAUD,EAAIC,OAASrE,EAAMlK,UAAYsO,EAAItO,SAFvEkK,cAKdsE,EAAsBtE,EAAAA,GAAkB,CAC5C,MAAM7D,EAASO,SAASsD,EAAMuE,WAAW,IAAK,EAAE,CAAC,EAE7CC,MAAMrI,CAAM,GACd6H,EAAkBS,IAAO,CAAE,GAAGA,EAAGtI,OAAQ,CAAG,EAAC,EAG/C6H,EAAkBS,IAAM,CAAE,GAAGA,EAAGtI,OAAAA,CAAQ,EAAC,GAPf6D,sBAUtB0E,EAAiB5O,EAAAA,GAAoB,CACzCkO,EAAkBS,IAAO,CAAE,GAAGA,EAAG3O,QAAAA,CAAS,EAAC,GADtBA,iBAIjB6O,EAAkBxI,EAAAA,GAGlBA,EAASvJ,IACH,GAAEuJ,CAAO,GAGfA,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,EAChBuJ,EAASvJ,MAAM,EACpB,GAAEgS,KAAKE,MAAM3I,EAASvJ,GAAC,CAAE,IAC1BR,EAAK2S,aAAa5I,CAAM,EAGxBA,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,EAChBuJ,EAASvJ,MAAM,EACpB,GAAEgS,KAAKE,MAAM3I,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,CAAC,CAAE,IACvCR,EAAK2S,aAAa5I,CAAM,EAGxBA,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,EAChBuJ,EAASvJ,MAAM,EACpB,GAAEgS,KAAKE,MAAM3I,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,CAAC,CAAE,IACvCR,EAAK2S,aAAa5I,CAAM,EAGxBA,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,GAChBuJ,EAASvJ,MAAM,EACpB,GAAEgS,KAAKE,MAAM3I,EAASyI,KAAKC,IAAIjS,IAAG,CAAC,CAAC,CAAE,IAIpCR,EAAK2S,aAAa5I,CAAM,EA/BTA,kBAkClB6I,EAASC,EAAA,SAAY,CACzB,GAAInT,GAAS6C,eAAgB,CAC3BpH,EAAM2G,UAAU6P,EAAa,CAAE,EAE/B,MAAMP,EAAOjW,EAAMiW,KAEnB,GAAIA,EAAM,CACR0B,WAAW,SAAY,CAQrB,MAAMC,EAAU,KAN0B,CACxC,CAACrK,EAAKsC,IAAI,EAAGgI,GACb,CAACtK,EAAKuK,QAAQ,EAAGC,GACjB,CAACxK,EAAKyK,aAAa,EAAGD,IAGM9B,EAAKgC,IAAI3K,IAAI,EACzC2I,EACA1R,EAAQuE,UACR0N,EAAe,EAAC5H,QAAU,EAC1B4H,EAAe,EAACjO,QAChBhE,EAAQ2T,YACV,EAEAC,EAAUP,CAAO,CACnB,EAAGQ,GAAgB,CAAA,EACnB,MACF,CAEA,GAAIpY,EAAMqY,QAAS,CACjB,MAAMT,EAAU,MAAMU,GACpBtY,EAAMqY,QACN9T,EAAQuE,UACR0N,EAAe,EAAC5H,QAAU,EAC1B4H,EAAa,EAAGjO,QAChBhE,EAAQ2T,YACV,EAEAC,EAAUP,CAAO,EACjB,MACF,CAEA,MAAMW,EAAMvY,EAAMuY,IACZC,EAAUD,GAAKrP,KAErB,GAAIqP,GAAOC,EAAS,CAClBb,WAAW,SAAY,CAErB,MAAMC,EAAU,MAAMa,GACpBF,EACAC,EACAjU,EAAQuE,UACR0N,EAAe,EAAC5H,QAAU,EAC1B4H,EAAa,EAAGjO,QAChBhE,EAAQ2T,YACR,EAEAC,EAAUP,CAAO,CACnB,EAAGQ,GAAgB,CAAA,EACrB,MACF,CACF,GA5Da,UA+DTD,EAAYA,EAAAA,CAACP,EAAU,KAAU,CACrC,GAAIA,EAAS,CACX5X,EAAM6J,UAAU2M,EAAa,CAAE,EAC/B,MACF,CAEAH,GAAOqC,YACL7T,EAAKO,cAAcuT,EAAY,CACjC,EAEA3Y,EAAM4Y,OAAOpC,EAAa,CAAE,GAVZ2B,aAalB,IAAIU,EAAK,GAET,OAAA9X,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM4G,IAAI,EAChBqL,QAAUC,GAAoB,CACxBA,IAEA2G,EACFA,EAAK,GAGL7Y,EAAM8Y,SAAS,CAAElK,OAAQ,EAAGrG,QAAS,EAAG,CAAC,EAE5C,EAAA,IACDhC,OAAK,CAAA,OAAA,IAAA,CAAA,MAAA6N,EAAAnN,GAAA,EAAA0N,EAAAP,EAAA7S,WAAAT,OAAAA,EAAA6T,EAAA,IAGE9P,EAAKO,cAAcuC,EAASuH,GAAG,CAAC,EAAA1N,EAAAC,GAAA,CAAA,MAAA+S,EAFzB7S,EAAO4E,MAAKmO,EACV/S,EAAOyQ,QAAOoC,OAAAA,IAAA/S,EAAA+S,MAAAzS,EAAAqS,EAAA3S,EAAA+S,KAAAA,CAAA,EAAAE,IAAAjT,EAAAiT,OAAA3S,EAAA4S,EAAAlT,EAAAiT,MAAAA,CAAA,EAAAjT,CAAA,EAAA,CAAA+S,KAAAxS,OAAA0S,MAAA1S,MAAA,CAAA,EAAAoS,CAAA,IAAA,EAAA,IAK9B/B,cAAY,CAAA,OAAE1Q,EAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAC,GAAA,EAAAsB,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAX,WAAAH,EAAAe,EAAAkH,YAAA/H,EAAAY,EAAAmH,YAAA5B,EAAAnG,EAAA+H,YAAAtB,EAAAN,EAAAlG,WAAA6I,EAAA3C,EAAA4B,YAAA1I,OAAAA,EAAAE,QAOfiC,GAAkB,CAC1BA,EAAEG,eAAc,EAChBH,EAAEiW,gBAAe,GAClBpY,EAAAqY,YAJY,IAAMH,EAAK,GAAIlY,EAAAsY,UADjB,IAAMJ,EAAK,GAAK/X,EAAAoB,EASxB2C,IAAAA,EAAKO,cAAc8T,GAAgB,CAClChQ,KAAMI,GAAStJ,EAAMiW,MAAM/M,MAAQlJ,EAAMqY,OAAO,EACjD,EAAClW,CAAA,EAAArB,EAAAqB,EAGCiV,IAAAA,EAAeZ,EAAa,EAAG5H,QAAU,CAAC,CAAC,EAAA9N,EAAAQ,EAAAP,EAM7CmG,GAAG,CAAA,IAACC,MAAI,CAAA,OAAElB,GAAUyQ,mBAAmB,EAAAzU,SACpCwQ,IAAK,IAAA,CAAA,MAAAoC,EAAAD,GAAA,EAAAE,EAAAD,EAAAtT,WAAAwT,EAAAD,EAAAvT,WAAAiU,EAAAT,EAAA1L,YAAAqM,EAAAF,EAAAnM,YAAAwL,OAAAA,EAAAhU,QAGM,IAAM,CACb4V,EAAiB,KAAO,CAAC,GAAGhE,CAAM,EAAC,GACpC3R,EAAAiU,EAIItC,IAAAA,EAAMqE,KAAK,EAAAhW,EAAA0U,EAAA,IAGX4B,EAAe3E,EAAM7D,QAAU,CAAC,CAAC,EAAApN,EAAAC,GAAA,CAAA,MAAAuT,EAV9B,GAAErT,EAAOwX,SAAU,IAAGvC,EAAWnE,CAAK,EAAI9Q,EAAOyX,SAAW,EAAG,GAACnE,EAMzDtT,EAAOmV,MAAK5B,EAGZvT,EAAOiN,OAAMuG,EAGbxT,EAAO0X,KAAIrE,OAAAA,IAAAvT,EAAAuT,OAAAjT,EAAA8S,EAAApT,EAAAuT,MAAAA,CAAA,EAAAC,IAAAxT,EAAAwT,OAAAlT,EAAAgT,EAAAtT,EAAAwT,MAAAA,CAAA,EAAAC,IAAAzT,EAAAyT,OAAAnT,EAAAyT,EAAA/T,EAAAyT,MAAAA,CAAA,EAAAC,IAAA1T,EAAA0T,OAAApT,EAAA2T,EAAAjU,EAAA0T,MAAAA,CAAA,EAAA1T,CAAA,EAAA,CAAAuT,MAAAhT,OAAAiT,MAAAjT,OAAAkT,MAAAlT,OAAAmT,MAAAnT,MAAA,CAAA,EAAA6S,CAAA,GAAA,CAEnB,CAAA,CAAA,EAAA/T,EAAA2G,EAAA1G,EAMZuY,GAAS,CACR3F,KAAI,oBACJ4F,KAAI,OAAA,IACJ9G,OAAK,CAAA,OAAE1O,SAAAyS,EAAe,EAAC5H,MAAM,IAAG/J,EAAK2S,aAAahB,EAAe,EAAC5H,QAAU,CAAC,EAAI,EAAE,EACnF4K,YAAW,SACX9G,SAAUqE,EACV0C,aAAc,EAAI,CAAA,EAAA1R,CAAA,EAAAjH,EAAAiH,EAGjBlD,IAAAA,EAAKO,cAAcsU,EAAe,CAAC,EAAA5Y,EAAAH,EAAAI,EAIvCuY,GAAS,CACRC,KAAI,OAAA,IACJ9G,OAAK,CAAA,OAAE+D,EAAa,EAAGjO,SAAW,EAAE,EAAA,IACpCiR,aAAW,CAAA,OAAE3U,EAAKO,cAAc+C,GAAcwR,UAAU,CAAC,EACzDjH,SAAUyE,EACVsC,aAAc,EAAI,CAAA,EAAArP,CAAA,EAAAtJ,EAAAsJ,EAAArJ,EAMjBwG,EAAa,CACZ3D,QAAS6T,EAAM,IAAAxV,UAAA,CAAA,MAAAkS,EAAA9S,KAAAP,OAAAA,EAAAqT,EAAA,IAGZtP,EAAKO,cAAcuC,EAASuH,GAAG,CAAC,EAAA1N,MAAAO,EAAAoS,EADvBxS,EAAOyQ,OAAO,CAAA,EAAA+B,CAAA,CAAA,CAAA,CAAA,EAAA3S,EAAAC,GAAA,CAAA,MAAAW,EAxE1BpC,EAAMiE,GAAE3B,EACLX,EAAOiY,UAASlY,EASXC,EAAO6E,YAAW3E,EAKfF,EAAOiN,OAAMnG,EAGb9G,EAAOkY,MAAKxP,EAGf1I,EAAOmY,QAAOvP,EAuBd5I,EAAOoY,aAAYtP,EAuBtB9I,EAAOqY,OAAM5X,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAA4B,IAAA5I,EAAA4I,MAAAtI,EAAAT,EAAAG,EAAA4I,KAAAA,CAAA,EAAAE,IAAA9I,EAAA8I,MAAAxI,EAAA0F,EAAAhG,EAAA8I,KAAAA,CAAA,EAAAE,IAAAhJ,EAAAgJ,MAAA1I,EAAAqI,EAAA3I,EAAAgJ,KAAAA,CAAA,EAAAhJ,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,OAAAqI,KAAArI,OAAAuI,KAAAvI,OAAAyI,KAAAzI,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAc9B,EAxPMX,aA0PNia,GAAe5V,GAAW+R,EAAS,EAAE3T,GAAA,CAAA,UAAA,YAAA,OAAA,CAAA,sBCtQ/ByX,GAKAla,EAAAA,GAAU,CACd,MAAMuE,EAAUC,KACV2V,EAAU7D,KACVzR,EAAO1E,KACP8E,EAAMC,KAEsB4F,EAAa,EAAK,EACpD,KAAM,CAACsP,EAAmBC,CAAoB,EAAIvP,EAAa,EAAK,EAC9D,CAACwP,EAAiBC,CAAkB,EAAIzP,EAAa,EAAK,EAE1D,CAAC0P,EAAaC,CAAc,EAAI3P,EAA4B,MAAM,EAElEmL,EAAOA,EAAAA,IAAMjW,EAAMyQ,MAAMwF,KAAlBA,QACPyE,EAAWA,EAAAA,IACR1a,EAAMyQ,MAAMiK,SADJA,YAIjB1O,EAAa,IAAM,CACjB,GAAG,CAAC2O,EAAS,OAEb,GAAI,CAAC3a,EAAM4G,KAAM,CACf+Q,WAAW,IAAM,CACfgD,GAASC,aAAa,QAAS,8BAA6B,CAC7D,EAAE,GAAG,EACN,MACF,CAEA,MAAMC,EAAUC,SAASC,gBAAgBC,sBAAqB,EACxDC,EAAM,CACVza,IAAM6W,KAAKE,MAAMmD,EAAQ,GAAIla,KAAO,CAAC,EAAIqa,EAAQra,IACjDC,KAAO4W,KAAKE,MAAMmD,EAAQ,GAAIja,MAAQ,CAAC,GAGzCka,EAAQC,aAAa,QAAS,QAAOK,EAAIza,IAAM,EAAG,aAAYya,EAAIxa,KAAO,EAAG,KAAI,EAEhF,MAAMya,EAAS,IACTC,EAAS9D,KAAKE,MAAMmD,EAAU,GAAEU,QAAU,CAAC,EAAIF,EAAS5a,OAAO+a,YAAc,OAAS,KAE5FZ,EAAe,IAAMU,CAAM,CAC7B,CAAC,EAGD,MAAMG,EAAaA,EAAAA,IAAM,CACvB/W,GAASwC,QAAQwU,cAActF,EAAM,GAAElI,MAAM,EAC7C/N,EAAM8J,QAAO,GAFIwR,cAKbE,EAAeA,EAAAA,IAAM,CACzBjX,GAASwC,QAAQ0U,mBAAmBxF,EAAM,GAAElI,MAAM,EAClD/N,EAAM8J,QAAO,GAFM0R,gBAKfE,EAAeA,EAAAA,IAAM,CACzBC,GAAW1F,EAAI,GAAI/M,KAAK6E,OAAS,eAAchB,EAAO,GAAGkJ,EAAM,GAAE/M,IAAI,EACrElJ,EAAM8J,QAAO,EACbqQ,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAOC,mBAAoB,CAAEnI,KAAMrK,GAAS2M,EAAM,GAAE/M,IAAI,CAAE,CAAA,CAAC,GAHhFwS,gBAMfK,EAAeA,EAAAA,IAAM,CACzB,GAAI,CAAC/b,EAAMyQ,KAAM,OAEjB,IAAIuL,EAAQ,KAAI/F,EAAI,EAAG9J,MAAO,GAE9B,GAAI8J,EAAI,EAAG9J,OAAO9E,WAAW,OAAO,EAAG,CACrC,MAAM4U,EAAahX,GAAKiX,cAAcjG,EAAM,EAAClI,MAAM,EAEnD,GAAIkO,EAAY,CAGd,MAAMxL,EAFU0L,GAAMC,OAAOnG,EAAM,EAAC9J,MAAM,EAErBsE,KAErBuL,EAAQ,GAAEC,CAAW,IAAGxL,EAAK4L,UAAW,EAC1C,CACF,CAEAC,UAAUC,UAAUC,UAAW,GAAElc,OAAOqC,SAAS8Z,MAAO,IAAGT,CAAK,EAAC,EACjEhc,EAAM8J,QAAO,EACbqQ,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAOa,qBAAqB,CAAC,GAnBlDX,gBAsBfY,EAAeA,EAAAA,IAAM,CACpB3c,EAAMyQ,OACX6L,UAAUC,UAAUC,UAAW,GAAEvG,IAAO5I,OAAQ,EAAC,EACjDrN,EAAM8J,QAAO,EACbqQ,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAOe,qBAAqB,CAAC,IAJlDD,gBAOfE,EAAaA,EAAAA,IAAM,CAClB7c,EAAMyQ,OACX6L,UAAUC,UAAUC,UAAW,GAAEvG,IAAO9J,MAAO,EAAC,EAChDnM,EAAM8J,QAAO,EACbqQ,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAOiB,aAAa,CAAC,IAJ5CD,cAObE,EAAcA,EAAAA,IAAM,CACnB/c,EAAMyQ,OACX6L,UAAUC,UAAUC,UAAW,GAAE/O,KAAKuP,UAAU/G,IAAOgC,GAAG,CAAE,EAAC,EAC7DjY,EAAM8J,QAAO,EACbqQ,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAOoB,kBAAkB,CAAC,IAJhDF,eAOdG,EAAeA,EAAAA,IAAM,CACpBld,EAAMyQ,OACX6L,UAAUC,UAAUC,UAAW,GAAEvG,EAAI,EAAG/M,KAAK8E,IAAK,EAAC,EACnDhO,EAAM8J,QAAO,EACbqQ,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAOsB,qBAAqB,CAAC,IAJlDD,gBAOfE,EAAgB1F,EAAA,SAAY,CAChC,GAAI,CAACnT,GAAW,CAACvE,EAAMyQ,KACrB,OAGF,KAAM,CAAEmH,QAAAA,CAAS,EAAG,MAAMyF,GAAepH,EAAM,EAACgC,IAA8B1T,EAAQ+Y,mBAAoB/Y,EAAQ2T,aAAc3T,EAAQgZ,aAAa,EAGrJ,GAFAvd,EAAM8J,QAAO,EAET8N,EAAS,CACXuC,GAASyB,YAAY/W,EAAKO,cAAcyW,GAAO2B,oBAAoB,CAAC,EACpE,MACF,CACArD,GAASzB,YAAY7T,EAAKO,cAAcyW,GAAO4B,iBAAiB,CAAC,GAZ7C,iBAehBC,EAAkB5a,EAAAA,GAAkB,EAEtC,CAAC9C,EAAMyQ,MACP,CAACqK,UAAU6C,eAAgB,gBAAe1H,EAAI,EAAGhS,EAAG,EAAC,GAAG2Z,SAAS9a,EAAE+a,MAAc,IAEjF7d,EAAM8J,QAAO,GALOhH,kBASxBkJ,EAAa,IAAM,CACbhM,EAAM4G,KACRkU,SAASgD,iBAAiB,QAASJ,CAAc,EAGjD5C,SAASiD,oBAAoB,QAASL,CAAc,CAExD,CAAC,EAOD,MAAMM,EAAqC,CACzC,CACEla,MAAOe,EAAKO,cAAcuC,EAASsW,YAAY9L,SAAS,EACxD6H,OAAQA,IAAM,CACZha,EAAMyQ,MAAMyN,eAAiBle,EAAMyQ,MAAMyN,cAAa,EACtDle,EAAM8J,QAAO,CACd,EACDjG,KAAM,OACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAY/O,GAAG,EAClD8K,OAAQA,IAAM,CACZha,EAAMyQ,MAAM0N,eAAiBne,EAAMyQ,MAAM0N,cAAa,EACtDne,EAAM8J,QAAO,CACd,EACDjG,KAAM,UACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYG,QAAQ,EACvDpE,OAAQ+B,EACRlY,KAAM,gBACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYI,QAAQ,EACvDrE,OAAQ2C,EACR9Y,KAAM,gBACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYK,MAAM,EACrDtE,OAAQ6C,EACRhZ,KAAM,cACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYM,OAAO,EACtDvE,OAAQ+C,EACRlZ,KAAM,eACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYO,SAAS,EACxDxE,OAAQoD,EACRvZ,KAAM,WACR,EACA,CACEC,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYQ,UAAU,EACzDzE,OAAQkD,EACRrZ,KAAM,aACR,CAAC,EAGG6a,EAA8CA,EAAAA,IAAM,CACxD,MAAMC,EAAUpa,GAASqa,MAAMC,SAAS5I,KAAQ/M,KAAK6E,MAAM,EAE3D,MAAO,CACL,CACEjK,MAAO6a,EAAW9Z,EAAKO,cAAcuC,EAASsW,YAAYa,YAAY,EAAIja,EAAKO,cAAcuC,EAASsW,YAAYc,UAAU,EAC5H/E,OAAQA,IAAM,CACZ2E,EAAUnD,EAAY,EAAKjB,EAAmB,EAAI,EAClDva,EAAM8J,QAAO,CACd,EACDjG,KAAM,YACNmb,QAAS,EACX,EACA,CACElb,MAAOe,EAAKO,cAAcuC,EAASsW,YAAYgB,YAAY,EAC3DjF,OAAQA,IAAM,CACZK,EAAqB,EAAI,EACzBra,EAAM8J,QAAO,CACd,EACDjG,KAAM,SACNmb,QAAS,EACX,CAAC,GArB+CN,6BAyB9CT,EAAcA,EAAAA,IAAM1Z,GAASuE,YAAcmN,EAAM,GAAElI,OACrD,CAAE,GAAGiQ,EAAwB,GAAGU,EAA2B,CAAA,EAC3DV,EAFgBC,eAIpB,IAAItD,EAEJ,OAAA,IAAA,CAAA,MAAAha,EAAAU,KAAA6d,EACuCvE,EAAO,cAAAuE,GAAAC,WAAAA,GAAAD,EAAAve,CAAA,EAAPga,EAAOha,EAAAG,EAAAH,EAAAI,EACzCqe,GAAY,CAAA,IACXxY,MAAI,CAAA,OAAEwT,EAAiB,CAAE,EAAA,IACzB5T,aAAW,CAAA,OAAE3B,EAAKO,cAAcuC,EAAS0X,kBAAmB,CAAE1L,KAAM2L,GAAWrJ,EAAM,GAAE/M,IAAI,CAAE,CAAC,CAAC,EAC/FvC,UAAWA,IAAM,CACf+U,IACArB,EAAqB,EAAK,CAC3B,EACDvT,QAASA,IAAMuT,EAAqB,EAAK,CAAC,CAAA,EAAA,IAAA,EAAAvZ,EAAAH,EAAAI,EAG3Cqe,GAAY,CAAA,IACXxY,MAAI,CAAA,OAAE0T,EAAe,CAAE,EAAA,IACvB9T,aAAW,CAAA,OAAE3B,EAAKO,cAAcuC,EAAS4X,gBAAiB,CAAE5L,KAAM2L,GAAWrJ,EAAM,GAAE/M,IAAI,CAAE,CAAC,CAAC,EAC7FvC,UAAWA,IAAM,CACf2U,IACAf,EAAmB,EAAK,CACzB,EACDzT,QAASA,IAAMyT,EAAmB,EAAK,CAAC,CAAA,EAAA,IAAA,EAAAzZ,EAAAH,EAAAI,EAGzCye,GAAU,CAAA,IACTvb,IAAE,CAAA,MAAG,gBAAegS,KAAQhS,EAAG,EAAC,EAAA,IAChCwb,OAAK,CAAA,OAAExB,EAAW,CAAE,EAAA,IACpB3L,QAAM,CAAA,MAAE,CAACtS,EAAM4G,IAAI,EACnB8T,SAAQ,eAAA,IACRF,aAAW,CAAA,OAAEA,EAAW,CAAE,CAAA,CAAA,EAAA,IAAA,EAAAhZ,MAAAO,EAAApB,EA1BlBgB,GAAO+d,WAAW,CAAA,EAAA/e,CAAA,IA8BlC,EAjQMX,mBAmQSqE,GAAAA,GAAW6V,EAAe,+hBCxQnCyF,GAMA3f,EAAAA,GAAU,CACd,MAAM6E,EAAO1E,KAEP,CAACyf,EAASC,CAAU,EAAI5U,GAAyB6U,EAAY,EAEnE9T,EAAa,IAAM,CACjB,GAAIhM,EAAM+f,KAAM,CACd,MAAMC,EAAmB5D,GAAAA,OAAOpc,EAAM+f,IAAI,EAC1CF,EAAWI,GAAUD,CAAG,CAAC,CAC3B,MACEH,EAAWI,GAAUH,EAAY,CAAC,CAEtC,CAAC,EAED,MAAMI,EAAaA,EAAAA,IAAM,CACvB,MAAMC,EAASP,EAAQQ,SAAS1R,KAAK2R,GAAKA,EAAE1M,OAAS,QAAQ,GAAGlB,MAC1D6N,EAAUV,EAAQQ,SAAS1R,KAAK2R,GAAKA,EAAE1M,OAAS,WAAW,GAAGlB,MAEpE,OAAO0N,EAASG,GAJCJ,cAObtR,EAASA,EAAAA,IACZ,GAAE2R,GAAepR,SAASyQ,EAAQQ,SAAS1R,KAAK2R,GAAKA,EAAE1M,OAAS,QAAQ,GAAGlB,OAAQ,GAAG,EAAI,GAAK,CAAE,QADrF7D,UAGTpI,EAAcA,EAAAA,IAClBga,UAAUZ,EAAQQ,SAAS1R,KAAK2R,GAAKA,EAAE1M,OAAS,aAAa,GAAGlB,KAAK,GAAK,GADxDjM,eAGpB,OAAAzF,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM4G,IAAI,EAChBqL,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8J,SAAW9J,EAAM8J,QAAS,EAAA,IACzEvD,OAAK,CAAA,OAAA,IAAA,CAAA,MAAA6N,EAAAxT,KAAAE,OAAAA,EAAAsT,EAAA,IAEAvP,EAAKO,cAAcqb,GAAUla,KAAK,CAAC,EAAA/E,MAAAO,EAAAqS,EAD1BzS,GAAO4E,KAAK,CAAA,EAAA6N,CAAA,IAAA,EAAA,IAI1B/B,cAAY,CAAA,OAAE1Q,GAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAX,WAAAH,EAAAe,EAAAkH,YAAA/H,EAAAF,EAAAiI,YAAA5B,EAAAnG,EAAA+H,YAAAtB,EAAA7F,EAAAmH,YAAAe,EAAArC,EAAAxG,WAAA4S,EAAA/J,EAAAf,YAAAvI,OAAAA,EAAAqB,EAAApB,EAKpB2f,GAAM,CAAA,IAACjQ,MAAI,CAAA,OAAEzQ,EAAM+f,MAAQ,EAAE,EAAExG,KAAI,WAAA,CAAA,CAAA,EAAAzY,EAAAM,EAGLoF,CAAW,EAAA1F,EAAAQ,EAChBsN,CAAM,EAAA9N,EAAAsJ,EAAA,IAO/BvF,EAAKO,cAAcqb,GAAUE,QAAS,CAAEC,KAAMC,GAAWX,IAAc,MAAM,EAAEpc,KAAO,CAAA,CAAC,EAAAhD,EAAAqT,EAAApT,EAGvFwG,EAAa,CAAA,IAAC3D,SAAO,CAAA,OAAE5D,EAAM8gB,KAAK,EAAA,IAAA7e,UAAA,CAAA,OAChC4C,EAAKO,cAAcqb,GAAUM,GAAG,CAAC,CAAA,CAAA,CAAA,EAAAvf,EAAAC,GAAA,CAAA,MAAAW,EAlBjCpC,EAAMiE,GAAE3B,EAASX,GAAOge,cAAaje,EAChCC,GAAOqf,KAAInf,EACTF,GAAOsf,OAAMxY,EAIb9G,GAAO6E,YAAW6D,EAClB1I,GAAOiN,OAAMrE,EAEb5I,GAAOuf,UAASzW,EAGlB9I,GAAOwf,OAAM3M,EACX7S,GAAOue,WAAUxL,EAGjB/S,GAAOyf,UAAShf,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAA4B,IAAA5I,EAAA4I,MAAAtI,EAAAT,EAAAG,EAAA4I,KAAAA,CAAA,EAAAE,IAAA9I,EAAA8I,MAAAxI,EAAA0F,EAAAhG,EAAA8I,KAAAA,CAAA,EAAAE,IAAAhJ,EAAAgJ,MAAA1I,EAAAgG,EAAAtG,EAAAgJ,KAAAA,CAAA,EAAA+J,IAAA/S,EAAA+S,MAAAzS,EAAAqI,EAAA3I,EAAA+S,KAAAA,CAAA,EAAAE,IAAAjT,EAAAiT,OAAA3S,EAAAoS,EAAA1S,EAAAiT,MAAAA,CAAA,EAAAjT,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,OAAAqI,KAAArI,OAAAuI,KAAAvI,OAAAyI,KAAAzI,OAAAwS,KAAAxS,OAAA0S,MAAA1S,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAStC,EA/DMX,iBAiESqE,GAAAA,GAAWsb,EAAa,gfCtEjC0B,GAMArhB,EAAAA,GAAU,CACd,MAAM6E,EAAO1E,KAEP,CAACyf,EAASC,CAAU,EAAI5U,GAAmB,CAAEqW,MAAO,CAAA,CAAE,CAAC,EAE7DtV,EAAa,IAAM,CACjB,GAAIhM,EAAMuhB,MAAO,CACf,MAAMvB,EAAawB,GAAgBxhB,EAAMuhB,KAAK,EAC9C1B,EAAWI,GAAUD,CAAG,CAAC,CAC3B,MACEH,EAAWI,GAAU,CAAEqB,MAAO,CAAA,CAAI,CAAA,CAAC,CAEvC,CAAC,EAED,MAAM1S,EAASA,EAAAA,IACZ,GAAEgR,EAAQ0B,MAAM,CAAC,GAAGG,OAAOC,OAAO,CAACC,EAAKzK,IAAMyK,EAAMzK,EAAEtI,OAAQ,CAAC,GAAK,CAAE,QAD1DA,UAGTpI,EAAcA,EAAAA,IAAMoZ,EAAQgC,MAAQ,GAAtBpb,eAEpB,OAAAzF,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM4G,IAAI,EAChBqL,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8J,SAAW9J,EAAM8J,QAAS,EAAA,IACzEvD,OAAK,CAAA,OAAA,IAAA,CAAA,MAAA6N,EAAAxT,KAAAE,OAAAA,EAAAsT,EAAA,IAEAvP,EAAKO,cAAcyc,GAAatb,KAAK,CAAC,EAAA/E,MAAAO,EAAAqS,EAD7BzS,GAAO4E,KAAK,CAAA,EAAA6N,CAAA,IAAA,EAAA,IAI1B/B,cAAY,CAAA,OAAE1Q,GAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAX,WAAAH,EAAAe,EAAAkH,YAAA/H,EAAAF,EAAAiI,YAAA5B,EAAAnG,EAAA+H,YAAAtB,EAAA7F,EAAAmH,YAAAe,EAAArC,EAAAxG,WAAA4S,EAAA/J,EAAAf,YAAAvI,OAAAA,EAAAqB,EAAApB,EAKpB2f,GAAM,CAAA,IAACjQ,MAAI,CAAA,OAAEzQ,EAAMuhB,OAAS,EAAE,EAAEhI,KAAI,OAAA,CAAA,CAAA,EAAAzY,EAAAM,EAGNoF,CAAW,EAAA1F,EAAAQ,EAChBsN,CAAM,EAAA9N,EAAAsJ,EAAArJ,EAO/BC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE2e,EAAQ0B,MAAM,CAAC,CAAC,EAAA,IAAArf,UAAA,CAAA,OACzB4C,EAAKO,cAAcyc,GAAaC,KAAM,CAAElR,IAAK,IAAImR,IAAInC,EAAQ0B,MAAM,CAAC,GAAGQ,IAAI,EAAEE,QAAS,CAAC,CAAC,CAAA,CAAA,CAAA,EAAAlhB,EAAAqT,EAAApT,EAI1FwG,EAAa,CAAA,IAAC3D,SAAO,CAAA,OAAE5D,EAAM8gB,KAAK,EAAA,IAAA7e,UAAA,CAAA,OAChC4C,EAAKO,cAAcyc,GAAaI,MAAM,CAAC,CAAA,CAAA,CAAA,EAAAzgB,EAAAC,GAAA,CAAA,MAAAW,EApBvCpC,EAAMiE,GAAE3B,EAASX,GAAO0f,iBAAgB3f,EACnCC,GAAOqf,KAAInf,EACTF,GAAOsf,OAAMxY,EAIb9G,GAAO6E,YAAW6D,EAClB1I,GAAOiN,OAAMrE,EAEb5I,GAAOuf,UAASzW,EAGlB9I,GAAOwf,OAAM3M,EACX7S,GAAOmgB,KAAIpN,EAKX/S,GAAOyf,UAAShf,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAA4B,IAAA5I,EAAA4I,MAAAtI,EAAAT,EAAAG,EAAA4I,KAAAA,CAAA,EAAAE,IAAA9I,EAAA8I,MAAAxI,EAAA0F,EAAAhG,EAAA8I,KAAAA,CAAA,EAAAE,IAAAhJ,EAAAgJ,MAAA1I,EAAAgG,EAAAtG,EAAAgJ,KAAAA,CAAA,EAAA+J,IAAA/S,EAAA+S,MAAAzS,EAAAqI,EAAA3I,EAAA+S,KAAAA,CAAA,EAAAE,IAAAjT,EAAAiT,OAAA3S,EAAAoS,EAAA1S,EAAAiT,MAAAA,CAAA,EAAAjT,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,OAAAqI,KAAArI,OAAAuI,KAAAvI,OAAAyI,KAAAzI,OAAAwS,KAAAxS,OAAA0S,MAAA1S,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAStC,EAzDMX,oBA2DSqE,GAAAA,GAAWgd,EAAgB,k1CC1D7Ba,GAAY,IA4BZC,GAAW,CAAC,OAAQ,MAAO,OAAQ,QAAS,MAAO,MAAO,EAAE,EAEnEC,GAKApiB,EAAAA,GAAU,CAEd,MAAMuE,EAAUC,KAEV,CAAC6d,EAAOC,CAAW,EAAIrX,GAAuB,CAClDsX,MAAO,CAAE,EACTC,aAAcxgB,OACdygB,aAAczgB,OACd0gB,gBAAiB,GACjBC,aAAc,CAAC,CACjB,CAAC,EAED,IAAIC,EAEJ5W,EAAa,IAAM,CACjB,MAAM6W,EAAS7iB,EAAM6iB,OAEjBA,GACFC,EAASD,CAAM,CAEnB,CAAC,EAED7W,EAAa,IAAM,CACbhM,EAAM6iB,SAAW,CAACD,GAAgBA,EAAaG,aAAeC,UAAUC,QAC1EC,EAAiB,IAAM,CACrB,GAAI,CAACN,GAAgBA,EAAaG,aAAeC,UAAUG,KAAM,OAEjE,MAAMrW,EAAS,MAAKC,EAAO,GAErBE,EAAQmW,GAAMR,EAAc9V,EAAO,CAACyM,EAAMnM,EAAGC,IAAY,CAC7D,GAAIkM,IAAS,QAAS,CACpB,MAAM8J,EAA6B5V,KAAKC,MAAML,GAASA,SAAW,eAAe,EAE3EiW,EAAeC,WAAWF,EAASG,IAAI,GAAK,EAE5CC,EAAeH,EAAepB,GAC9BwB,EAAc,EAAIJ,EAClBK,EAAe,EAAIF,EAEzBnB,EAAY,eAAgB,KAAO,CACjCsB,IAAK,CACHvK,KAAMsK,EACNE,IAAKH,EACLE,IAAK,CACN,EACDvK,KAAM,CACJA,KAAM,EACNuK,IAAKH,EACLI,IAAK,EAAI3B,EACV,EACD2B,IAAK,CACHxK,KAAM6I,GACN0B,IAAKN,EACLO,IAAK,CACP,CACD,EAAC,CACJ,CAEItK,IAAS,SACXtM,IACA2V,GAAckB,MAAK,EAEvB,CAAC,EAEDC,GAAgBxf,GAASuE,UAAWgE,EAAO,MAAO8V,CAAY,CAChE,CAAC,EAEDA,GAAckB,MAAK,CAEvB,CAAC,EAED,MAAMhB,EAAYD,EAAAA,GAAuB,CACvC,GAAI,CAACA,EAAQ,OAEb,MAAM/V,EAAS,sBAAqBC,EAAO,GAE3C,IAAIwV,EAAgB,CAAA,EAEpB,MAAMtV,EAAQC,GAAOJ,EAAO,CAC1BK,QAASA,CAACC,EAAGC,IAAY,CACvB,GAAIA,EAAQC,OAASC,EAAKyW,UAItB3W,EAAQC,OAASC,EAAK0W,KAAM,CAC9B,MAAM5e,EAAIgI,EAEV,IAAI6W,EAAQ7e,EAAEoJ,MAAM0V,OAAQ9e,GAAgBA,EAAE,CAAC,IAAM,QAAQ,EAAE4J,IAAK5J,IAClE,CACEuJ,OAAQvJ,EAAE,CAAC,EACX+e,KAAM/e,EAAE,CAAC,EACTgf,QAAShf,EAAE,CAAC,EACZpB,GAAK,GAAEoB,EAAE,CAAC,CAAE,IAAGA,EAAE,CAAC,CAAE,IAAGA,EAAE,CAAC,CAAE,IAC5B,GAAK,CAAA,EAET,MAAMif,EAAO,CACX/d,OAAQlB,EAAEoJ,MAAMC,KAAMrJ,GAAgBA,EAAE,CAAC,IAAM,OAAO,GAAK,CAAA,GAAI,CAAC,GAAKA,EAAEgI,SAAW,GAClFpJ,GAAIoB,EAAEpB,IAAM,GACZoJ,QAAShI,EAAEgI,SAAW,GACtBkX,MAAOlf,EAAEoJ,MAAM0V,OAAQ9e,GAAgBA,EAAE,CAAC,IAAM,MAAM,EAAE4J,IAAK5J,GAAgBA,EAAE,CAAC,CAAC,GAAK,CAAE,EACxF6e,MAAAA,EACAM,QAASnf,EAAEoJ,MAAMC,KAAMrJ,GAAgBA,EAAE,CAAC,IAAM,QAAQ,GAAK,CAAA,GAAI,CAAC,GAAKA,EAAEgI,SAAW,GACpFoX,MAAOpf,EACPqf,WAAYR,EAAM,CAAC,GAGrB3B,EAAMpU,KAAKmW,CAAI,EAEf,MACF,CACD,EACDlW,OAAQA,IAAM,CACZnB,IACAqV,EAAY,kBAAmB,IAAM,EAAK,EAC1CA,EAAY,QAAS,IAAM,CAAC,GAAGC,CAAK,CAAC,EACrC,MAAM+B,EAAyB/B,EAAM1U,OAAS,EAAI8W,OAAOC,OAAOrC,EAAM,CAAC,CAAC,EAAIvgB,OAC5EsgB,EAAY,eAAgB,IAAMgC,EAAQ,CAAE,GAAGA,CAAM,EAAItiB,MAAS,EAClEsgB,EAAY,eAAgB,IAAMgC,EAAQ,CAAE,GAAGA,GAAMJ,MAAM,CAAC,CAAG,EAAIliB,MAAS,CAC9E,CACF,CAAC,EAEDsgB,EAAY,kBAAmB,IAAM,EAAI,EACzCuC,GAA2BhC,EAAO9U,OAAQjB,CAAK,GAnD/B+V,YAsDZiC,EAAcR,EAAAA,GAAe,CAC7BA,EAAKrgB,KAAOoe,EAAMG,cAAcve,KAClCqe,EAAY,eAAgB,KAAO,CAAE,GAAGgC,CAAM,EAAC,EAC/ChC,EAAY,eAAiByC,IAAQ,CAAE,GAAGC,EAAYV,CAAI,EAAE,CAAC,CAAG,EAAE,IAHlDA,cAOdW,EAAkBX,EAAAA,GAAeA,EAAKrgB,KAAOoe,EAAMG,cAAcve,GAA/CqgB,kBAGlBU,EAAeV,EAAAA,GACZA,EAAKJ,MAAMC,OAAOe,GAAQ/C,GAAStD,SAASqG,EAAKd,IAAI,CAAC,EAD1CE,eAIfa,EAAeD,EAAAA,GAA+B,CAClD,IAAIE,EAAO,GAEX,OAAOF,GAAMd,KAAI,CACf,IAAK,OACL,IAAK,QACL,IAAK,GACHgB,EAAQ,GAAE/N,KAAKgO,KAAKlW,SAAS+V,GAAMtW,QAAU,GAAG,EAAI,GAAK,CAAE,QAC3D,MACF,IAAK,OACL,IAAK,MACHwW,EAAQ,GAAEF,EAAKtW,MAAO,QACtB,MACF,IAAK,MACL,IAAK,MACHwW,EAAQ,GAAEF,EAAKtW,MAAO,MAC1B,CAEA,OAAOwW,GAlBYF,eAqBfhC,EAAoBoC,EAAAA,GAAuB,CAC/C1C,EAAe,IAAII,UAAU,4BAA4B,EAEzDJ,EAAa9E,iBAAiB,QAAS,IAAM,CAC3CyH,GAAQ,sBAAsB,CAChC,CAAC,EAED3C,EAAa9E,iBAAiB,OAAQ,IAAM,CAC1CyH,GAAQ,sBAAsB,EAC9BD,GACF,CAAC,GAVuBA,oBAa1B,OAAAvkB,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM6iB,SAAW7gB,MAAS,EAChCiQ,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8J,SAAW9J,EAAM8J,QAAS,EAAA,IACzEvD,OAAK,CAAA,OAAA,IAAA,CAAA,MAAAwB,EAAAd,GAAA,EAAAmD,EAAArC,EAAAxG,WAAA4S,EAAA/J,EAAA7I,WAAA6S,EAAAD,EAAA9K,YAAAvI,OAAAA,EAAAiH,EAAAhH,EAEAiI,GAAM,CAAA,IAACE,MAAI,CAAA,OAAElJ,EAAM6iB,MAAM,CAAA,CAAA,EAAAzY,CAAA,EAAAtJ,EAAAqT,EAGrB7K,IAAAA,GAAStJ,EAAM6iB,MAAM,EAAC,IAAA,EAAA/hB,EAAAqT,EAAApT,EACtB2S,GAAiB,CAAA,IAACxK,MAAI,CAAA,OAAElJ,EAAM6iB,MAAM,CAAA,CAAA,EAAA,IAAA,EAAA/hB,EAAAsT,EAAA,IAGpCpU,EAAM6iB,QAAQrZ,KAAK,EAAAhI,EAAAC,GAAA,CAAA,MAAA8I,EARd5I,EAAO8H,SAAQgB,EAEb9I,EAAO6jB,SAAQhR,EACb7S,EAAO2H,SAAQoL,EAIf/S,EAAO6H,MAAKe,OAAAA,IAAA9I,EAAA8I,MAAAxI,EAAAgG,EAAAtG,EAAA8I,KAAAA,CAAA,EAAAE,IAAAhJ,EAAAgJ,MAAA1I,EAAAqI,EAAA3I,EAAAgJ,KAAAA,CAAA,EAAA+J,IAAA/S,EAAA+S,MAAAzS,EAAAoS,EAAA1S,EAAA+S,KAAAA,CAAA,EAAAE,IAAAjT,EAAAiT,OAAA3S,EAAAqS,EAAA3S,EAAAiT,MAAAA,CAAA,EAAAjT,CAAA,EAAA,CAAA8I,KAAAvI,OAAAyI,KAAAzI,OAAAwS,KAAAxS,OAAA0S,MAAA1S,MAAA,CAAA,EAAA+F,CAAA,IAAA,EAAA,IAM9BsK,cAAY,CAAA,OAAE1Q,EAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAC,GAAA,EAAAsB,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAX,WAAAH,EAAAc,EAAAmH,YAAA/H,EAAAF,EAAAG,WAAAT,OAAAA,EAAAqB,EAAApB,EAKpBC,EAAI,CAAA,IACHC,MAAI,CAAA,MAAE,CAACohB,EAAMK,eAAe,EAAA,IAC5BvhB,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAAwT,EAAAtT,KAAAP,OAAAA,EAAA6T,EAAA5T,EAAQiT,GAAM,CAAA,CAAA,CAAA,EAAAW,CAAA,IAAA,EAAA,IAAA1S,UAAA,CAAA,OAAAlB,EAErBmG,GAAG,CAAA,IACFC,MAAI,CAAA,OAAEkb,EAAME,KAAK,EAAA,IACjBphB,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAA0T,EAAAD,KAAApT,OAAAA,MAAAO,EAAA8S,EACMlT,EAAO8jB,OAAO,CAAA,EAAA5Q,CAAA,IAAA,EAAA5S,SAK1BqiB,IAAI,IAAA,CAAA,MAAAxP,EAAA4Q,GAAA,EAAA3Q,EAAAD,EAAAvT,WAAAiU,EAAAT,EAAA1L,YAAAqM,EAAAF,EAAAnM,YAAAyL,OAAAA,EAAAjU,QAGO,IAAMikB,EAAWR,CAAI,EAACxjB,EAAAiU,EAEAuP,IAAAA,EAAK/d,KAAK,EAAAzF,EAAAgU,EAAA/T,EAExCC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAE+jB,EAAYV,CAAI,EAAEzW,OAAS,GAAKwU,EAAMG,cAAcve,KAAOqgB,EAAKrgB,EAAE,EAAA,IACxE9C,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAAwU,EAAAgQ,GAAA,EAAAC,EAAAjQ,EAAApU,WAAAskB,EAAAD,EAAAvc,YAAAvI,OAAAA,EAAA8kB,EAEHT,IAAAA,EAAYH,EAAYV,CAAI,EAAE,CAAC,CAAC,CAAC,EAAAxjB,EAAA+kB,EAAA,IAGjCb,EAAYV,CAAI,EAAE,CAAC,EAAED,OAAO,EAAA7iB,EAAAC,GAAA,CAAA,MAAAmU,EALXjU,EAAOujB,KAAIrP,EACnBlU,EAAOiN,OAAMkX,EAGbnkB,EAAOokB,SAAQnQ,OAAAA,IAAAnU,EAAAmU,OAAA7T,EAAA4T,EAAAlU,EAAAmU,MAAAA,CAAA,EAAAC,IAAApU,EAAAoU,OAAA9T,EAAA6jB,EAAAnkB,EAAAoU,MAAAA,CAAA,EAAAiQ,IAAArkB,EAAAqkB,OAAA/jB,EAAA8jB,EAAApkB,EAAAqkB,MAAAA,CAAA,EAAArkB,CAAA,EAAA,CAAAmU,MAAA5T,OAAA6T,MAAA7T,OAAA8jB,MAAA9jB,MAAA,CAAA,EAAA2T,CAAA,IAAA,EAAA,IAAA1T,UAAA,CAAA,OAAAlB,EAK5BilB,GAAM,CAAA,IAAA,OAAA,CAAA,OACErkB,EAAOskB,WAAW,EAAA,IACzBnM,SAAO,CAAA,OAAEkL,EAAYV,CAAI,CAAC,EAC1B4B,YAAW,KAAA,IACXzT,OAAK,CAAA,OAAE4P,EAAMI,YAAY,EACzB/P,SAAWwS,GAAS,CAGlB5C,EAAY,eAAgB,KAAO,CAAE,GAAG4C,CAAM,EAAC,CAChD,EACDiB,cAAenmB,GAAKe,EACjBilB,GAAOI,KAAI,CAAA,IAACC,MAAI,CAAA,OAAErmB,EAAMqmB,IAAI,EAAA,IAAA,OAAA,CAAA,OAAS1kB,EAAOujB,IAAI,EAAA,IAAAjjB,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAAqkB,EAAAjlB,KAAAP,OAAAA,EAAAwlB,EAAA,IAE5CnB,EAAYnlB,EAAMqmB,KAAKE,QAAQ,CAAC,EAAA/kB,MAAAO,EAAAukB,EADvB3kB,EAAOiN,MAAM,CAAA,EAAA0X,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAE,EAAAnlB,KAAAP,OAAAA,EAAA0lB,EAItBxmB,IAAAA,EAAMqmB,KAAKE,SAASlC,OAAO,EAAA7iB,MAAAO,EAAAykB,EADlB7kB,EAAOokB,QAAQ,CAAA,EAAAS,CAAA,GAAA,CAAA,CAAA,EAI9B,EAAA,IAAAvkB,UAAA,CAAA,MAAA,CAAAlB,EAEAilB,GAAOnT,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQlR,EAAO8kB,aAAa,EAAA,IAAAxkB,UAAA,CAAA,OAAAlB,EACxCilB,GAAOU,MAAK,CAAA,IAAA,OAAA,CAAA,OAAQ/kB,EAAOglB,WAAW,EAAA1kB,SACpC2kB,GAAS,CACR,MAAM1B,EAAO0B,EAAMC,iBAEnB,OAAA,IAAA,CAAA,MAAAC,EAAAC,GAAA,EAAAC,EAAAF,EAAAvlB,WAAA0lB,EAAAD,EAAA3d,YAAA6d,EAAAD,EAAA1lB,WAAA4lB,EAAAD,EAAA7d,YAAAvI,OAAAA,EAAAkmB,EAAA,IAGO7B,EAAYD,CAAI,CAAC,EAAApkB,EAAAomB,EAGZhC,IAAAA,GAAMb,OAAO,EAAA7iB,EAAAC,GAAA,CAAA,MAAA2lB,EALXzlB,EAAOujB,KAAImC,EACT1lB,EAAOiN,OAAM0Y,EAGb3lB,EAAOokB,SAAQwB,EAEb5lB,EAAO6lB,SAAQJ,OAAAA,IAAA3lB,EAAA2lB,OAAArlB,EAAA+kB,EAAArlB,EAAA2lB,MAAAA,CAAA,EAAAC,IAAA5lB,EAAA4lB,OAAAtlB,EAAAilB,EAAAvlB,EAAA4lB,MAAAA,CAAA,EAAAC,IAAA7lB,EAAA6lB,OAAAvlB,EAAAklB,EAAAxlB,EAAA6lB,MAAAA,CAAA,EAAAC,IAAA9lB,EAAA8lB,OAAAxlB,EAAAolB,EAAA1lB,EAAA8lB,MAAAA,CAAA,EAAA9lB,CAAA,EAAA,CAAA2lB,MAAAplB,OAAAqlB,MAAArlB,OAAAslB,MAAAtlB,OAAAulB,MAAAvlB,MAAA,CAAA,EAAA8kB,CAAA,IAKnC,CAAC,CAAA,CAAA,CAAA,CAAA,EAAA/lB,EAGJilB,GAAOyB,OAAM,CAAA,IAAAxlB,UAAA,CAAA,OAAAlB,EACXilB,GAAO9S,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQvR,EAAO+lB,aAAa,EAAA,IAAAzlB,UAAA,CAAA,OAAAlB,EACxCilB,GAAO2B,QAAO,CAAA,IAAA,OAAA,CAAA,OAAQhmB,EAAOimB,aAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAApS,CAAA,EAAA1U,EAAA0U,EAQhD8O,IAAAA,EAAKjX,OAAO,EAAAvM,EAAA4U,EAAA3U,EAGZmG,GAAG,CAAA,IAACC,MAAI,CAAA,OAAEmd,EAAKC,KAAK,EAAAtiB,SAClB4lB,IAAI,IAAA,CAAA,MAAAC,EAAAnC,GAAA,EAAAoC,EAAAD,EAAAvmB,WAAAymB,EAAAD,EAAA1e,YAAAvI,OAAAA,EAAAknB,EAGyBH,CAAI,EAAArmB,EAAAC,GAAA,CAAA,MAAAwmB,EAFpBtmB,EAAOkmB,KAAIK,EACTvmB,EAAOwmB,UAASC,EAChBzmB,EAAOyjB,KAAI6C,OAAAA,IAAAxmB,EAAAwmB,OAAAlmB,EAAA+lB,EAAArmB,EAAAwmB,MAAAA,CAAA,EAAAC,IAAAzmB,EAAAymB,OAAAnmB,EAAAgmB,EAAAtmB,EAAAymB,MAAAA,CAAA,EAAAE,IAAA3mB,EAAA2mB,OAAArmB,EAAAimB,EAAAvmB,EAAA2mB,MAAAA,CAAA,EAAA3mB,CAAA,EAAA,CAAAwmB,MAAAjmB,OAAAkmB,MAAAlmB,OAAAomB,MAAApmB,MAAA,CAAA,EAAA8lB,CAAA,GAAA,CAE1B,CAAA,CAAA,EAAAtmB,EAAAC,GAAA,CAAA,MAAAuT,EA5EG,GAAErT,EAAO2iB,IAAK,IAAGW,EAAeX,CAAI,EAAI3iB,EAAOyX,SAAW,EAAG,GAACnE,EAG1DtT,EAAO0mB,UAASnT,EA+DhBvT,EAAO0L,QAAO8H,EAGdxT,EAAO4iB,MAAKvP,OAAAA,IAAAvT,EAAAuT,OAAAjT,EAAA+S,EAAArT,EAAAuT,MAAAA,CAAA,EAAAC,IAAAxT,EAAAwT,OAAAlT,EAAAgT,EAAAtT,EAAAwT,MAAAA,CAAA,EAAAC,IAAAzT,EAAAyT,OAAAnT,EAAAyT,EAAA/T,EAAAyT,MAAAA,CAAA,EAAAC,IAAA1T,EAAA0T,OAAApT,EAAA2T,EAAAjU,EAAA0T,MAAAA,CAAA,EAAA1T,CAAA,EAAA,CAAAuT,MAAAhT,OAAAiT,MAAAjT,OAAAkT,MAAAlT,OAAAmT,MAAAnT,MAAA,CAAA,EAAA8S,CAAA,GAAA,CAY3B,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAhU,EAAAQ,EAAAP,EASJunB,GAAe,CACdC,MAAO,GAAI,IACX3kB,SAAO,CAAA,OAAE5D,EAAM8J,OAAO,EAAA7H,SAAA,QAAA,CAAA,CAAA,EAAAnB,EAAAM,EAAAL,EAMzBC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEohB,EAAMG,YAAY,EAAA,IAAAvgB,UAAA,CAAA,MAAAwF,EAAApG,KAAAP,OAAAA,EAAA2G,EAAA1G,EAEzBwG,EAAa,CACZ3D,QAASA,IAAMye,EAAMG,cAAgBH,EAAMI,cAAgBziB,EAAMwoB,YAAYnG,EAAMG,aAAcH,EAAMI,aAAcJ,EAAMM,YAAY,EAAC1gB,SAAA,WAAA,CAAA,CAAA,EAAAT,MAAAO,EAAA0F,EAFhI9F,EAAOyf,SAAS,CAAA,EAAA3Z,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAjG,EAAAC,GAAA,CAAA,MAAAW,EApHzBpC,EAAMiE,GAAE3B,EAASX,EAAO8mB,kBAAiB/mB,EACpCC,EAAO+mB,UAAS7mB,EACdF,EAAO4gB,MAAK9Z,EAuGd9G,EAAOwf,OAAM9W,EACX1I,EAAOyf,UAAShf,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAA4B,IAAA5I,EAAA4I,MAAAtI,EAAAT,EAAAG,EAAA4I,KAAAA,CAAA,EAAA5I,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,OAAAqI,KAAArI,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAsBtC,EAjUMX,0BAmUN2oB,GAAetkB,GAAW+d,EAAsB,EAAE3f,GAAA,CAAA,OAAA,CAAA,oTC5W5CmmB,GAOA5oB,EAAAA,GAAU,CAEd,MAAM6E,EAAO1E,KACPkW,EAAQC,KACE9R,GAAmB,EAEnC,IAAIqkB,EAEJ,KAAM,CAACC,EAAKC,CAAM,EAAIje,EAAa,EAAE,EAE/Bke,EAAatR,EAAA,SAAY,CAC7B,MAAMuR,EAAMjpB,EAAMkpB,gBAAkB,GAEpC,OADY,MAAMC,GAAeL,EAAK,EAAEG,CAAG,GAF1B,cAMbtiB,EAAY+Q,EAAA,SAAW,CAC3B,GAAI,CAAC0R,EAAY,OAGjB,MAAMC,EAAM,MAAML,IAElB,GAAI,CACF,MAAMM,EAAUnN,GAAMC,OAAOiN,CAAG,EAEhC,GAAIC,EAAQ/P,OAAS,QAAU,CAAC+P,EAAQ7Y,KACtC,KAAM,uBAIR8Y,GAAcT,EAAG,CAAE,EAGnB9oB,EAAM6J,WAAa7J,EAAM6J,UAAUwf,CAAG,CACvC,OAAOvmB,EAAG,CACT0mB,GAAS,0BAA2B1mB,CAAC,EACrCuT,GAAOqC,YAAY,kBAAkB,CACvC,GArBgB,aAyBlB1M,EAAa,IAAM,CACbhM,EAAM4G,MACR+Q,WAAW,IAAMkR,GAAUhiB,MAAO,EAAE,GAAG,CAE3C,CAAC,EAED,MAAMuiB,EAAaA,EAAAA,IACVN,EAAG,EAAGjb,OAAS,EADLub,cAIbK,EAAW3mB,EAAAA,GAAqB,CAChCA,EAAE4mB,OAAS,SAAWN,EAAU,GAClCziB,KAFa7D,WAMjB,OAAA/B,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM4G,IAAI,EAChBqL,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8G,SAAW9G,EAAM8G,QAAS,EAAA,IACzEP,OAAK,CAAA,OAAA,IAAA,CAAA,MAAAjF,EAAAV,KAAAE,OAAAA,EAAAQ,EAAA,IAEAuD,EAAKO,cAAcukB,GAAKC,UAAU,CAAC,EAAApoB,MAAAO,EAAAT,EAD1BK,GAAO4E,KAAK,CAAA,EAAAjF,CAAA,IAAA,EAAA,IAI1B+Q,cAAY,CAAA,OAAE1Q,GAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAmH,YAAAjI,EAAAe,EAAAkH,YAAAvI,OAAAA,EAAAoB,EAAA,IAItB2C,EAAKO,cAAcukB,GAAKE,KAAK,CAAC,EAAA/oB,EAAAqB,EAAApB,EAG9BuY,GAAS,CACRC,KAAI,WAAAuQ,IAAAC,EAAA,CAAA,MAAA7K,EACC2J,EAAQ,OAAA3J,cAAAA,EAAA6K,CAAA,EAARlB,EAAQkB,CAAA,EAAA,IACbtX,OAAK,CAAA,OAAEqW,EAAG,CAAE,EACZW,QAASA,EACT/W,SAAWuW,GAAgBF,EAAOE,CAAG,EAAC,IACtCe,iBAAe,CAAA,OAAElB,EAAK,EAACjb,SAAW,GAAKub,EAAY,EAAG,QAAU,SAAS,EAAA,IACzEa,cAAY,CAAA,OAAEplB,EAAKO,cAAcukB,GAAKO,YAAY,CAAC,CAAA,CAAA,CAAA,EAAAppB,EAAAM,EAAAL,EAIpDwG,EAAa,CACZ3D,QAAS+C,EAAS,IAClBwjB,UAAQ,CAAA,MAAE,CAACf,EAAU,CAAE,EAAA,IAAAnnB,UAAA,CAAA,OAEtB4C,EAAKO,cAAcuC,EAASyiB,KAAK,CAAC,CAAA,CAAA,EAAA,IAAA,EAAAtpB,EAAAM,EAAAL,EAGpCunB,GAAe,CAAA,IACd1kB,SAAO,CAAA,OAAE5D,EAAMqqB,QAAQ,EAAA,IAAApoB,UAAA,CAAA,OAEtB4C,EAAKO,cAAcuC,EAAS2iB,SAAS,CAAC,CAAA,CAAA,EAAA,IAAA,EAAA9oB,EAAAC,GAAA,CAAA,MAAAW,EA1BpCpC,EAAMiE,GAAE3B,EAASX,GAAO4oB,MAAK7oB,EACxBC,GAAO6E,YAAW3E,EAGlBF,GAAO6oB,OAAM/hB,EAWb9G,GAAOoF,QAAO3E,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAAhH,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAiBlC,EApGMX,iBAsGSqE,GAAAA,GAAWukB,EAAa,oRCpHjC6B,GAKAzqB,EAAAA,GAAU,CAEd,MAAM6E,EAAO1E,KACPF,EAAWC,KAEXwqB,EAAkBA,EAAAA,IAAM,CAC5B1qB,EAAM8G,SAAW9G,EAAM8G,UACvB7G,EAAS,MAAM,GAFOyqB,mBAKxB,OAAA3pB,EACGiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM4G,IAAI,EAChBqL,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8G,SAAW9G,EAAM8G,QAAS,EAAA,IACzEP,OAAK,CAAA,OAAA,IAAA,CAAA,MAAAkB,EAAA7G,KAAAE,OAAAA,EAAA2G,EAAA,IAEF5C,EAAKO,cAAcuC,EAASW,UAAU,CAAC,EAAA9G,MAAAO,EAAA0F,EAD9B9F,GAAO4E,KAAK,CAAA,EAAAkB,CAAA,IAAA,EAAA,IAIxB4K,cAAY,CAAA,OAAE1Q,GAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAmH,YAAAjI,EAAAe,EAAAkH,YAAA/H,EAAAF,EAAAG,WAAAT,OAAAA,EAAAoB,EAAA,IAItB2C,EAAKO,cAAcC,GAAEslB,oBAAoB,CAAC,EAAA7pB,EAAAqB,EAAApB,EAG1CwG,EAAa,CACZ3D,QAAS8mB,EAAe,IAAAzoB,UAAA,CAAA,OAEvB4C,EAAKO,cAAcuC,EAASijB,aAAa,CAAC,CAAA,CAAA,CAAA,EAAA9pB,EAAAM,EAI9CyD,IAAAA,EAAKO,cAAcC,GAAEwlB,kBAAkB,EAACvpB,CAAA,EAAAR,EAAAM,EAAAL,EACtC+pB,GAAU,CAAA,IAAClnB,SAAO,CAAA,OAAE5D,EAAM+qB,OAAO,EAAA,IAAA9oB,UAAA,CAAA,OAC/B4C,EAAKO,cAAcuC,EAASqjB,QAAQ,CAAC,CAAA,CAAA,EAAA,IAAA,EAAAxpB,EAAAC,GAAA,CAAA,MAAAW,EAdnCpC,EAAMiE,GAAE3B,EAASX,GAAO4oB,MAAK7oB,EACxBC,GAAO6E,YAAW3E,EAGlBF,GAAOoF,QAAO0B,EAOd9G,GAAOspB,YAAW7oB,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAAhH,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAUtC,EA1CMX,sBA4CSqE,GAAAA,GAAWomB,EAAkB,8SC9CtCS,GAIAlrB,EAAAA,GAAU,CAEd,MAAM6E,EAAO1E,KACPoE,EAAUC,KAEV,CAAC2mB,EAAMC,CAAO,EAAItgB,EAAuC,OAAO,EAChE,CAACugB,EAAYC,CAAa,EAAIxgB,EAAa,EAAE,EAEnD,IAAIygB,EAEJ,MAAMR,EAAUA,EAAAA,IAAM,CACpB,MAAM7kB,EAAMmlB,IAEPG,EAAW,IAEhBjnB,GAASwC,QAAQ0kB,OAAOvlB,CAAG,EAC3BklB,EAAQ,IAAM,KAAK,IANLL,WASVW,EAAcxlB,EAAAA,GAA4B,CAC9CylB,GAASzlB,CAAG,EACZY,KAFkBZ,cAKdY,EAAUA,EAAAA,IAAM,CACpBskB,EAAQ,IAAM,OAAO,EACrBE,EAAc,EAAE,EAChBtrB,EAAM8G,SAAW9G,EAAM8G,WAHTA,WAMV0kB,EAA6BA,EAAAA,IAAM,CACvC,MAAMI,EAAMP,IAEZ,GAAIO,EAAI/d,SAAW,EACjB,MAAO,GAGT,GAAI+d,EAAIvkB,WAAW,MAAM,EACvB,GAAI,CACF,MAAMiiB,EAAUnN,GAAMC,OAAOwP,CAAG,EAEhC,OAAOtC,EAAQ/P,OAAS,QAAU+P,EAAQ7Y,IAC3C,MAAU,CACT,MAAO,EACT,CAGF,MAAO,IAjB0B+a,eAoBnCxf,EAAa,IAAM,CACbhM,EAAM4G,MAAQukB,EAAI,IAAO,SAC3BI,GAAY1kB,MAAK,CAErB,CAAC,EAED,MAAM4iB,EAAW3mB,EAAAA,GAAqB,CAChCA,EAAE4mB,OAAS,SAAW8B,EAAW,GACnCT,KAFajoB,WAMjB,OAAA/B,EACGuG,GAAM,CAAA,IAAArF,UAAA,CAAA,MAAAlB,CAAAA,EACJ8G,GAAK,CAAA,IAAC5G,MAAI,CAAA,OAAEkqB,EAAM,IAAK,OAAO,EAAA,IAAAlpB,UAAA,CAAA,OAAAlB,EAC5BiR,GAAoB,CAAA,IACnBpL,MAAI,CAAA,OAAE5G,EAAM4G,IAAI,EAChBqL,QAAUC,GAAoB,CAACA,GAAUlS,EAAM8G,SAAW9G,EAAM8G,QAAS,EAAA,IACzEP,OAAK,CAAA,OAAA,IAAA,CAAA,MAAAjF,EAAAV,KAAAE,OAAAA,EAAAQ,EAAA,IAEAuD,EAAKO,cAAcymB,GAAOtlB,KAAK,CAAC,EAAA/E,MAAAO,EAAAT,EADvBK,GAAO4E,KAAK,CAAA,EAAAjF,CAAA,IAAA,EAAA,IAI1B+Q,cAAY,CAAA,OAAE1Q,GAAO2Q,MAAM,EAAA,IAAArQ,UAAA,CAAA,MAAAtB,EAAAU,GAAA,EAAAa,EAAAvB,EAAAY,WAAAY,EAAAD,EAAAmH,YAAAjI,EAAAe,EAAAkH,YAAAvI,OAAAA,EAAAoB,EAAA,IAItB2C,EAAKO,cAAcymB,GAAOrlB,WAAW,CAAC,EAAA1F,EAAAqB,EAAApB,EAGtCuY,GAAS,CAAAwQ,IAAAC,EAAA,CAAA,MAAA7K,EACHqM,EAAU,OAAArM,cAAAA,EAAA6K,CAAA,EAAVwB,EAAUxB,CAAA,EACfxQ,KAAI,WAAA,IACJ9G,OAAK,CAAA,OAAE4Y,EAAU,CAAE,EACnB5B,QAASA,EACT/W,SAAU4Y,EAAa,IACvBtB,iBAAe,CAAA,OAAEqB,EAAY,EAACxd,SAAW,GAAK2d,EAAa,EAAG,QAAU,SAAS,EAAA,IACjFvB,cAAY,CAAA,OAAEplB,EAAKO,cAAcymB,GAAOC,WAAW,CAAC,CAAA,CAAA,CAAA,EAAAhrB,EAAAM,EAAAL,EAIrDwG,EAAa,CACZ3D,QAASmnB,EAAO,IAChBZ,UAAQ,CAAA,OAAEkB,EAAU,EAAGxd,SAAW,GAAK,CAAC2d,EAAW,CAAE,EAAA,IAAAvpB,UAAA,CAAA,OAEpD4C,EAAKO,cAAcuC,EAASyiB,KAAK,CAAC,CAAA,CAAA,CAAA,EAAA5oB,EAAAC,GAAA,CAAA,MAAAW,EApBhCpC,EAAMiE,GAAE3B,EAASX,GAAO4oB,MAAK7oB,EACxBC,GAAO6E,YAAW3E,EAGlBF,GAAO6oB,OAAM/hB,EAWb9G,GAAOoF,QAAO3E,OAAAA,IAAAX,EAAAW,KAAAgC,GAAAzD,EAAAc,KAAAA,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAApB,EAAAc,EAAAa,KAAAA,CAAA,EAAAZ,IAAAD,EAAAC,MAAAK,EAAAG,EAAAT,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAI,EAAAV,EAAAI,KAAAA,CAAA,EAAA4G,IAAAhH,EAAAgH,MAAA1G,EAAAX,EAAAK,EAAAgH,KAAAA,CAAA,EAAAhH,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,OAAAN,KAAAM,OAAAH,KAAAG,OAAAyG,KAAAzG,MAAA,CAAA,EAAArB,CAAA,CAAA,CAAA,CAAA,EAAAI,EAAAA,EAY/B8G,GAAK,CAAA,IAAC5G,MAAI,CAAA,OAAEkqB,EAAM,IAAK,KAAK,EAAA,IAAAlpB,UAAA,CAAA,OAAAlB,EAC1BgrB,GAAc,CAAA,IACbnlB,MAAI,CAAA,OAAEukB,EAAM,IAAK,KAAK,EACtBrkB,QAASA,IAAM,CACb4kB,EAAWnnB,GAAS2B,GAAG,CACxB,EAAA,IACD8lB,gBAAc,CAAA,OAAEX,EAAU,CAAE,EAC5BY,aAAcP,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAKlC,EAlHM1rB,cAoHSqE,GAAAA,GAAW6mB,EAAU,qiBCxGvB,CAAC7qB,GAAQ6rB,EAAS,EAAIphB,EAAa,EAAK,EAE/CqhB,GAA0BnsB,EAAAA,GAAU,CAExC,MAAMuE,EAAUC,KACVc,EAAO8mB,KACP/T,EAAUgU,KACV1pB,EAAWC,KACX0pB,EAASC,KACTtnB,EAAMC,KACNe,EAAWsQ,KACX1R,EAAO1E,KAEb,IAAIqsB,EAEJ,KAAM,CAACC,EAAaC,CAAc,EAAIC,GAAe,EAE/CC,EAAaA,EAAAA,IACVH,EAAYI,eAAiB,QADnBD,cAInB5gB,EAAa,IAAM,CACjB,MAAMpE,EAAUkT,SAAS6C,eAAe,gBAAgB,EAClDmP,EAAkBhS,SAAS6C,eAAe,oBAAoB,EAEpE,GAAIpZ,GAASiD,gBAAiB,CAC5B,GAAI,CAACI,GAAW,CAACklB,EACf,OAEFllB,GAASmlB,UAAUC,IAAIrrB,EAAOsrB,YAAY,EAC1CH,GAAiBjmB,MAAK,CACxB,KACK,CACH,GAAI,CAACe,GAAW,CAACklB,EACf,OAEFllB,GAASmlB,UAAUG,OAAOvrB,EAAOsrB,YAAY,EAC7CH,EAAgBra,MAAQ,EAC1B,CACF,CAAC,EAED,MAAM0a,EAAWA,EAAAA,IAAM,CACrBX,GAAWY,MAAMC,YAAY,SAAW,GAAE/sB,OAAO+a,WAAY,IAAG,GADjD8R,YAIjBG,GAAQ,IAAM,CACZhtB,OAAOwd,iBAAiB,SAAUqP,CAAQ,CAC5C,CAAC,EAEDI,GAAU,IAAM,CACdjtB,OAAOyd,oBAAoB,SAAUoP,CAAQ,CAC/C,CAAC,EAED,MAAMK,EAAmBC,EAAAA,GAA2B,CAClD,MAAMC,EAAO/qB,EAASK,SAAS2qB,MAAM,GAAG,EAExC,GAAID,EAAK,CAAC,IAAM,QAAUpoB,EAAM,CAE9BA,EAAKyB,QAAQ6mB,iBAAiBtoB,EAAKuoB,cAAcC,MAAQ,EAAE,EAC3D,MACF,CAEA,GAAI,CAAC,IAAK,SAAS,EAAEjP,SAAS6O,EAAK,CAAC,CAAC,GAAKrV,EAAS,CACjD,MAAMtK,EAASue,EAAOte,KAEtBqK,EAAQtR,QAAQ6mB,iBAAiB7f,GAAUxJ,GAASuE,SAAS,EAC7D,MACF,GAduB2kB,mBAiBzBzhB,EAAa,IAAM,CACbrJ,EAASK,UACXiD,GAAUc,QAAQgnB,uBAEtB,CAAC,EAED/hB,EAAa,IAAM,CACbrJ,EAASK,WAAa,MAErBuB,GAASuE,WACZvE,GAASwC,QAAQinB,gBAErB,CAAC,EAED,MAAMC,EAAiBA,EAAAA,IACjBC,GAAK,GAAMtB,EAAY,EAASjrB,EAAOwsB,aAEvCxrB,EAASK,SAASqE,WAAW,UAAU,EAAU1F,EAAOysB,YAErDzsB,EAAO6qB,UALOyB,kBAQvB,OAAAltB,EACGC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAE0B,EAASK,WAAa,GAAG,EAAA,IAC/B7B,UAAQ,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA2mB,EAAAlnB,KAAAY,OAAAA,MAAAO,EAAA+lB,EACiBnmB,EAAO4oB,KAAK,CAAA,EAAAzC,CAAA,GAAA,EAAA/jB,GAAA,IAClC/D,EAAMiC,QAAQ,CAAA,CAAA,EAAA,IAAAA,UAAA,CAAA,MAAA,EAAA,IAAA,CAAAtB,MAAAA,EAAAU,KAAA+I,OAAAzJ,EAAAY,WAAA8H,YAAAA,YAAAA,YAAAA,YAAAA,YAAAA,YAAAA,YAAAvI,EAAAH,EAAAI,EAaZstB,GAAY,CAAC7a,IAAK8a,EAAK,CAAA,EAAA,IAAA,EAAA9sB,MAAAO,EAAApB,EATdgB,EAAO4sB,OAAO,CAAA,EAAA5tB,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAyT,EAAAxT,KAAAY,OAAAA,MAAAO,EAAAqS,EAWHzS,EAAO4oB,KAAK,CAAA,EAAAnW,CAAArT,GAAAA,EAAAA,EAClCytB,GAAS,CAAA,CAAA,GAAA,IAAA,CAAA,MAAA7Z,EAAAgR,GAAA,EAAA9Q,EAAAF,EAAApT,WAAAuT,EAAAD,EAAAtT,WAAAwT,EAAAD,EAAAvT,WAAAiU,EAAAT,EAAA1L,YAAAsM,EAAAH,EAAAnM,YAAAuc,EAAA/Q,EAAAxL,YAAAyd,EAAAlB,EAAAvc,YAAA2d,EAAAF,EAAAvlB,WAAA4lB,EAAAH,EAAAzlB,WAAA2d,EACesN,EAAS,cAAAtN,GAAAC,WAAAA,GAAAD,EAAAvK,CAAA,EAAT6X,EAAS7X,EAAA7T,EAAAiU,EAAAhU,EAIzBhB,GAAQ,CAAA,IAACM,QAAM,CAAA,OAAEA,GAAM,CAAE,CAAA,CAAA,CAAA,EAAAS,EAAA0U,EAAAzU,EAIzBuD,GAAO,CAAA,CAAA,EAAA,IAAA,EAAAxD,EAAA0U,EAAAzU,EACPC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE0B,EAASK,WAAa,MAAM,EAAA,IAAAf,UAAA,CAAA,MAAAyT,EAAAzO,KAAAzF,OAAAA,MAAAO,EAAA2T,EAC1B/T,EAAO8sB,OAAO,CAAA,EAAA/Y,CAAA,CAAA,CAAA,EAAA,IAAA,EAAA5U,EAAA6U,EAAA5U,EAK3BC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE0B,EAASK,WAAa,MAAM,EAAA,IAAAf,UAAA,CAAA,OAAAlB,EACrC4H,GAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA7H,EAAA8kB,EAAA7kB,EAQnBC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEsD,GAAS2D,eAAe,EAAA,IAAAjG,UAAA,CAAA,MAAA4jB,EAAAjR,GAAA,EAAA0R,EAAAT,EAAAtkB,WAAAilB,EAAAF,EAAAjd,YAAAvI,OAAAA,EAAAwlB,EAAAvlB,EAG7B4I,GAAO,CAACE,UAAW2jB,CAAe,CAAA,CAAA,EAAA1sB,EAAA0lB,EAIlCxmB,IAAAA,EAAMiC,QAAQ,EAAAnB,EAAA+kB,EAAA9kB,EAGhB4J,GAAc,CAAA,IACbwB,QAAM,CAAA,OAAElH,GAAKypB,kBAAkB,EAAA,IAC/BziB,OAAK,CAAA,OAAEhH,GAAK0pB,aAAa,EACzB7kB,QAASA,IAAM7E,GAAK8B,QAAQ6nB,mBAAmB,CAAC,CAAA,EAAA,IAAA,EAAA9tB,EAAA+kB,EAAA9kB,EAGjDqV,GAAS,CAAA,IACRxP,MAAI,CAAA,OAAE3B,GAAK4pB,kBAAkB,EAAA,IAC7B5Y,MAAI,CAAA,OAAEhR,GAAK2U,WAAW3D,IAAI,EAAA,IAC1BoC,SAAO,CAAA,OAAEpT,GAAK2U,WAAWvB,OAAO,EAAA,IAChCE,KAAG,CAAA,OAAEtT,GAAK2U,WAAWrB,GAAG,EAAA,IACxB5R,WAAS,CAAA,OAAE1B,GAAK2U,WAAWjT,SAAS,EAAA,IACpCkD,WAAS,CAAA,OAAE5E,GAAK2U,WAAW/P,SAAS,EAAA,IACpC+O,QAAM,CAAA,OAAE3T,GAAK2U,WAAWhB,MAAM,EAAA,IAC9BE,UAAQ,CAAA,OAAE7T,GAAK2U,WAAWd,QAAQ,CAAA,CAAA,EAAA,IAAA,EAAAhY,EAAA+kB,EAAA9kB,EAGnC4e,GAAa,CAAA,IACZ/Y,MAAI,CAAA,OAAE3B,GAAK6pB,kBAAkB,EAAA,IAC7B/O,MAAI,CAAA,OAAE9a,GAAK8a,MAAMH,SAAW,EAAE,EAAA,IAC9BkB,OAAK,CAAA,OAAE7b,GAAK8a,MAAMe,KAAK,EAAA,IACvBhX,SAAO,CAAA,OAAE7E,GAAK8a,MAAMjH,QAAQ,CAAA,CAAA,EAAA,IAAA,EAAAhY,EAAA+kB,EAAA9kB,EAG7BsgB,GAAgB,CAAA,IACfza,MAAI,CAAA,OAAE3B,GAAK8pB,qBAAqB,EAAA,IAChCxN,OAAK,CAAA,OAAEtc,GAAKsc,OAAO3B,SAAW,EAAE,EAAA,IAChCkB,OAAK,CAAA,OAAE7b,GAAKsc,OAAOT,KAAK,EAAA,IACxBhX,SAAO,CAAA,OAAE7E,GAAKsc,OAAOzI,QAAQ,CAAA,CAAA,EAAA,IAAA,EAAAhY,EAAA+kB,EAAA9kB,EAG9Bqe,GAAY,CAAA,IACXxY,MAAI,CAAA,OAAE3B,GAAK+pB,gBAAgB,EAAA,IAC3BzoB,OAAK,CAAA,OAAEtB,GAAKgqB,aAAa1oB,KAAK,EAAA,IAC9BC,aAAW,CAAA,OAAEvB,GAAKgqB,aAAazoB,WAAW,EAAA,IAC1CC,cAAY,CAAA,OAAExB,GAAKgqB,aAAaxoB,YAAY,EAAA,IAC5CC,YAAU,CAAA,OAAEzB,GAAKgqB,aAAavoB,UAAU,EAAA,IACxCC,WAAS,CAAA,OAAE1B,GAAKgqB,aAAatoB,SAAS,EAAA,IACtCG,SAAO,CAAA,OAAE7B,GAAKgqB,aAAanoB,OAAO,CAAA,CAAA,EAAA,IAAA,EAAAhG,EAAA+kB,EAAA9kB,EAGnCqhB,GAAsB,CAAA,IACrBS,QAAM,CAAA,OAAE5d,GAAKwjB,iBAAiB,EAAA,IAC9B3e,SAAO,CAAA,OAAE7E,GAAK8B,QAAQmoB,yBAAyB,EAAA,IAC/C1G,aAAW,CAAA,OAAEvjB,GAAKkqB,eAAe,CAAA,CAAA,EAAA,IAAA,EAAAruB,EAAA+kB,EAAA9kB,EAGlC6nB,GAAa,CAAA,IACZhiB,MAAI,CAAA,OAAGrC,GAAS6qB,SAAW,IAAIvhB,OAAS,CAAC,EAAA,IACzCqb,gBAAc,CAAA,OAAE3kB,GAAS6qB,OAAO,EAChCvlB,UAAY3D,GAAgB,CAC1B3B,GAASwC,QAAQ0kB,OAAOvlB,CAAG,EAC3B3B,GAASwC,QAAQsoB,UAAU,UAAW,EAAE,CACzC,EACDvoB,QAASA,IAAMvC,GAASwC,QAAQsoB,UAAU,UAAW,EAAE,EACvDhF,SAAUA,IAAM,CACd9lB,GAASwC,QAAQsoB,UAAU,UAAW,EAAE,EACxC9qB,GAASwC,QAAQuoB,QAAQ,aAAc,EAAI,CAC7C,CAAC,CAAA,EAAA,IAAA,EAAAxuB,EAAA+kB,EAAA9kB,EAEF0pB,GAAkB,CAAA,IACjB7jB,MAAI,CAAA,OAAErC,GAASgrB,kBAAkB,EACjCzoB,QAASA,IAAMvC,GAASwC,QAAQuoB,QAAQ,qBAAsB,EAAK,EACnEvE,QAASA,IAAM,CACbxmB,GAASwC,QAAQuoB,QAAQ,qBAAsB,EAAK,EACpD/qB,GAASwC,QAAQuoB,QAAQ,YAAa,EAAI,CAC5C,CAAC,CAAA,EAAA,IAAA,EAAAxuB,EAAA+kB,EAAA9kB,EAEFmqB,GAAU,CAAA,IACTtkB,MAAI,CAAA,OAAErC,GAASirB,SAAS,EACxB1oB,QAASA,IAAMvC,GAASwC,QAAQuoB,QAAQ,YAAa,EAAK,CAAC,CAAA,EAAA,IAAA,EAAAxuB,EAAA+kB,EAAA9kB,EAE5Dqe,GAAY,CAAA,IACXxY,MAAI,CAAA,OAAErC,GAASkrB,WAAWC,UAAU,EAAA,IACpCnpB,OAAK,CAAA,OAAE1B,EAAKO,cAAcuqB,GAAcppB,KAAK,CAAC,EAAA,IAC9CC,aAAW,CAAA,OAAE3B,EAAKO,cAAcuqB,GAAcnpB,WAAW,CAAC,EAAA,IAC1DC,cAAY,CAAA,OAAE5B,EAAKO,cAAcuqB,GAAcC,OAAO,CAAC,EAAA,IACvDlpB,YAAU,CAAA,OAAE7B,EAAKO,cAAcuqB,GAAcE,KAAK,CAAC,EACnDlpB,UAAW,SAAY,CACrB,GAAIpC,GAASuE,UAAW,CACtB,MAAM2H,EAAOqf,GAAOvrB,GAASkrB,UAAU,EACvC,MAAMlrB,EAAQwC,QAAQgpB,gBAAgBxrB,GAASuE,UAAW2H,EAAKuf,UAAWvf,EAAKmQ,KAAMnQ,EAAKhC,KAAMgC,EAAKwf,SAAS,CAChH,CACA1rB,GAASwC,QAAQmpB,cAAc,CAC7BzhB,KAAM,CAAE,EACRmS,KAAM,EACNqP,UAAW,GACXP,WAAY,GACZM,UAAW,CAAA,CACb,CAAC,CACF,EACDlpB,QAASA,IAAM,CACbvC,GAASwC,QAAQmpB,cAAc,CAC7BzhB,KAAM,CAAE,EACRmS,KAAM,EACNqP,UAAW,GACXP,WAAY,GACZM,UAAW,CAAA,CACb,CAAC,CACH,CAAC,CAAA,EAAA,IAAA,EAAAlvB,EAAA+kB,EAAA9kB,EAEFqe,GAAY,CAAA,IACXxY,MAAI,CAAA,OAAErC,GAAS4rB,UAAU,EAAA,IACzB5pB,OAAK,CAAA,OAAE1B,EAAKO,cAAcklB,GAAU/jB,KAAK,CAAC,EAAA,IAC1CC,aAAW,CAAA,OAAE3B,EAAKO,cAAcklB,GAAU9jB,WAAW,CAAC,EAAA,IACtDC,cAAY,CAAA,OAAE5B,EAAKO,cAAcklB,GAAUsF,OAAO,CAAC,EAAA,IACnDlpB,YAAU,CAAA,OAAE7B,EAAKO,cAAcklB,GAAUuF,KAAK,CAAC,EAC/ClpB,UAAW,SAAY,CACrBpC,GAASwC,QAAQqpB,SACjB7rB,GAASwC,QAAQuoB,QAAQ,aAAc,EAAK,CAC7C,EACDxoB,QAASA,IAAM,CACbvC,GAASwC,QAAQuoB,QAAQ,aAAc,EAAK,CAC9C,CAAC,CAAA,EAAA,IAAA,EAAA9tB,EAAAC,GAAA,CAAA,MAAAW,EA1HOT,EAAO0uB,cAAa/tB,EACEX,EAAO2uB,cAAaluB,OAAAA,IAAAX,EAAAW,KAAAL,EAAA8jB,EAAApkB,EAAAW,IAAAA,CAAA,EAAAE,IAAAb,EAAAa,MAAAP,EAAAukB,EAAA7kB,EAAAa,KAAAA,CAAA,EAAAb,CAAA,EAAA,CAAAW,IAAAJ,OAAAM,KAAAN,MAAA,CAAA,EAAA6jB,CAAA,CAAA,CAAA,CAAA,EAAA/kB,EAAAkmB,EAAAjmB,EAkIrDC,EAAI,CAAA,IACHC,MAAI,CAAA,MAAE,CAAC0B,EAASK,SAASqE,WAAW,UAAU,CAAC,EAAA,IAAApF,UAAA,CAAA,MAAAglB,EAAAvB,GAAA,EAAAwB,EAAAD,EAAA1lB,WAAAC,OAAAA,EAAAC,GAAA,CAAA,MAAAC,EAElC,GAAEC,EAAO4uB,WAAY,IAAG5tB,EAASK,SAASqE,WAAW,WAAW,EAAI1F,EAAO6uB,eAAiB,EAAG,GAAC3uB,EAC3Ec,EAASK,SAASqE,WAAW,WAAW,EAAI1F,EAAO8uB,eAAiB,GAAE/uB,OAAAA,IAAAD,EAAAC,MAAAK,EAAAklB,EAAAxlB,EAAAC,KAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAE,EAAAmlB,EAAAzlB,EAAAI,KAAAA,CAAA,EAAAJ,CAAA,EAAA,CAAAC,KAAAM,OAAAH,KAAAG,MAAA,CAAA,EAAAilB,CAAA,CAAA,CAAA,EAAAE,CAAA,EAAA3lB,EAAAC,GAAA,CAAA,MAAAgH,EAhKrEwlB,EAAgB,EAAA5jB,EAC7C1I,EAAO+uB,WAAUnmB,EAEQ5I,EAAOgvB,WAAUlmB,EAItC9I,EAAOivB,YAAWpc,EAOlB7S,EAAOkvB,WAAUnc,EASrB/S,EAAOmvB,aAAY9b,EAmIlB,GAAErT,EAAOovB,WAAY,IAAGpuB,EAASK,SAASqE,WAAW,WAAW,GAAK1E,EAASK,SAASqE,WAAW,MAAM,EAAI1F,EAAOqvB,eAAiB,EAAG,GAAC/b,EAUpI,GAAEtT,EAAOsvB,YAAa,IAAGtuB,EAASK,SAASqE,WAAW,UAAU,GAAI1E,EAASK,SAASqE,WAAW,UAAU,EAAI1F,EAAOuvB,cAAgB,EAAG,GAACzoB,OAAAA,IAAAhH,EAAAgH,MAAA1G,EAAA4S,EAAAlT,EAAAgH,KAAAA,CAAA,EAAA4B,IAAA5I,EAAA4I,MAAAtI,EAAA8S,EAAApT,EAAA4I,KAAAA,CAAA,EAAAE,IAAA9I,EAAA8I,MAAAxI,EAAAgT,EAAAtT,EAAA8I,KAAAA,CAAA,EAAAE,IAAAhJ,EAAAgJ,MAAA1I,EAAAyT,EAAA/T,EAAAgJ,KAAAA,CAAA,EAAA+J,IAAA/S,EAAA+S,MAAAzS,EAAA4T,EAAAlU,EAAA+S,KAAAA,CAAA,EAAAE,IAAAjT,EAAAiT,OAAA3S,EAAA6jB,EAAAnkB,EAAAiT,MAAAA,CAAA,EAAAM,IAAAvT,EAAAuT,OAAAjT,EAAA+kB,EAAArlB,EAAAuT,MAAAA,CAAA,EAAAC,IAAAxT,EAAAwT,OAAAlT,EAAAolB,EAAA1lB,EAAAwT,MAAAA,CAAA,EAAAxT,CAAA,EAAA,CAAAgH,KAAAzG,OAAAqI,KAAArI,OAAAuI,KAAAvI,OAAAyI,KAAAzI,OAAAwS,KAAAxS,OAAA0S,MAAA1S,OAAAgT,MAAAhT,OAAAiT,MAAAjT,MAAA,CAAA,EAAA2S,IAAA5T,EAAAA,EAO5JmZ,GAAe,CAAA,IACdtT,MAAI,CAAA,OAAE3B,GAAKksB,mBAAmB,EAAA,IAC9BrnB,SAAO,CAAA,OAAE7E,GAAK8B,QAAQqqB,gBAAgB,EAAA,IACtC3gB,MAAI,CAAA,OAAExL,GAAKosB,mBAAmB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAKxC,EAnSgCrxB"}