{"version":3,"file":"Home-a019598d.js","sources":["../../src/components/FeedSelect/FeedSelect.tsx","../../src/components/SmallCallToAction/SmallCallToAction.tsx","../../src/components/HomeHeader/HomeHeader.tsx","../../src/components/HomeSidebar/HomeSidebar.tsx","../../src/components/HomeHeaderPhone/HomeHeaderPhone.tsx","../../src/pages/Home.tsx"],"sourcesContent":["import { A } from '@solidjs/router';\nimport { Component, Show } from 'solid-js';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { useHomeContext } from '../../contexts/HomeContext';\nimport { useSettingsContext } from '../../contexts/SettingsContext';\nimport { hookForDev } from '../../lib/devTools';\nimport { fetchStoredFeed } from '../../lib/localStore';\nimport { FeedOption, PrimalFeed, SelectionOption } from '../../types/primal';\nimport SelectBox from '../SelectBox/SelectBox';\nimport SelectionBox from '../SelectionBox/SelectionBox';\nimport SelectionBox2 from '../SelectionBox/SelectionBox2';\nimport { isDev } from '../../utils';\n\nconst FeedSelect: Component<{ isPhone?: boolean, id?: string, big?: boolean}> = (props) => {\n\n  const account = useAccountContext();\n  const home = useHomeContext();\n  const settings = useSettingsContext();\n\n  const genId = (v: string) => Object.values(JSON.parse(v)).join('_')\n\n  const selectFeed = (option: FeedOption) => {\n    if (!option) return;\n\n    const feed = {\n      spec: option.value || '',\n      name: option.label,\n      description: option.description || '',\n      enabled: true,\n    };\n\n    const selected = home?.selectedFeed;\n\n    if (selected && selected.spec === feed.spec) return;\n\n    home?.actions.clearNotes();\n    home?.actions.selectFeed(feed);\n  };\n\n  const isSelected = (option: FeedOption) => {\n    const selected = home?.selectedFeed;\n\n    return selected && selected.spec === option.value;\n\n\n    // if (selected?.hex && option.value) {\n    //   const t = option.value.split('_');\n\n    //   const isHex = encodeURI(selected.hex) == t[0];\n    //   const isOpt = t[1] === 'undefined' ?\n    //     selected.includeReplies === undefined :\n    //     selected.includeReplies?.toString() === t[1];\n\n    //   return isHex && isOpt;\n    // }\n\n    // return false;\n  }\n\n  const options:() => SelectionOption[] = () => {\n    if (!settings) return [];\n\n\n    return settings?.homeFeeds.reduce<SelectionOption[]>((acc, f) => {\n      return f.enabled ? [ ...acc, {\n        label: f.name,\n        value: f.spec,\n        description: f.description,\n        id: genId(f.spec),\n      }] : [ ...acc ];\n    }, []);\n  };\n\n  const initialValue = () => {\n    const selected = home?.selectedFeed;\n\n    if (!selected) {\n      let feed = fetchStoredFeed(account?.publicKey, 'home');\n\n      if (feed) {\n        return {\n          label: feed.name,\n          value: feed.spec || '',\n          description: feed.description,\n          id: genId(feed.spec),\n        }\n      }\n\n\n      const opt = options()[0];\n\n      selectFeed(opt);\n      return opt;\n    }\n\n    return {\n      label: selected.name,\n      value: selected.spec || '',\n      description: selected.description,\n      id: genId(selected.spec),\n    }\n  }\n\n  const selectedValue = () => {\n    if (!home?.selectedFeed)\n      return initialValue();\n\n    return {\n      label: home.selectedFeed.name,\n      value: home.selectedFeed.spec,\n      description: home.selectedFeed.description,\n      id: genId(home.selectedFeed.spec),\n    };\n  };\n\n  return (\n    <Show when={options().length > 0}>\n      <SelectionBox2\n        options={options()}\n        onChange={selectFeed}\n        initialValue={initialValue()}\n        value={selectedValue()}\n        isSelected={isSelected}\n        isPhone={props.isPhone}\n        big={props.big}\n        caption=\"Notes Feed\"\n        captionAction={<A href=\"/settings/home_feeds\">Edit Feeds</A>}\n      />\n      <Show when={isDev() && home?.selectedFeed?.spec.includes('advsearch')}>\n        <A href={`/asearch/${encodeURIComponent(JSON.parse(home?.selectedFeed?.spec || '{}').query)}`}>go to advanced search</A>\n      </Show>\n    </Show>\n  );\n}\n\nexport default hookForDev(FeedSelect);\n","import { Component } from 'solid-js';\nimport Avatar from '../Avatar/Avatar';\n\nimport styles from './SmallCallToAction.module.scss';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { PrimalUser } from '../../types/primal';\nimport { placeholders } from '../../translations';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { hookForDev } from '../../lib/devTools';\n\nconst SmallCallToAction: Component<{ activeUser: PrimalUser | undefined, id?: string }> = (props) => {\n\n  const account = useAccountContext();\n  const intl = useIntl();\n\n  const showNewNoteForm = () => {\n    account?.actions?.showNewNoteForm();\n  };\n\n  return (\n    <button id={props.id} class={styles.callToAction} onClick={showNewNoteForm}>\n      <Avatar\n        user={props.activeUser}\n        size=\"vs\"\n      />\n\n      <div class={styles.input}>\n        {intl.formatMessage(placeholders.noteCallToAction)}\n      </div>\n    </button>\n  );\n}\n\nexport default hookForDev(SmallCallToAction);\n","import { Component, createSignal, For, onCleanup, onMount, Show } from 'solid-js';\nimport Avatar from '../Avatar/Avatar';\n\nimport styles from './HomeHeader.module.scss';\nimport FeedSelect from '../FeedSelect/FeedSelect';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport SmallCallToAction from '../SmallCallToAction/SmallCallToAction';\nimport { useHomeContext } from '../../contexts/HomeContext';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { useSettingsContext } from '../../contexts/SettingsContext';\nimport { placeholders as t, actions as tActions, feedNewPosts } from '../../translations';\nimport { hookForDev } from '../../lib/devTools';\nimport ButtonPrimary from '../Buttons/ButtonPrimary';\nimport CreateAccountModal from '../CreateAccountModal/CreateAccountModal';\nimport LoginModal from '../LoginModal/LoginModal';\nimport { userName } from '../../stores/profile';\nimport { PrimalUser } from '../../types/primal';\n\nconst HomeHeader: Component< {\n  id?: string,\n  hasNewPosts: () => boolean,\n  loadNewContent: () => void,\n  newPostCount: () => number,\n  newPostAuthors: PrimalUser[],\n} > = (props) => {\n\n  const account = useAccountContext();\n  const home = useHomeContext();\n  const settings = useSettingsContext();\n  const intl = useIntl();\n\n  let smallHeader: HTMLDivElement | undefined;\n\n  let lastScrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n\n  const onScroll = () => {\n    const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    // const smallHeader = document.getElementById('small_header');\n    const border = document.getElementById('small_bottom_border');\n\n    home?.actions.updateScrollTop(scrollTop);\n\n    const isScrollingDown = scrollTop > lastScrollTop;\n    lastScrollTop = scrollTop;\n\n    if (scrollTop < 2) {\n      if (border) {\n        border.style.display = 'none';\n      }\n      smallHeader?.classList.add(styles.instaHide);\n      smallHeader?.classList.remove(styles.hiddenSelector);\n      smallHeader?.classList.remove(styles.fixedSelector);\n      return;\n    }\n\n    if (lastScrollTop < 2) {\n      smallHeader?.classList.add(styles.instaHide);\n      return;\n    }\n\n    if (border) {\n      border.style.display = 'flex';\n    }\n\n    smallHeader?.classList.remove(styles.instaHide);\n\n    if (!isScrollingDown) {\n      smallHeader?.classList.add(styles.fixedSelector);\n      smallHeader?.classList.remove(styles.hiddenSelector);\n      return;\n    }\n\n    smallHeader?.classList.add(styles.hiddenSelector);\n  }\n\n  const onShowNewNoteinput = () => {\n    account?.actions?.showNewNoteForm();\n  };\n\n  onMount(() => {\n    window.addEventListener('scroll', onScroll);\n  });\n\n  onCleanup(() => {\n    window.removeEventListener('scroll', onScroll);\n  });\n\n  const activeUser = () => account?.activeUser;\n\n  return (\n    <div id={props.id} class={styles.fullHeader}>\n      <Show\n        when={account?.hasPublicKey()}\n        fallback={\n          <Show when={account?.isKeyLookupDone}>\n            <div class={styles.welcomeMessage}>\n              <div>\n                {intl.formatMessage(t.guestUserGreeting)}\n              </div>\n              <ButtonPrimary onClick={account?.actions.showGetStarted}>\n                {intl.formatMessage(tActions.getStarted)}\n              </ButtonPrimary>\n            </div>\n          </Show>\n        }\n      >\n        <button class={styles.callToAction} onClick={onShowNewNoteinput}>\n          <Avatar\n            user={activeUser()}\n            size=\"vs\"\n          />\n\n          <div class={styles.input}>\n            {intl.formatMessage(t.noteCallToAction)}\n          </div>\n        </button>\n        <div class={styles.separator}></div>\n      </Show>\n      <div class={styles.bigFeedSelect}>\n        <FeedSelect big={false} />\n\n        <Show\n          when={props.hasNewPosts()}\n        >\n          <button\n            class={styles.newContentItem}\n            onClick={props.loadNewContent}\n          >\n            <div class={styles.counter}>\n              {intl.formatMessage(\n                feedNewPosts,\n                {\n                  number: props.newPostCount() >= 99 ? 99 : props.newPostCount(),\n                },\n              )}\n            </div>\n          </button>\n        </Show>\n      </div>\n\n      <div class={`${styles.smallHeader} ${styles.instaHide}`} ref={smallHeader}>\n        <div class={styles.smallHeaderMain}>\n          <Show\n            when={account?.hasPublicKey()}\n            fallback={\n              <div class={styles.smallLeft}>\n                <div class={styles.welcomeMessageSmall}>\n                  {intl.formatMessage(t.welcomeMessage)}\n                </div>\n              </div>}\n          >\n            <div class={styles.smallLeft}>\n              <SmallCallToAction activeUser={activeUser()} />\n            </div>\n          </Show>\n\n          <Show when={settings?.homeFeeds && settings?.homeFeeds.length > 0 && home?.selectedFeed}>\n            <div class={styles.smallRight}>\n              <FeedSelect />\n            </div>\n          </Show>\n        </div>\n        <div\n          id=\"small_bottom_border\"\n          class={styles.smallHeaderBottomBorder}\n        >\n          <div class={styles.leftCorner}></div>\n          <div class={styles.rightCorner}></div>\n        </div>\n\n\n      <Show when={\n        props.hasNewPosts() && !account?.showNewNoteForm\n      }>\n        <div class={styles.newContentNotification}>\n          <button\n            onClick={props.loadNewContent}\n          >\n            <div class={styles.avatars}>\n              <For each={props.newPostAuthors}>\n                {(user) => (\n                  <div\n                    class={styles.avatar}\n                    title={userName(user)}\n                  >\n                    <Avatar user={user} size=\"xs\" />\n                  </div>\n                )}\n              </For>\n            </div>\n            <div class={styles.counter}>\n              {intl.formatMessage(\n                feedNewPosts,\n                {\n                  number: props.newPostCount(),\n                },\n              )}\n            </div>\n          </button>\n        </div>\n      </Show>\n      </div>\n    </div>\n  );\n}\n\nexport default hookForDev(HomeHeader);\n","import { Component, For, onMount, Show } from 'solid-js';\n\nimport {\n  SelectionOption\n} from '../../types/primal';\n\nimport styles from './HomeSidebar.module.scss';\nimport SmallNote from '../SmallNote/SmallNote';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport { hookForDev } from '../../lib/devTools';\nimport SelectionBox from '../SelectionBox/SelectionBox';\nimport Loader from '../Loader/Loader';\nimport { readHomeSidebarSelection, saveHomeSidebarSelection } from '../../lib/localStore';\nimport { useHomeContext } from '../../contexts/HomeContext';\nimport ShortNoteSkeleton from '../Skeleton/ShortNoteSkeleton';\nimport { Transition } from 'solid-transition-group';\nimport SelectionBox2 from '../SelectionBox/SelectionBox2';\n\nconst sidebarOptions = [\n  {\n    label: 'Trending 24h',\n    value: 'trending_24h',\n    id: 'trending_24h',\n  },\n  {\n    label: 'Trending 12h',\n    value: 'trending_12h',\n    id: 'trending_12h',\n  },\n  {\n    label: 'Trending 4h',\n    value: 'trending_4h',\n    id: 'trending_4h',\n  },\n  {\n    label: 'Trending 1h',\n    value: 'trending_1h',\n    id: 'trending_1h',\n  },\n  {\n    label: '',\n    value: '',\n    disabled: true,\n    separator: true,\n  },\n\n  {\n    label: 'Most-zapped 24h',\n    value: 'mostzapped_24h',\n    id: 'mostzapped_24h',\n  },\n  {\n    label: 'Most-zapped 12h',\n    value: 'mostzapped_12h',\n    id: 'mostzapped_12h',\n  },\n  {\n    label: 'Most-zapped 4h',\n    value: 'mostzapped_4h',\n    id: 'mostzapped_4h',\n  },\n  {\n    label: 'Most-zapped 1h',\n    value: 'mostzapped_1h',\n    id: 'mostzapped_1h',\n  },\n];\n\nconst HomeSidebar: Component< { id?: string } > = (props) => {\n\n  const account = useAccountContext();\n  const home = useHomeContext();\n\n  onMount(() => {\n    if (account?.isKeyLookupDone && home?.sidebarNotes.length === 0) {\n      let stored = readHomeSidebarSelection(account.publicKey) || { ...sidebarOptions[0] };\n\n      if (!stored.id) {\n        stored = { ...sidebarOptions[0] };\n      }\n\n      home?.actions.updateSidebarQuery(stored);\n      home?.actions.doSidebarSearch(stored.value || '');\n    }\n  });\n\n  return (\n    <div id={props.id}>\n      <div class={styles.headingTrending}>\n        <SelectionBox2\n          options={sidebarOptions}\n          value={home?.sidebarQuery}\n          initialValue={home?.sidebarQuery}\n          onChange={(option: SelectionOption) => {\n            if (option.value === home?.sidebarQuery?.value) return;\n            home?.actions.updateSidebarQuery(option);\n            saveHomeSidebarSelection(account?.publicKey, option);\n            home?.actions.doSidebarSearch(option.value || '');\n          }}\n        />\n      </div>\n\n      <Transition name=\"slide-fade\">\n        <Show\n          when={!home?.isFetchingSidebar}\n          fallback={\n            <div>\n              <For each={new Array(24)}>\n                {() => <ShortNoteSkeleton />}\n              </For>\n            </div>\n          }\n        >\n          <div>\n            <For each={home?.sidebarNotes}>\n              {(note) => (\n                <div class=\"animated\">\n                  <SmallNote note={note} />\n                </div>\n              )}\n            </For>\n          </div>\n        </Show>\n      </Transition>\n    </div>\n  );\n}\n\nexport default hookForDev(HomeSidebar);\n","import { Component, onCleanup, onMount, Show } from 'solid-js';\n\nimport styles from './HomeHeaderPhone.module.scss';\nimport FeedSelect from '../FeedSelect/FeedSelect';\nimport Branding from '../Branding/Branding';\nimport { useHomeContext } from '../../contexts/HomeContext';\nimport { hookForDev } from '../../lib/devTools';\n\nconst HomeHeaderPhone: Component< { id?: string } > = (props) => {\n\n  const home = useHomeContext();\n\n  let lastScrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  let smallHeader: HTMLDivElement | undefined;\n  let border: HTMLDivElement | undefined;\n\n  const onScroll = () => {\n    const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n\n    home?.actions?.updateScrollTop(scrollTop);\n\n    const isScrollingDown = scrollTop > lastScrollTop;\n    lastScrollTop = scrollTop;\n\n    if (scrollTop < 117) {\n      if (border) {\n        border.style.display = 'none';\n      }\n      smallHeader?.classList.remove(styles.hiddenSelector);\n      smallHeader?.classList.remove(styles.fixedSelector);\n      return;\n    }\n\n    if (lastScrollTop < 117) {\n      smallHeader?.classList.add(styles.instaHide);\n      return;\n    }\n\n    if (border) {\n      border.style.display = 'flex';\n    }\n    smallHeader?.classList.remove(styles.instaHide);\n\n    if (!isScrollingDown) {\n      smallHeader?.classList.add(styles.fixedSelector);\n      smallHeader?.classList.remove(styles.hiddenSelector);\n      return;\n    }\n\n    smallHeader?.classList.add(styles.hiddenSelector);\n  }\n\n  onMount(() => {\n    window.addEventListener('scroll', onScroll);\n  });\n\n  onCleanup(() => {\n    window.removeEventListener('scroll', onScroll);\n  });\n\n  return (\n    <div id={props.id} class={styles.fullHeader} ref={smallHeader}>\n      <div class={styles.phoneHeader}>\n        <div class={styles.logo}>\n          <Branding small={true} />\n        </div>\n        <Show when={home?.selectedFeed}>\n          <FeedSelect isPhone={true} />\n        </Show>\n      </div>\n      <div\n        ref={border}\n        class={styles.smallHeaderBottomBorder}\n      >\n        <div class={styles.leftCorner}></div>\n        <div class={styles.rightCorner}></div>\n      </div>\n    </div>\n  );\n}\n\nexport default hookForDev(HomeHeaderPhone);\n","import {\n  Component,\n  createEffect,\n  createSignal,\n  For,\n  Match,\n  onCleanup,\n  onMount,\n  Show,\n  Switch\n} from 'solid-js';\nimport Note from '../components/Note/Note';\nimport styles from './Home.module.scss';\nimport HomeHeader from '../components/HomeHeader/HomeHeader';\nimport Loader from '../components/Loader/Loader';\nimport Paginator from '../components/Paginator/Paginator';\nimport HomeSidebar from '../components/HomeSidebar/HomeSidebar';\nimport Branding from '../components/Branding/Branding';\nimport HomeHeaderPhone from '../components/HomeHeaderPhone/HomeHeaderPhone';\nimport Wormhole from '../components/Wormhole/Wormhole';\nimport { scrollWindowTo } from '../lib/scroll';\nimport StickySidebar from '../components/StickySidebar/StickySidebar';\nimport { useHomeContext } from '../contexts/HomeContext';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { createStore } from 'solid-js/store';\nimport { PrimalUser } from '../types/primal';\nimport Avatar from '../components/Avatar/Avatar';\nimport { userName } from '../stores/profile';\nimport { useAccountContext } from '../contexts/AccountContext';\nimport { feedNewPosts, placeholders, branding } from '../translations';\nimport Search from '../components/Search/Search';\nimport { setIsHome } from '../components/Layout/Layout';\nimport PageTitle from '../components/PageTitle/PageTitle';\nimport { useAppContext } from '../contexts/AppContext';\nimport FeedNoteSkeleton from '../components/Skeleton/FeedNoteSkeleton';\nimport { Transition } from 'solid-transition-group';\n\n\nconst Home: Component = () => {\n\n  const context = useHomeContext();\n  const account = useAccountContext();\n  const intl = useIntl();\n  const app = useAppContext();\n\n  const isPageLoading = () => context?.isFetching;\n\n  let checkNewNotesTimer: number = 0;\n\n  const [hasNewPosts, setHasNewPosts] = createSignal(false);\n  const [newNotesCount, setNewNotesCount] = createSignal(0);\n  const [newPostAuthors, setNewPostAuthors] = createStore<PrimalUser[]>([]);\n\n\n  const newPostCount = () => newNotesCount() < 100 ? newNotesCount() : 100;\n\n\n  onMount(() => {\n    setIsHome(true);\n    scrollWindowTo(context?.scrollTop);\n  });\n\n  createEffect(() => {\n    if ((context?.futureNotes.length || 0) > 99 || app?.isInactive) {\n      clearInterval(checkNewNotesTimer);\n      return;\n    }\n\n    const spec = context?.selectedFeed?.spec || '';\n\n    if (checkNewNotesTimer) {\n      clearInterval(checkNewNotesTimer);\n      setHasNewPosts(false);\n      setNewNotesCount(0);\n      setNewPostAuthors(() => []);\n    }\n\n    const timeout = 25_000 + Math.random() * 10_000;\n\n    checkNewNotesTimer = setInterval(() => {\n      context?.actions.checkForNewNotes(spec);\n    }, timeout);\n  });\n\n  createEffect(() => {\n    const count = context?.futureNotes.length || 0;\n    if (count === 0) {\n      return\n    }\n\n    if (!hasNewPosts()) {\n      setHasNewPosts(true);\n    }\n\n    if (newPostAuthors.length < 3) {\n      const users = context?.futureNotes.map(note => note.user) || [];\n\n      const uniqueUsers = users.reduce<PrimalUser[]>((acc, user) => {\n        const isDuplicate = acc.find(u => u.pubkey === user.pubkey);\n        return isDuplicate ?  acc : [ ...acc, user ];\n      }, []).slice(0, 3);\n\n      setNewPostAuthors(() => [...uniqueUsers]);\n    }\n\n    setNewNotesCount(count);\n  });\n\n  onCleanup(()=> {\n    clearInterval(checkNewNotesTimer);\n    setIsHome(false);\n  });\n\n  const loadNewContent = () => {\n    if (newNotesCount() > 100 || app?.appState === 'waking') {\n      context?.actions.getFirstPage();\n      return;\n    }\n\n    context?.actions.loadFutureContent();\n    scrollWindowTo(0, true);\n    setHasNewPosts(false);\n    setNewNotesCount(0);\n    setNewPostAuthors(() => []);\n  }\n\n  return (\n    <div class={styles.homeContent}>\n      <PageTitle title={intl.formatMessage(branding)} />\n      <Wormhole\n        to=\"search_section\"\n      >\n        <Search />\n      </Wormhole>\n\n      <div class={styles.normalCentralHeader}>\n        <HomeHeader\n          hasNewPosts={hasNewPosts}\n          loadNewContent={loadNewContent}\n          newPostCount={newPostCount}\n          newPostAuthors={newPostAuthors}\n        />\n      </div>\n\n      <div class={styles.phoneCentralHeader}>\n        <HomeHeaderPhone />\n      </div>\n\n      <StickySidebar>\n        <HomeSidebar />\n      </StickySidebar>\n\n      <div class={styles.homeFeed}>\n        <Transition name=\"slide-fade\">\n          <Show\n            when={context?.notes && context.notes.length > 0}\n            fallback={\n              <div>\n                <For each={new Array(5)}>\n                  {() => <FeedNoteSkeleton />}\n                </For>\n              </div>\n            }\n          >\n            <div class={styles.feed}>\n              <For each={context?.notes} >\n                {note => (\n                  <div class=\"animated\">\n                    <Note note={note} shorten={true} />\n                  </div>\n                )}\n              </For>\n            </div>\n          </Show>\n        </Transition>\n      </div>\n\n      <Switch>\n        <Match\n          when={!isPageLoading() && context?.notes && context?.notes.length === 0}\n        >\n          <div class={styles.noContent}>\n          </div>\n        </Match>\n        <Match\n          when={isPageLoading()}\n        >\n          <div class={styles.noContent}>\n          </div>\n        </Match>\n      </Switch>\n      <Paginator loadNextPage={context?.actions.fetchNextPage}/>\n    </div>\n  )\n}\n\nexport default Home;\n"],"names":["FeedSelect","props","account","useAccountContext","home","useHomeContext","settings","useSettingsContext","genId","v","Object","values","JSON","parse","join","selectFeed","option","feed","spec","value","name","label","description","enabled","selected","selectedFeed","actions","clearNotes","isSelected","options","homeFeeds","reduce","acc","f","id","initialValue","fetchStoredFeed","publicKey","opt","selectedValue","_$createComponent","Show","when","length","children","SelectionBox2","onChange","isPhone","big","caption","captionAction","A","href","_$memo","isDev","includes","encodeURIComponent","query","hookForDev","SmallCallToAction","intl","useIntl","showNewNoteForm","_el$","_tmpl$","_el$2","firstChild","$$click","_$insert","Avatar","user","activeUser","size","formatMessage","placeholders","noteCallToAction","_$effect","_p$","_v$","_v$2","styles","callToAction","_v$3","input","_$setAttribute","_$className","undefined","SmallCallToAction$1","_$delegateEvents","HomeHeader","smallHeader","lastScrollTop","document","body","scrollTop","documentElement","onScroll","border","getElementById","updateScrollTop","isScrollingDown","style","display","classList","add","instaHide","remove","hiddenSelector","fixedSelector","onShowNewNoteinput","onMount","window","addEventListener","onCleanup","removeEventListener","_tmpl$4","_el$5","_el$8","nextSibling","_el$9","_el$12","_el$13","_el$14","hasPublicKey","fallback","isKeyLookupDone","_el$19","_tmpl$5","_el$20","t","guestUserGreeting","ButtonPrimary","onClick","showGetStarted","tActions","getStarted","welcomeMessage","_el$3","_el$4","_tmpl$2","separator","hasNewPosts","_el$6","_el$7","_$addEventListener","loadNewContent","feedNewPosts","number","newPostCount","newContentItem","_v$4","counter","_ref$","_$use","_el$21","_el$22","_v$16","smallLeft","_v$17","welcomeMessageSmall","_el$10","_el$11","smallRight","_el$15","_tmpl$3","_el$16","_el$17","_el$18","For","each","newPostAuthors","_el$23","_v$18","avatar","_v$19","userName","_v$5","newContentNotification","_v$6","avatars","_v$7","_v$8","_v$9","fullHeader","_v$10","bigFeedSelect","_v$11","_v$12","smallHeaderMain","_v$13","smallHeaderBottomBorder","_v$14","leftCorner","_v$15","rightCorner","HomeHeader$1","sidebarOptions","disabled","HomeSidebar","sidebarNotes","stored","readHomeSidebarSelection","updateSidebarQuery","doSidebarSearch","sidebarQuery","saveHomeSidebarSelection","Transition","isFetchingSidebar","Array","ShortNoteSkeleton","note","SmallNote","headingTrending","HomeHeaderPhone","Branding","small","_ref$2","phoneHeader","logo","Home","context","app","useAppContext","isPageLoading","isFetching","checkNewNotesTimer","setHasNewPosts","createSignal","newNotesCount","setNewNotesCount","setNewPostAuthors","createStore","setIsHome","scrollWindowTo","createEffect","futureNotes","isInactive","clearInterval","timeout","Math","random","setInterval","checkForNewNotes","count","uniqueUsers","map","find","u","pubkey","slice","appState","getFirstPage","loadFutureContent","PageTitle","title","branding","Wormhole","to","Search","StickySidebar","notes","FeedNoteSkeleton","Note","shorten","Switch","Match","noContent","Paginator","loadNextPage","fetchNextPage","homeContent","normalCentralHeader","phoneCentralHeader","homeFeed"],"mappings":"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"}