{"version":3,"file":"Account-3fdd63e2.js","sources":["../../src/pages/Settings/Account.tsx"],"sourcesContent":["import { Component, createSignal, Show } from 'solid-js';\nimport styles from './Settings.module.scss';\n\nimport ThemeChooser from '../../components/ThemeChooser/ThemeChooser';\nimport { useIntl } from '@cookbook/solid-intl';\nimport { settings as t, actions as tActions } from '../../translations';\nimport PageCaption from '../../components/PageCaption/PageCaption';\nimport { A } from '@solidjs/router';\nimport PageTitle from '../../components/PageTitle/PageTitle';\nimport { useAccountContext } from '../../contexts/AccountContext';\nimport Avatar from '../../components/Avatar/Avatar';\nimport { hexToNpub } from '../../lib/keys';\n\nconst Account: Component = () => {\n\n  const intl = useIntl();\n  const account = useAccountContext();\n\n  const [isCoppied, setIsCoppied] = createSignal('');\n\n  const onCopy = (text: string) => {\n    navigator.clipboard.writeText(text);\n    setIsCoppied(text);\n\n    setTimeout(() => setIsCoppied(''), 2_000);\n  };\n\n  return (\n    <div>\n      <PageTitle title={`${intl.formatMessage(t.account.title)} ${intl.formatMessage(t.title)}`} />\n\n      <PageCaption>\n        <A href='/settings' >{intl.formatMessage(t.index.title)}</A>:&nbsp;\n        <div>{intl.formatMessage(t.account.title)}</div>\n      </PageCaption>\n\n      <div class={styles.settingsContent}>\n        <div class={styles.securityWarning}>\n          <div class={styles.securityIcon}></div>\n          <div class={styles.securityMessage}>\n            {intl.formatMessage(t.account.description, {\n              link: <a href=\"https://getalby.com\" target='_blank'>Alby</a>,\n            })}\n          </div>\n        </div>\n\n        <div class={styles.settingsAccountCaption}>\n          <div class={styles.caption}>\n            {intl.formatMessage(t.account.pubkey)}\n          </div>\n          <button\n            class={styles.copy}\n            onClick={() => onCopy(hexToNpub(account?.publicKey) || '')}\n          >\n            <Show when={isCoppied() === hexToNpub(account?.publicKey)}>\n              <div class={styles.checkIcon}></div>\n            </Show>\n            {intl.formatMessage(tActions.copyPubkey)}\n          </button>\n        </div>\n\n        <div class={styles.settingsKeyArea}>\n          <Avatar\n            src={account?.activeUser?.picture}\n            size=\"vs\"\n          />\n          <div class={styles.key}>\n            {hexToNpub(account?.publicKey)}\n          </div>\n        </div>\n\n        <div class={styles.settingsDescription}>\n          {intl.formatMessage(t.account.pubkeyDesc)}\n        </div>\n\n\n        <div class={styles.settingsAccountCaption}>\n          <div class={styles.caption}>\n            {intl.formatMessage(t.account.privkey)}\n          </div>\n          <button\n            class={styles.copy}\n            onClick={() => onCopy(account?.sec || '')}\n          >\n            <Show when={isCoppied() === account?.sec}>\n              <div class={styles.checkIcon}></div>\n            </Show>\n            {intl.formatMessage(tActions.copyPrivkey)}\n          </button>\n        </div>\n\n        <div class={styles.settingsKeyArea}>\n          <div class={styles.icon}>\n            <div class={styles.keyIcon}></div>\n          </div>\n          <input\n            class={styles.key}\n            value={account?.sec || ''}\n            readOnly={true}\n            type=\"password\"\n          />\n        </div>\n\n        <div class={styles.settingsDescription}>\n          {intl.formatMessage(t.account.privkeyDesc)}\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Account;\n"],"names":["Account","intl","useIntl","account","useAccountContext","isCoppied","setIsCoppied","createSignal","onCopy","text","navigator","clipboard","writeText","setTimeout","_el$","_tmpl$2","_el$3","firstChild","_el$4","_el$5","_el$6","nextSibling","_el$7","_el$8","_el$9","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$18","_el$19","_el$20","_el$21","_el$22","_$insert","_$createComponent","PageTitle","title","formatMessage","t","PageCaption","children","A","href","index","_el$2","_tmpl$","description","link","_tmpl$3","pubkey","$$click","hexToNpub","publicKey","Show","when","_el$10","_$effect","_$className","styles","checkIcon","tActions","copyPubkey","Avatar","src","activeUser","picture","size","pubkeyDesc","privkey","sec","_el$17","copyPrivkey","readOnly","privkeyDesc","_p$","_v$","settingsContent","_v$2","securityWarning","_v$3","securityIcon","_v$4","securityMessage","_v$5","settingsAccountCaption","_v$6","caption","_v$7","copy","_v$8","settingsKeyArea","_v$9","key","_v$10","settingsDescription","_v$11","_v$12","_v$13","_v$14","_v$15","icon","_v$16","keyIcon","_v$17","_v$18","undefined","value","_$delegateEvents"],"mappings":"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"}