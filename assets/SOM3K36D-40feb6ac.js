var g=Object.defineProperty;var o=(e,r)=>g(e,"name",{value:r,configurable:!0});import{d as D}from"./index-c76cfba2.js";import{m as I,r as h,A as p}from"./index-b4296c5e.js";import{E as a,n as f,c as O,ds as P,dt as E}from"./index-64dc6460.js";import{a as v}from"./5WXHJDCZ-8b9b8e69.js";var m=P();function b(){return E(m)}o(b,"useOptionalDomCollectionContext");function x(){const e=b();if(e===void 0)throw new Error("[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component");return e}o(x,"useDomCollectionContext");function d(e,r){return!!(r.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}o(d,"isElementPreceding");function w(e,r){const t=r.ref();if(!t)return-1;let n=e.length;if(!n)return-1;for(;n--;){const c=e[n]?.ref();if(c&&d(c,t))return n+1}return 0}o(w,"findDOMIndex");function T(e){const r=e.map((n,c)=>[c,n]);let t=!1;return r.sort(([n,c],[i,s])=>{const u=c.ref(),l=s.ref();return u===l||!u||!l?0:d(u,l)?(n>i&&(t=!0),-1):(n<i&&(t=!0),1)}),t?r.map(([n,c])=>c):e}o(T,"sortBasedOnDOMPosition");function C(e,r){const t=T(e);e!==t&&r(t)}o(C,"setItemsBasedOnDOMPosition");function M(e){const r=e[0],t=e[e.length-1]?.ref();let n=r?.ref()?.parentElement;for(;n;){if(t&&n.contains(t))return n;n=n.parentElement}return h(n).body}o(M,"getCommonParent");function y(e,r){a(()=>{const t=setTimeout(()=>{C(e(),r)});f(()=>clearTimeout(t))})}o(y,"createTimeoutObserver");function B(e,r){if(typeof IntersectionObserver!="function"){y(e,r);return}let t=[];a(()=>{const n=o(()=>{const s=!!t.length;t=e(),s&&C(e(),r)},"callback"),c=M(e()),i=new IntersectionObserver(n,{root:c});for(const s of e()){const u=s.ref();u&&i.observe(u)}f(()=>i.disconnect())})}o(B,"createSortBasedOnDOMPosition");function k(e={}){const[r,t]=D({value:()=>v(e.items),onChange:i=>e.onItemsChange?.(i)});B(r,t);const n=o(i=>(t(s=>{const u=w(s,i);return p(s,i,u)}),()=>{t(s=>{const u=s.filter(l=>l.ref()!==i.ref());return s.length===u.length?s:u})}),"registerItem");return{DomCollectionProvider:o(i=>O(m.Provider,{value:{registerItem:n},get children(){return i.children}}),"DomCollectionProvider")}}o(k,"createDomCollection");function G(e){const r=x(),t=I({shouldRegisterItem:!0},e);a(()=>{if(!t.shouldRegisterItem)return;const n=r.registerItem(t.getItem());f(n)})}o(G,"createDomCollectionItem");export{G as a,k as c,b as u};
//# sourceMappingURL=SOM3K36D-40feb6ac.js.map
