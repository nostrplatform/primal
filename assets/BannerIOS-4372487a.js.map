{"version":3,"file":"BannerIOS-4372487a.js","sources":["../../src/components/BannerIOS/BannerIOS.tsx"],"sourcesContent":["import { Component, Show } from 'solid-js';\n\nimport primalWhite from '../../assets/icons/primal_white.svg';\nimport openWhite from '../../assets/icons/open_white.svg';\nimport styles from './BannerIOS.module.scss';\nimport { hookForDev } from '../../lib/devTools';\nimport { useSearchParams } from '@solidjs/router';\n\nexport const isIOS = () => {\n  return /(iPad|iPhone|iPod)/.test(navigator.userAgent);\n};\n\nconst BannerIOS: Component< { id?: string } > = (props) => {\n  const [queryParams, setQueryParams] = useSearchParams();\n\n  const showBanner = () => {\n    return queryParams.mobilebanner !== 'false';\n  };\n\n  const linkToiOS = () => {\n    const appstoreFail = 'https://apps.apple.com/us/app/primal/id1673134518';\n    const appUrlScheme = `primal:/${window.location.pathname}`;\n\n    if (isIOS()) {\n      // Try launching the app using URL schemes\n      window.open(appUrlScheme, \"_self\");\n\n      // If the app is not installed the script will wait for 2sec and redirect to web.\n      setTimeout(function() {\n        window.location.href = appstoreFail;\n      } , 2_000);\n    } else {\n      // Launch the website\n      window.location.href = appstoreFail;\n    }\n  };\n\n  return (\n    <Show when={isIOS() && showBanner()}>\n      <button class={styles.iosBanner} onClick={linkToiOS}>\n        <div>\n          <img src={primalWhite} />\n          <div class={styles.iosDesc}>\n            <div class={styles.title}>Primal</div>\n            <div class={styles.desc}>Open in Primal app</div>\n          </div>\n          <img src={openWhite} />\n        </div>\n      </button>\n    </Show>\n  );\n}\n\nexport default hookForDev(BannerIOS);\n"],"names":["isIOS","test","navigator","userAgent","BannerIOS","props","queryParams","setQueryParams","useSearchParams","showBanner","mobilebanner","linkToiOS","appstoreFail","appUrlScheme","window","location","pathname","open","setTimeout","href","_$createComponent","Show","when","_$memo","children","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","nextSibling","_el$5","_el$6","_el$7","$$click","_$setAttribute","primalWhite","openWhite","_$effect","_p$","_v$","styles","iosBanner","_v$2","iosDesc","_v$3","title","_v$4","desc","_$className","undefined","BannerIOS$1","hookForDev","_$delegateEvents"],"mappings":"oeAQaA,EAAQA,EAAAA,IACZ,qBAAqBC,KAAKC,UAAUC,SAAS,EADjCH,SAIfI,EAA2CC,EAAAA,GAAU,CACzD,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAe,EAE/CC,EAAaA,EAAAA,IACVH,EAAYI,eAAiB,QADnBD,cAIbE,EAAYA,EAAAA,IAAM,CACtB,MAAMC,EAAe,oDACfC,EAAgB,WAAUC,OAAOC,SAASC,QAAS,GAErDhB,EAAK,GAEPc,OAAOG,KAAKJ,EAAc,OAAO,EAGjCK,WAAW,UAAW,CACpBJ,OAAOC,SAASI,KAAOP,CACxB,EAAG,GAAK,GAGTE,OAAOC,SAASI,KAAOP,GAdTD,aAkBlB,OAAAS,EACGC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEC,QAAAvB,EAAK,CAAE,EAAIS,GAAAA,GAAY,EAAA,IAAAe,UAAA,CAAA,MAAAC,EAAAC,EAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAE,YAAAC,EAAAF,EAAAF,WAAAK,EAAAD,EAAAD,YAAAG,EAAAJ,EAAAC,YAAAN,OAAAA,EAAAU,QACSxB,EAASyB,EAAAP,EAAA,MAErCQ,CAAW,EAAAD,EAAAF,EAAA,MAKXI,CAAS,EAAAC,EAAAC,GAAA,CAAA,MAAAC,EAPRC,EAAOC,UAASC,EAGfF,EAAOG,QAAOC,EACZJ,EAAOK,MAAKC,EACZN,EAAOO,KAAIR,OAAAA,IAAAD,EAAAC,KAAAS,EAAAzB,EAAAe,EAAAC,IAAAA,CAAA,EAAAG,IAAAJ,EAAAI,MAAAM,EAAApB,EAAAU,EAAAI,KAAAA,CAAA,EAAAE,IAAAN,EAAAM,MAAAI,EAAAlB,EAAAQ,EAAAM,KAAAA,CAAA,EAAAE,IAAAR,EAAAQ,MAAAE,EAAAjB,EAAAO,EAAAQ,KAAAA,CAAA,EAAAR,CAAA,EAAA,CAAAC,IAAAU,OAAAP,KAAAO,OAAAL,KAAAK,OAAAH,KAAAG,MAAA,CAAA,EAAA1B,CAAA,CAAA,CAAA,CAOnC,EAvCiDpB,aAyCjD+C,EAAeC,EAAWjD,CAAS,EAAEkD,EAAA,CAAA,OAAA,CAAA"}