{"version":3,"file":"dates-9bcb2bf7.js","sources":["../../src/lib/dates.ts"],"sourcesContent":["export const shortDate = (timestamp: number | undefined) => {\n  if (!timestamp || timestamp < 0) {\n    return '';\n  }\n  const date = new Date(timestamp * 1000);\n  const dtf = new Intl.DateTimeFormat('en-US', { dateStyle: 'medium'});\n\n  return dtf.format(date);\n};\n\nexport const longDate = (timestamp: number | undefined) => {\n  if (!timestamp || timestamp < 0) {\n    return '';\n  }\n  const date = new Date(timestamp * 1000);\n  const dtf = new Intl.DateTimeFormat('en-US', { dateStyle: 'medium', timeStyle: 'short'});\n\n  return dtf.format(date);\n};\n\nexport const veryLongDate = (timestamp: number | undefined) => {\n  if (!timestamp || timestamp < 0) {\n    return '';\n  }\n  const date = new Date(timestamp * 1000);\n  const dtf = new Intl.DateTimeFormat('en-US', { dateStyle: 'full', timeStyle: 'short'});\n\n  return dtf.format(date);\n};\n\nexport const date = (postTimestamp: number, style: Intl.RelativeTimeFormatStyle = 'short', since?: number) => {\n  const today = since ?? Math.floor((new Date()).getTime() / 1000);\n  const date = new Date(postTimestamp * 1000);\n\n  const minute = 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const week = day * 7;\n  const month = day * 30;\n  const year = month * 12;\n\n  const rtf = new Intl.RelativeTimeFormat('en', { style });\n\n  const diff = today - postTimestamp;\n\n  if ( diff > year) {\n    const years = Math.floor(diff / year);\n    return { date, label: rtf.format(-years, 'years').replace(' ago', '') };\n  }\n\n  if (diff > month) {\n    const months = Math.floor(diff / month);\n    return { date, label: rtf.format(-months, 'months').replace(' ago', '') };\n  }\n\n  if (diff > week) {\n    const weeks = Math.floor(diff / week);\n    return { date, label: rtf.format(-weeks, 'weeks').replace(' ago', '') };\n  }\n\n  if (diff > day) {\n    const days = Math.floor(diff / day);\n    return { date, label: rtf.format(-days, 'days').replace(' ago', '') };\n  }\n\n  if (diff > hour) {\n    const hours = Math.floor(diff / hour);\n    return { date, label: rtf.format(-hours, 'hours').replace(' ago', '') };\n  }\n\n  if (diff > minute) {\n    const minutes = Math.floor(diff / minute);\n    return { date, label: rtf.format(-minutes, 'minutes').replace(' ago', '') };\n  }\n\n  return { date, label: `${diff}s` };\n};\n\nexport const dateFuture = (postTimestamp: number, style: Intl.RelativeTimeFormatStyle = 'short', since?: number) => {\n  const today = since ?? Math.floor((new Date()).getTime() / 1000);\n  const date = new Date(postTimestamp * 1000);\n\n  const minute = 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const week = day * 7;\n  const month = day * 30;\n  const year = month * 12;\n\n  const rtf = new Intl.RelativeTimeFormat('en', { style });\n\n  const diff = postTimestamp - today;\n\n  if ( diff > year) {\n    const years = Math.floor(diff / year);\n    return { date, label: rtf.format(-years, 'years').replace(' ago', '') };\n  }\n\n  if (diff > month) {\n    const months = Math.floor(diff / month);\n    return { date, label: rtf.format(-months, 'months').replace(' ago', '') };\n  }\n\n  if (diff > week) {\n    const weeks = Math.floor(diff / week);\n    return { date, label: rtf.format(-weeks, 'weeks').replace(' ago', '') };\n  }\n\n  if (diff > day) {\n    const days = Math.floor(diff / day);\n    return { date, label: rtf.format(-days, 'days').replace(' ago', '') };\n  }\n\n  if (diff > hour) {\n    const hours = Math.floor(diff / hour);\n    return { date, label: rtf.format(-hours, 'hours').replace(' ago', '') };\n  }\n\n  if (diff > minute) {\n    const minutes = Math.floor(diff / minute);\n    return { date, label: rtf.format(-minutes, 'minutes').replace(' ago', '') };\n  }\n\n  return { date, label: `${diff}s` };\n};\n"],"names":["shortDate","__name","timestamp","date","longDate","veryLongDate","postTimestamp","style","since","today","minute","hour","day","week","month","year","rtf","diff","years","months","weeks","days","hours","minutes","dateFuture"],"mappings":"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"}